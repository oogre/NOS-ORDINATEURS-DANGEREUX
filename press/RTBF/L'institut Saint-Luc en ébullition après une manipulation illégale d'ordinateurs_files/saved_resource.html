<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0032)https://h4cvfnxcph.kameleoon.eu/ -->
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">	<title>Kameleoon Platform</title>		<script type="text/javascript">var allowedDomains=null;var isDomainAllowed,isSuffix;if(allowedDomains!=null){isSuffix=function(b,c){var a=b.length-c.length;var d=b.lastIndexOf(c,a);return(d>=0)&&(d==a)};isDomainAllowed=function(c){for(var b=0,a=allowedDomains.length;b<a;++b){var d=allowedDomains[b];if(c==d||isSuffix(c,"."+d)){return true}}return false}}else{isDomainAllowed=function(a){return true}}var parentURLLink=document.createElement("a");parentURLLink.href=document.referrer;if(isDomainAllowed(parentURLLink.hostname)){try{if(window.localStorage){localStorage.setItem("kameleoonPrivateMode","false");localStorage.removeItem("kameleoonPrivateMode")}else{window.noLocalStorage=true}}catch(e){window.noLocalStorage=true}if(!window.noLocalStorage){window.retrieve=function(){var g=new Date().getTime();var h={};var b=[];for(var d=0,a=localStorage.length;d<a;++d){var c=localStorage.key(d);if(c.indexOf("kameleoon")==0){try{var f=JSON.parse(localStorage.getItem(c));if("kameleoonTabs"!=c&&g>f.date){b.push(d)}else{h[c]=f.value}}catch(j){}}}for(var d=0,a=b.length;d<a;++d){localStorage.removeItem(localStorage.key(b[d]))}return h};var performBeaconServerCall=function(c,b,a){var d=new XMLHttpRequest();if(d.withCredentials!==undefined||!XDomainRequest){d.open("GET",c,true);if(b){d.onreadystatechange=b}if(a){d.onerror=a}d.send()}else{d=new XDomainRequest();d.open("get",c);if(b){d.onload=b}d.send()}};var processMessageEvent=function(b){var h=document.createElement("a");h.href=b.origin;if(!isDomainAllowed(h.hostname)){return}var f=b.data;if(typeof f!="string"||f.indexOf("kameleoon")!=0){return}f=f.slice("kameleoon".length);try{f=JSON.parse(f)}catch(d){return}if(!f.type){return}var g={callbackId:f.callbackId,kameleoonMessage:true};switch(f.type.toLowerCase()){case"retrieve":g.data=window.retrieve();break;case"set":localStorage.setItem(f.key,JSON.stringify(f.data));break;case"remove":localStorage.removeItem(f.key);break;case"tabcount":var k=localStorage.getItem("kameleoonTabs");k=(k==null)?{}:JSON.parse(k);var l=new Date().getTime();var c=0;for(var j in k){var a=k[j];if(a<l){delete (k[j])}else{++c}}if(!k[f.tabCode]){++c}k[f.tabCode]=f.deadTime;localStorage.setItem("kameleoonTabs",JSON.stringify(k));g.data=c;break;case"kameleoonfull":var m=function(o){b.source.postMessage(JSON.stringify({callbackId:f.callbackId,data:o,kameleoonMessage:true}),b.origin)};var i=sessionStorage.getItem("kameleoonFull");var n=sessionStorage.getItem("kameleoonFullTime");if((null==i)||(null==n)||(new Date().getTime()-parseInt(n)>=12*60*60*1000)){performBeaconServerCall("//"+f.staticHostName+"."+f.domain+"/kameleoon-full"+(f.betaCode?"-beta":"")+".js?cache="+f.cache,function(){if((undefined===this.readyState)||((this.readyState==4)&&(this.status==200))){sessionStorage.setItem("kameleoonFull",this.responseText);sessionStorage.setItem("kameleoonFullTime",new Date().getTime());m(this.responseText)}})}else{m(i)}break}if(["retrieve","set","remove","tabcount"].indexOf(f.type.toLowerCase())!=-1){b.source.postMessage(JSON.stringify(g),b.origin)}};if(!localStorage.getItem("kameleoonTabs")){localStorage.setItem("kameleoonTabs",JSON.stringify({}))}if(window.addEventListener){window.addEventListener("message",processMessageEvent,false);window.addEventListener("storage",function(a){var d=null==a.key?[""]:a.key.split("-");var i=d[0];if(-1!=i.indexOf("kameleoon")){var h;if(null==a.newValue){h=null}else{try{h=JSON.parse(a.newValue).value}catch(f){return}}var c={kameleoonMessage:true};switch(i){case"kameleoonExperiment":c.type=i;var b=d[1];c.experimentId=isNaN(b)?b:parseInt(b);var g;if(h==null){g=null}else{var j=h.split("/")[0];g=isNaN(j)?j:parseInt(j)}c.registeredVariationId=g;break;case"kameleoonPersonalizations":c.type=i;c.active=h==null?null:h.split("/")[0]=="true";break;case"kameleoonData":case"kameleoonDataSimulation":c.type=i;c.value=h==null?null:h;break;case"kameleoonLocalDataConsent":c.type=i;c.saveLocalDataAllowed=h==null?null:h;break}if(null!=c.type){window.parent.postMessage(JSON.stringify(c),"*")}}},false)}}var messageToPost="Kameleoon={};Kameleoon.API={load:function(){Kameleoon.Analyst.load()},runWhenElementPresent:function(e,n,o,t){\"undefined\"===typeof o&&(o=!0);var r=Kameleoon.Utils.querySelectorAll(e);if(!Kameleoon.Internals.runtime.querySelectorAllHasError){if(0<r.length){Kameleoon.Utils.runProtectedFunction(function(){n(r)})}else if(!Kameleoon.Internals.runtime.pageLoaded){if(Kameleoon.Internals.runtime.cantUseMutationObserver||!o){var a=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(a);Kameleoon.API.runWhenElementPresent.apply(Kameleoon,[e,n,o,t])},t||250)}else{var l={};l.selector=e;l.targetFunction=n;l.useAntiFlicker=o;Kameleoon.Internals.runtime.waitingElementPresentObjects.push(l)}}}},runWhenConditionTrue:function(e,n,o){if(e()){Kameleoon.Utils.runProtectedFunction(n)}else if(!Kameleoon.Internals.runtime.pageLoaded){var t=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(t);Kameleoon.API.runWhenConditionTrue.apply(Kameleoon,[e,n,o])},o||200)}},processRedirect:function(e,n){if(window.location.href!=e){if(Kameleoon.Internals.runtime.gathererRun&&1==Kameleoon.Internals.runtime.Visitor.currentVisit.wholeVisitHistory.timesStartedPages.length){}if(n){e=Kameleoon.Utils.addParameterToURL(e,\"kameleoonAVTE-\"+Kameleoon.API.currentContainer.id+\"=\"+Kameleoon.API.currentContainer.registeredVariation.id,!0);e=Kameleoon.Utils.addParameterToURL(e,\"kameleoonRedirect-\"+Kameleoon.API.currentContainer.id+\"=\"+Kameleoon.API.currentContainer.registeredVariationId,!0)}var o=Kameleoon.Internals.runtime.parameters;if(o.kameleoonHeatMap){e+=-1==e.indexOf(\"?\")?\"?\":\"&\";e+=\"kameleoonHeatMap=\"+o.kameleoonHeatMap;e+=\"&kameleoonProgressiveLoading=\"+o.kameleoonProgressiveLoading;e+=\"&kameleoonExperimentId=\"+o.kameleoonExperimentId;e+=\"&kameleoonPageWidth=\"+o.kameleoonPageWidth;e+=\"&kameleoonAccountLocale=\"+o.kameleoonAccountLocale;e+=\"&kameleoonVariationId=\"+o.kameleoonVariationId;e+=\"&kameleoonHeatMapRedirect=true\"}if(window.location.href!=e&&!o.kameleoonHeatMapRedirect){Kameleoon.Utils.createLocalData(\"kameleoonRedirect-\"+Kameleoon.API.currentContainer.id,Kameleoon.API.currentContainer.registeredVariationId,1,null,null,!1,null,!0);Kameleoon.API.forceNoFlicker(\"*\");Kameleoon.Internals.runtime.Analyst.applyRedirect=!0;window.location.replace(e)}}},triggerEvent:function(e){Kameleoon.API.runWhenConditionTrue(function(){return!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval},function(){Kameleoon.API.events.push(e);Kameleoon.Analyst.processAllContainers();Kameleoon.Analyst.processAllTargetingSegments();},100)},processConversion:function(e,n,o){this.processConversions(e,n,!1,o)},cancelConversion:function(e,n,o){this.processConversions(e,n,!0,o)},processConversions:function(e,n,o,t){for(var r=0,a=Kameleoon.Internals.configuration.goals.length;r<a;++r){var l=Kameleoon.Internals.configuration.goals[r];if(e==l.id||e==l.name){var i=[];null==t&&i.push({goal:l,revenue:n,negative:o});if(!l.linkedExperimentId){for(var s=0;s<a;++s){var u=Kameleoon.Internals.configuration.goals[s];null!=u.linkedExperimentId&&(null==t&&u.masterGoalId==l.id||null!=t&&(u.linkedExperimentId==t||Kameleoon.Analyst.findExperiment(u.linkedExperimentId).name==t))&&i.push({goal:u,revenue:n,negative:o})}}Kameleoon.Analyst.processConversions(i);break}}},forceNoFlicker:function(e){var n=document.createElement(\"style\");n.setAttribute(\"id\",\"kameleoonPageLoading\");n.setAttribute(\"rel\",\"stylesheet\");n.setAttribute(\"type\",\"text/css\");n.setAttribute(\"media\",\"screen\");var o=e+\" { visibility: hidden !important; background-image: none !important; }\";n.styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o));Kameleoon.Internals.runtime.headNode.appendChild(n)},refresh:function(){Kameleoon.Analyst.refreshForScreenResize()},loadScriptSequentially:function(e){if(e){var n=document.createElement(\"script\");n.src=e;n.setAttribute(\"onload\",\"Kameleoon.API.loadScriptSequentially();\");Kameleoon.Internals.runtime.waitingScripts.push(n);1==Kameleoon.Internals.runtime.waitingScripts.length&&Kameleoon.Internals.runtime.headNode.appendChild(Kameleoon.Internals.runtime.waitingScripts[0])}else{Kameleoon.Internals.runtime.waitingScripts.shift();0<Kameleoon.Internals.runtime.waitingScripts.length&&Kameleoon.Internals.runtime.headNode.appendChild(Kameleoon.Internals.runtime.waitingScripts[0])}},processPageLoaded:function(){Kameleoon.Internals.runtime.pageLoaded=!0;Kameleoon.Utils.removeBlockingStyleSheet();for(var e=0,n=Kameleoon.Internals.runtime.variations.length;e<n;++e){if(Kameleoon.Internals.runtime[\"enginePollerForVariation\"+Kameleoon.Internals.runtime.variations[e].id]){window.clearInterval(Kameleoon.Internals.runtime[\"enginePollerForVariation\"+Kameleoon.Internals.runtime.variations[e].id]);Kameleoon.Internals.runtime[\"enginePollerForVariation\"+Kameleoon.Internals.runtime.variations[e].id]=null}}},setCustomData:function(e,n,o){if(Kameleoon.Internals.runtime.gathererRun){var t=null;for(var r=0,a=Kameleoon.Internals.runtime.Gatherer.configuration.customData.length;r<a;++r){var l=Kameleoon.Internals.runtime.Gatherer.configuration.customData[r];if(null!=l&&l.name==e){t=r;break}}if(null!=t){null==o&&(o=!1);Kameleoon.Gatherer.trackCustomData([t],[n],[o])}}},registerProductPage:function(n,e,o,t){if(null!=n&&n.length>0){var r=e,a=null,l=null,i=null,s=null,u=null,m=null,c=null,d=null,g=null;if(null!=e&&\"object\"==typeof e){r=e.name;a=e.categoryId;o=e.category;l=e.pictureHref;t=e.price;i=e.available;s=e.brand;u=e.child;m=e.gender;c=e.sizes;d=e.type;g=e.feature}t=parseFloat(t);isNaN(t)&&(t=null);Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.proxyMode||Kameleoon.Analyst.validateTrackingRequest(function(){var e=\"m\"==m||\"M\"==m||\"f\"!=m&&\"F\"!=m&&null;Kameleoon.Utils.performBeaconServerCall(Kameleoon.Analyst.obtainProductTrackingRequestPrefix(n.toString())+\"event=productPage\"+\"&siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&ean=\"+encodeURIComponent(n.toString())+(null==r?\"\":\"&name=\"+encodeURIComponent(r.toString()))+(null==a?\"\":\"&categoryId=\"+encodeURIComponent(a.toString()))+(null==o?\"\":\"&category=\"+encodeURIComponent(o.toString()))+\"&href=\"+encodeURIComponent(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())+(null==l?\"\":\"&pictureHref=\"+encodeURIComponent(l.toString()))+(null==t?\"\":\"&price=\"+t)+(null==i?\"\":\"&available=\"+i)+(null==s?\"\":\"&brand=\"+s)+(null==u?\"\":\"&child=\"+u)+(null==e?\"\":\"&male=\"+e)+(null==c?\"\":\"&sizes=\"+encodeURIComponent(JSON.stringify(c)))+(null==d?\"\":\"&type=\"+d)+(null==g?\"\":\"&feature=\"+g),null,null)}.bind(this));Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Gatherer.trackProduct(n);Kameleoon.Internals.runtime.product={ean:n,name:r,categoryId:a,category:o,pictureHref:l,price:t,available:i,brand:s,child:u,gender:m,sizes:c,type:d,feature:g};Kameleoon.API.currentProduct=Kameleoon.Utils.clone(Kameleoon.Internals.runtime.product);}},registerProductAddToCart:function(e,n){if(null!=e&&e.length>0){n=parseInt(n);isNaN(n)&&(n=0);n>0&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.proxyMode||Kameleoon.Analyst.validateTrackingRequest(function(){Kameleoon.Utils.performBeaconServerCall(Kameleoon.Analyst.obtainProductTrackingRequestPrefix(e.toString())+\"event=productAddToCart\"+\"&siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&ean=\"+encodeURIComponent(e.toString())+\"&quantity=\"+n,null,null);}.bind(this)))}},registerProductBuy:function(e,n){if(null!=e&&e.length>0){n=parseInt(n);isNaN(n)&&(n=0);n>0&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.proxyMode||Kameleoon.Analyst.validateTrackingRequest(function(){Kameleoon.Utils.performBeaconServerCall(Kameleoon.Analyst.obtainProductTrackingRequestPrefix(e.toString())+\"event=productBuy\"+\"&siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&ean=\"+encodeURIComponent(e.toString())+\"&quantity=\"+n,null,null)}.bind(this)))}},registerProductsBuy:function(e){for(var o=0;o<e.length;++o){var t=e[o];this.registerProductBuy(t.ean,t.quantity)}},registerProductCategory:function(e){},registerRemoveProductCart:function(e,n){},getMetrics:function(e,n){if(Kameleoon.Internals.runtime.gathererRun){switch(e){case\"pages\":return Kameleoon.Internals.runtime.Visitor.currentVisit.wholeVisitHistory.timesStartedPages.length;case\"time\":var o=(new Date).getTime()-Kameleoon.Internals.runtime.Visitor.currentVisit.timeStarted;if(\"s\"==n){return Math.floor(o/1e3)}return o;default:return null}}return null},retrieveData:function(e,n){Kameleoon.Utils.performBeaconServerCall(\"//api-data.\"+Kameleoon.Internals.configuration.DOMAIN+\"/data?siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&key=\"+e,function(){if(4==this.readyState){var e={};200==this.status&&(e=Kameleoon.Utils.JSONParse(this.responseText));n&&n(e)}},null)},getRecommendedProducts:function(e,n,o,t){},Core:{enableLegalConsent:function(){Kameleoon.Analyst.allowSaveLocalData()}}};Kameleoon.Analyst={CODE_ALPHABET:\"abcdefghijklmnopqrstuvwxyz0123456789\",load:function(){document.removeEventListener(\"visibilitychange\",window.kameleoonLoadFromVisibility);delete window.kameleoonLoadFromVisibility;if(\"prerender\"==document.visibilityState){window.kameleoonLoadFromVisibility=function(){Kameleoon.Analyst.load()};document.addEventListener(\"visibilitychange\",window.kameleoonLoadFromVisibility);return}var currentTime=(new Date).getTime();if(null!=Kameleoon.Internals.runtime){if(null!=Kameleoon.Internals.runtime.eventListeners){for(var i=0,l=Kameleoon.Internals.runtime.eventListeners.length;i<l;++i){var eventListener=Kameleoon.Internals.runtime.eventListeners[i];eventListener.element.removeEventListener(eventListener.eventType,eventListener.actionFunction,eventListener.useCapture)}}if(null!=Kameleoon.Internals.runtime.timeoutIds){for(var timeoutId in Kameleoon.Internals.runtime.timeoutIds){Kameleoon.Utils.clearTimeout(timeoutId)}}if(null!=Kameleoon.Internals.runtime.intervalIds){for(var intervalId in Kameleoon.Internals.runtime.intervalIds){Kameleoon.Utils.clearInterval(intervalId)}}null!=Kameleoon.Internals.runtime.mutationObserver&&Kameleoon.Internals.runtime.mutationObserver.disconnect();if(null!=Kameleoon.Internals.runtime.Analyst){null!=Kameleoon.Internals.runtime.Analyst.targetingPanel&&null!=Kameleoon.Internals.runtime.Analyst.targetingPanel.parentNode&&Kameleoon.Internals.runtime.Analyst.targetingPanel.parentNode.removeChild(Kameleoon.Internals.runtime.Analyst.targetingPanel);null!=Kameleoon.Internals.runtime.Analyst.targetingPanelHideButton&&null!=Kameleoon.Internals.runtime.Analyst.targetingPanelHideButton.parentNode&&Kameleoon.Internals.runtime.Analyst.targetingPanelHideButton.parentNode.removeChild(Kameleoon.Internals.runtime.Analyst.targetingPanelHideButton);null!=Kameleoon.Internals.runtime.Analyst.targetingPanelShowButton&&null!=Kameleoon.Internals.runtime.Analyst.targetingPanelShowButton.parentNode&&Kameleoon.Internals.runtime.Analyst.targetingPanelShowButton.parentNode.removeChild(Kameleoon.Internals.runtime.Analyst.targetingPanelShowButton)}}var kameleoonInternalsConfigurationSave=Kameleoon.Internals.configuration;Kameleoon.Internals={};Object.defineProperty(Kameleoon.Internals,\"runtime\",{enumerable:!0,get:function(){return runtime},set:function(e){null==Kameleoon.Internals.configuration&&(runtime=e)}});Kameleoon.Internals.runtime={};Kameleoon.Internals.runtime.loadTime=currentTime;Kameleoon.Internals.configuration=kameleoonInternalsConfigurationSave;Kameleoon.Internals.runtime.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport;Kameleoon.Internals.runtime.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe;Kameleoon.API.pageCallbacks=null;Kameleoon.API.activityCallbacks=null;Kameleoon.API.interestsCallbacks=null;Kameleoon.API.searchCallbacks=null;Kameleoon.API.conversionCallbacks=null;Kameleoon.API.targetingSegmentCallbacks=null;Kameleoon.API.experimentCallbacks=null;Kameleoon.API.personalizationCallbacks=null;Kameleoon.API.weatherCallbacks=null;Kameleoon.API.customDatumCallbacks=null;Kameleoon.API.tabCountCallbacks=null;Kameleoon.API.productCallbacks=null;Kameleoon.API.geolocationCallbacks=null;Kameleoon.API.numberClicksCallbacks=null;Kameleoon.API.adBlockerCallbacks=null;Kameleoon.API.ipCallbacks=null;Kameleoon.API.externalSolutionDataCallbacks=null;Kameleoon.API.startOfVisitCallbacks=null;Kameleoon.API.mentalistPredictionSegmentTargetingCallbacks=null;var elements;elements=Kameleoon.Utils.querySelectorAll(\"[id^=kameleoonElement]\");for(var i=0,l=elements.length;i<l;++i){var element=elements[i];element.parentNode.removeChild(element)}elements=Kameleoon.Utils.querySelectorAll(\"[id^=kameleoonScenarioLayerBase]\");for(var i=0,l=elements.length;i<l;++i){var element=elements[i];element.parentNode.removeChild(element)}elements=Kameleoon.Utils.querySelectorAll(\"[id^=kameleoonStyleSheet]\");for(var i=0,l=elements.length;i<l;++i){var element=elements[i];element.parentNode.removeChild(element)}elements=Kameleoon.Utils.querySelectorAll(\"[id^=kameleoonId]\");for(var i=0,l=elements.length;i<l;++i){var element=elements[i];element.removeAttribute(\"id\")}elements=Kameleoon.Utils.querySelectorAll(\"[class^=kameleoonClass]\");for(var i=0,l=elements.length;i<l;++i){var element=elements[i];element.removeAttribute(\"class\")}var variationSelectionPopup=document.getElementById(\"kameleoonVariationSelectionPopup\");null!=variationSelectionPopup&&variationSelectionPopup.parentNode.removeChild(variationSelectionPopup);Kameleoon.Utils.domReady(function(){Kameleoon.Internals.runtime.domReady=!0});if(!Kameleoon.Internals.runtime.iframeLocalStorage){try{if(window.localStorage){localStorage.setItem(\"kameleoonPrivateMode\",\"false\");localStorage.removeItem(\"kameleoonPrivateMode\")}else{Kameleoon.Internals.runtime.noLocalStorage=!0}}catch(e){Kameleoon.Internals.runtime.noLocalStorage=!0}}try{var cookieEnabled;Kameleoon.Utils.createLocalData(\"kameleoonTestCookie\",\"test\",null,\"CURRENT_HOST\",\"COOKIE\",!1,null,!0);if(\"test\"!=Kameleoon.Utils.readLocalData(\"kameleoonTestCookie\",\"COOKIE\",!1)){cookieEnabled=!1}else{cookieEnabled=!0;Kameleoon.Utils.eraseLocalData(\"kameleoonTestCookie\",\"CURRENT_HOST\",\"COOKIE\")}cookieEnabled||(Kameleoon.Internals.runtime.noCookie=!0)}catch(e){Kameleoon.Internals.runtime.noCookie=!0}if(window.kameleoonDisplayPage){if(null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById(\"kameleoonLoadingStyleSheet\")){window.clearTimeout(window.kameleoonDisplayPageTimeOut)}else if(!Kameleoon.Internals.runtime.noLocalStorage&&null==window.kameleoonEndLoadTime){switch(Kameleoon.Internals.configuration.behaviorWhenTimeout){case\"VISIT\":sessionStorage.setItem(\"kameleoonDisableForVisit\",\"true\");break;case\"PAGE\":Kameleoon.Internals.runtime.kameleoonDisableForPage=!0;break}}try{window.kameleoonDisplayPage(!0)}catch(e){}}Kameleoon.Utils.addEventListener(window,\"message\",Kameleoon.Utils.processMessageEvent,!1);if(-1!=navigator.userAgent.indexOf(\"Chrome/62\")){var currentScroll={x:window.scrollX,y:window.scrollY};document.documentElement.style.display=\"none\";var fixVisibility=document.documentElement.offsetHeight;document.documentElement.style.display=\"block\";window.scrollTo(currentScroll.x,currentScroll.y)}if(Kameleoon.Internals.runtime.noLocalStorage||Kameleoon.Internals.runtime.noCookie||sessionStorage.getItem(\"kameleoonDisableForVisit\")||Kameleoon.Internals.runtime.kameleoonDisableForPage){return}this.setupKameleoon()},setupKameleoon:function(){Kameleoon.Internals.runtime.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations);Kameleoon.Internals.runtime.experiments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.experiments);Kameleoon.Internals.runtime.personalizations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.personalizations);null!=Kameleoon.Internals.configuration.mentalistTargetingSegments&&(Kameleoon.Internals.runtime.mentalistTargetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.mentalistTargetingSegments));Kameleoon.Internals.runtime.addedIDs=[];Kameleoon.Internals.runtime.addedClasses=[];Kameleoon.Internals.runtime.cantUseMutationObserver=\"function\"!==typeof MutationObserver||Kameleoon.Internals.configuration.disableDomMutationObserver;null==Kameleoon.Internals.runtime.Analyst&&(Kameleoon.Internals.runtime.Analyst={});null==Kameleoon.Internals.runtime.requestedVariations&&(Kameleoon.Internals.runtime.requestedVariations={});Kameleoon.Internals.runtime.mouseDownEvent=\"ontouchend\"in document.documentElement?\"touchend\":\"mousedown\";Kameleoon.Internals.runtime.touchMoveEvent=!1;if(\"touchend\"==Kameleoon.Internals.runtime.mouseDownEvent){Kameleoon.Utils.addEventListener(document,\"touchmove\",function(e){Kameleoon.Internals.runtime.touchMoveEvent=!0});Kameleoon.Utils.addEventListener(document,\"touchstart\",function(e){Kameleoon.Internals.runtime.touchMoveEvent=!1})}if(null!=Kameleoon.Internals.configuration.kameleoonByteLength&&null!=window.kameleoonStartLoadTime){null==window.kameleoonEndLoadTime&&(window.kameleoonEndLoadTime=(new Date).getTime());var kameleoonLoadTime=window.kameleoonEndLoadTime-window.kameleoonStartLoadTime-25;Kameleoon.Internals.runtime.bandwithBytesPerMillisecond=Kameleoon.Internals.configuration.kameleoonByteLength/kameleoonLoadTime}Kameleoon.Internals.runtime.JS_EDITOR_URL=Kameleoon.Internals.configuration.BASE_EDITOR_URL+\"script/editor.js\";Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY=75;Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY=250;Kameleoon.Internals.runtime.OPEN_WEATHER_MAP_APPID=\"c47db1e8ab50752e5f42c72f175b5210\";Kameleoon.Internals.runtime.OPEN_WEATHER_MAP_WEATHER_URL=\"//api.openweathermap.org/data/2.5/weather?APPID=\"+Kameleoon.Internals.runtime.OPEN_WEATHER_MAP_APPID+\"&\";Kameleoon.Internals.runtime.OPEN_WEATHER_MAP_WEATHER_FORECAST_URL=\"//api.openweathermap.org/data/2.5/forecast?APPID=\"+Kameleoon.Internals.runtime.OPEN_WEATHER_MAP_APPID+\"&\";Kameleoon.Internals.runtime.deviceType=bowser.tablet?\"TABLET\":bowser.mobile?\"PHONE\":\"DESKTOP\";Kameleoon.Internals.runtime.mobileDevice=\"TABLET\"==Kameleoon.Internals.runtime.deviceType||\"PHONE\"==Kameleoon.Internals.runtime.deviceType;Kameleoon.Internals.runtime.linux=bowser.linux;Kameleoon.Internals.runtime.mac=bowser.mac;Kameleoon.Internals.runtime.windows=bowser.windows;Kameleoon.Internals.runtime.android=bowser.android;Kameleoon.Internals.runtime.ios=bowser.ios;Kameleoon.Internals.runtime.windowsphone=bowser.windowsphone;Kameleoon.Internals.runtime.gecko=bowser.gecko;Kameleoon.Internals.runtime.webkit=bowser.webkit;Kameleoon.Internals.runtime.browserName=\"\"==bowser.name?null:bowser.name;Kameleoon.Internals.runtime.browserVersion=\"\"==bowser.version?null:parseFloat(bowser.version);Kameleoon.Internals.runtime.msie=bowser.msie;Kameleoon.Internals.runtime.msedge=bowser.msedge;Kameleoon.Internals.runtime.chrome=bowser.chrome;Kameleoon.Internals.runtime.firefox=bowser.firefox;Kameleoon.Internals.runtime.safari=bowser.safari;Kameleoon.Internals.runtime.opera=bowser.opera;Kameleoon.Internals.runtime.modernMsie=Kameleoon.Internals.runtime.msie&&Kameleoon.Internals.runtime.browserVersion>=10;Kameleoon.Internals.runtime.unsupportedBrowser=Kameleoon.Internals.runtime.msie&&!Kameleoon.Internals.runtime.modernMsie||Kameleoon.Internals.runtime.opera&&Kameleoon.Internals.runtime.browserVersion<13;Kameleoon.Internals.configuration.useWideDomainSupport&&Kameleoon.Internals.runtime.safari&&null==window.kameleoonLightIframe&&(Kameleoon.Internals.configuration.useLocalStorage=!1);Kameleoon.Internals.runtime.parameters=Kameleoon.Utils.parseParameters();Kameleoon.Internals.runtime.kameleoonVisibility=document.visibilityState;Kameleoon.Internals.runtime.conversionsEvent=new Kameleoon.Utils.Event;Kameleoon.Internals.runtime.targetingsEvent=new Kameleoon.Utils.Event;Kameleoon.Internals.runtime.memorizedTargetingsEvent=Kameleoon.Internals.runtime.targetingsEvent.memorize();var kameleoonOptout=Kameleoon.Internals.runtime.parameters.kameleoonOptout;if(null!=kameleoonOptout){var optoutValue=parseInt(kameleoonOptout);Kameleoon.Utils.createLocalData(\"kameleoonOptout\",!0,isNaN(optoutValue)?45:optoutValue,null,\"COOKIE\",!1,null,!0)}if(this.shouldAbortSetup()){return}null!=Kameleoon.Mentalist&&(Kameleoon.Internals.runtime.mentalistRun=Kameleoon.Mentalist.computeIsSecure());Kameleoon.Internals.runtime.headNode=document.getElementsByTagName(\"head\")[0];Kameleoon.Internals.runtime.waitingScripts=[];Kameleoon.Internals.runtime.pageElementSets=[];Kameleoon.Internals.runtime.waitingElementPresentObjects=[];Kameleoon.Internals.runtime.editorMode=\"true\"==Kameleoon.Internals.runtime.parameters.kameleoon;Kameleoon.Internals.runtime.proxyMode=\"proxy.\"+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname;Kameleoon.Internals.runtime.disableCache=\"true\"==Kameleoon.Internals.runtime.parameters.kameleoonDisableCache||Kameleoon.Internals.runtime.parameters.kameleoonVariationId;Kameleoon.Internals.runtime.kameleoonSelectionIframeMode=\"true\"==Kameleoon.Internals.runtime.parameters.kameleoonSelectionIframeMode;Kameleoon.Internals.configuration.activePersonalizations=[];Kameleoon.Internals.configuration.displayedPersonalizations=[];Kameleoon.Internals.runtime.apiPersonalizations=new Kameleoon.Analyst.APIPersonalizations;Kameleoon.Internals.runtime.pageStartTime=(new Date).getTime();Kameleoon.Internals.runtime.virtualRootElement=document.createElement(\"div\");if(window.parent!=window){try{Kameleoon.Internals.runtime.editorMode=Kameleoon.Internals.runtime.editorMode||window.parent.location.search&&-1!=window.parent.location.search.indexOf(\"kameleoon=true\")}catch(e){}}Kameleoon.Utils.addEventListener(window,\"message\",Kameleoon.Utils.processMessageEvent,!1);Kameleoon.Internals.runtime.iframeLocalStorage||window.addEventListener(\"storage\",function(e){var n=null==e.key?[\"\"]:e.key.split(\"-\");var a=n[0];if(-1!=a.indexOf(\"kameleoon\")){var o;if(null==e.newValue){o=null}else{try{o=JSON.parse(e.newValue).value}catch(e){return}}var t={};switch(a){case\"kameleoonExperiment\":t.type=a;var i=n[1];t.experimentId=isNaN(i)?i:parseInt(i);var r;if(null==o){r=null}else{var l=o.split(\"/\")[0];r=isNaN(l)?l:parseInt(l)}t.registeredVariationId=r;break;case\"kameleoonPersonalizations\":t.type=a;t.active=null==o?null:\"true\"==o.split(\"/\")[0];break;case\"kameleoonData\":case\"kameleoonDataSimulation\":t.type=a;t.value=null==o?null:o;break;case\"kameleoonLocalDataConsent\":t.type=a;t.saveLocalDataAllowed=null==o?null:o;break}null!=t.type&&Kameleoon.Utils.processStorageData(t)}}.bind(this),!1);if(Kameleoon.Internals.configuration.abtestingSetup||Kameleoon.Internals.configuration.personalizationSetup){if(Kameleoon.Internals.runtime.parameters.kameleoonVariationId){Kameleoon.Internals.runtime.experiments=[]}else{for(var i=0,l=Kameleoon.Internals.runtime.experiments.length;i<l;++i){Kameleoon.Internals.runtime.experiments[i].targeting=void 0}}Kameleoon.API.events=[];Kameleoon.API.experiments=Kameleoon.Internals.runtime.experiments;this.obtainSimulationModeData();}else{this.setupAfterLocalDataRetrieval()}},APIPersonalizations:function(){var e=[];var n,a;var o=function(){n=Kameleoon.Internals.runtime.personalizations;Kameleoon.API.activePersonalizations=[];Kameleoon.API.displayedPersonalizations=[];t()};var t=function(){a=Kameleoon.API.personalizations=[];a=Kameleoon.Utils.api.mapAll(e,n,a);Kameleoon.API.displayedPersonalizations=Kameleoon.Internals.configuration.displayedPersonalizations;Kameleoon.API.activePersonalizations=Kameleoon.Internals.configuration.activePersonalizations};var i=function(){Kameleoon.API.displayedPersonalizations=Kameleoon.Internals.configuration.displayedPersonalizations;Kameleoon.API.activePersonalizations=Kameleoon.Internals.configuration.activePersonalizations};o();return{update:i,updateAll:t}},shouldAbortSetup:function(){if(Kameleoon.Internals.runtime.parameters.kameleoonDisabled||Kameleoon.Internals.configuration.kameleoonDisabled){return!0}if(Kameleoon.Internals.runtime.unsupportedBrowser){return!0}if(Kameleoon.Utils.readLocalData(\"kameleoonOptout\",\"COOKIE\",!1)){return!0}return!1},obtainSimulationModeData:function(){if(Kameleoon.Internals.runtime.parameters[\"kameleoon-simulation\"]){Kameleoon.Internals.runtime.newSimulationModeData=!0;if(0==Kameleoon.Internals.runtime.parameters[\"kameleoon-simulation\"].indexOf(\"server-call-\")){Kameleoon.Utils.performBeaconServerCall(\"https://\"+Kameleoon.Internals.configuration.API_HOST_NAME+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/simulation?siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&simulationCode=\"+Kameleoon.Internals.runtime.parameters[\"kameleoon-simulation\"].substring(12),function(){4==this.readyState&&200==this.status&&eval(this.responseText+\"//# sourceURL=kameleoonSimulation.js\")},null);return}Kameleoon.Internals.runtime.simulationModeData=Kameleoon.Utils.JSONParse(Kameleoon.Internals.runtime.parameters[\"kameleoon-simulation\"])}this.setupLocalData()},setupLocalData:function(){if(Kameleoon.Internals.runtime.iframeLocalStorage){Kameleoon.Internals.runtime.externalIframe=document.getElementById(\"kameleoonExternalIframe\");Kameleoon.Internals.runtime.postMessageOrigin=window.kameleoonIframeOrigin?window.kameleoonIframeOrigin:Kameleoon.Internals.configuration.IFRAME_ORIGIN;Kameleoon.Internals.runtime.postMessageCallbacks={};if(null==Kameleoon.Internals.configuration.externalIframeData){Kameleoon.Utils.postMessageToExternalIframe(Kameleoon.Utils.JSONStringify({type:\"retrieve\",callbackId:Kameleoon.Utils.addPostMessageCallback(function(e){this.setupLocalDataCallback(e)}.bind(this))}))}else{this.setupLocalDataCallback(Kameleoon.Internals.configuration.externalIframeData);delete Kameleoon.Internals.configuration.externalIframeData}}else{this.setupLocalDataCallback(null)}},loadKameleoonFull:function(n){if(null!=Kameleoon.Internals.configuration.kameleoonFull){this.updateAndEvaluateKameleoonFull(Kameleoon.Internals.configuration.kameleoonFull,n)}else if(Kameleoon.Internals.runtime.iframeLocalStorage){Kameleoon.Utils.postMessageToExternalIframe(Kameleoon.Utils.JSONStringify({type:\"kameleoonfull\",staticHostName:Kameleoon.Internals.configuration.STATIC_HOST_NAME,domain:Kameleoon.Internals.configuration.DOMAIN,betaCode:Kameleoon.Internals.configuration.betaCode,cache:Kameleoon.Utils.obtainRandomString(16),callbackId:Kameleoon.Utils.addPostMessageCallback(function(e){Kameleoon.Analyst.updateAndEvaluateKameleoonFull(e,n)})}))}else{var e=sessionStorage.getItem(\"kameleoonFull\");var a=sessionStorage.getItem(\"kameleoonFullTime\");null==e||null==a||(new Date).getTime()-parseInt(a)>=12*60*60*1e3?Kameleoon.Utils.performBeaconServerCall(\"//\"+Kameleoon.Internals.configuration.STATIC_HOST_NAME+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/kameleoon-full\"+(Kameleoon.Internals.configuration.betaCode?\"-beta\":\"\")+\".js?cache=\"+Kameleoon.Utils.obtainRandomString(16),function(){if(void 0===this.readyState||4==this.readyState&&200==this.status){sessionStorage.setItem(\"kameleoonFull\",this.responseText);sessionStorage.setItem(\"kameleoonFullTime\",(new Date).getTime());Kameleoon.Analyst.updateAndEvaluateKameleoonFull(this.responseText,n)}}):this.updateAndEvaluateKameleoonFull(e,n)}},updateAndEvaluateKameleoonFull:function(kameleoonFull,callback){Kameleoon.Internals.configuration.kameleoonFull=kameleoonFull;eval(kameleoonFull+\"//# sourceURL=kameleoonFull.js\");callback&&callback()},allowSaveLocalData:function(){document.removeEventListener(Kameleoon.Internals.runtime.mouseDownEvent,Kameleoon.Analyst.allowSaveLocalData,!1);window.removeEventListener(\"scroll\",Kameleoon.Analyst.allowSaveLocalData,!1);Kameleoon.Internals.runtime.saveLocalDataAllowed=!0;Kameleoon.Utils.createLocalData(\"kameleoonLocalDataConsent\",!0,380,null,\"LS\",!1,null,!0);var e=null==Kameleoon.Internals.runtime.localDataMap?null:Kameleoon.Internals.runtime.localDataMap[\"LS\"];var n=null==Kameleoon.Internals.runtime.localDataMap?null:Kameleoon.Internals.runtime.localDataMap[\"COOKIE\"];if(null!=e){for(var a in e){Kameleoon.Utils.createLocalData(e[a].name,e[a].value,e[a].days,e[a].domain,e[a].forceLocalAccess,e[a].jsonFormat,null,!0)}}if(null!=n){for(var a in n){Kameleoon.Utils.createLocalData(n[a].name,n[a].value,n[a].days,n[a].domain,n[a].forceLocalAccess,n[a].jsonFormat,null,!0)}}Kameleoon.Internals.runtime.localDataMap=null;Kameleoon.Analyst.processRequestsToValidate()},setupLocalDataCallback:function(e){Kameleoon.Utils.removeBlockingStyleSheet();Kameleoon.Internals.runtime.saveLocalDataAllowed=e?e.kameleoonLocalDataConsent:Kameleoon.Utils.readLocalData(\"kameleoonLocalDataConsent\",\"LS\",!0);if(\"OFF\"==Kameleoon.Internals.configuration.localDataLegalControl||null!=Kameleoon.Internals.runtime.saveLocalDataAllowed||null!=Kameleoon.Internals.runtime.saveLocalDataAllowed||null!=Kameleoon.Internals.configuration.localDataConsentCookieName&&null!=Kameleoon.Utils.readLocalData(Kameleoon.Internals.configuration.localDataConsentCookieName,\"COOKIE\",!1)){Kameleoon.Internals.runtime.saveLocalDataAllowed=!0}else{Kameleoon.Internals.runtime.saveLocalDataAllowed=!1;if(\"INTERACTIVE\"==Kameleoon.Internals.configuration.localDataLegalControl){Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,this.allowSaveLocalData,!1);Kameleoon.Utils.addEventListener(window,\"scroll\",this.allowSaveLocalData,!1)}}if(Kameleoon.Internals.runtime.newSimulationModeData){Kameleoon.Utils.createLocalData(\"kameleoonSimulationMode\",Kameleoon.Internals.runtime.simulationModeData,1/24,null,\"LS\",!0);Kameleoon.Utils.createLocalData(\"kameleoonSimulationModeShortURL\",Kameleoon.Internals.runtime.simulationModeShortURL,1/24,null,\"LS\",!0)}else{Kameleoon.Internals.runtime.simulationModeData=e?e.kameleoonSimulationMode:Kameleoon.Utils.readLocalData(\"kameleoonSimulationMode\",\"LS\",!0);Kameleoon.Internals.runtime.simulationModeShortURL=e?e.kameleoonSimulationModeShortURL:Kameleoon.Utils.readLocalData(\"kameleoonSimulationModeShortURL\",\"LS\",!0)}if(Kameleoon.Internals.runtime.simulationModeData){Kameleoon.Internals.runtime.simulationMode=!0;Kameleoon.Internals.runtime.disableCache=!0;this.loadKameleoonFull(function(){Kameleoon.Analyst.processSimulations.apply(Kameleoon.Analyst)})}if(Kameleoon.Internals.runtime.parameters.kameleoonVariationId){var n=Kameleoon.Internals.runtime.parameters.kameleoonVariationId;var a=e?e[\"kameleoonVariation\"+n]:Kameleoon.Utils.readLocalData(\"kameleoonVariation\"+n,\"LS\",!0);if(null!=a){sessionStorage.setItem(\"kameleoonVariation\"+n,a);Kameleoon.Utils.createLocalData(\"kameleoonVariation\"+n,a,0,null,\"LS\")}var o={id:\"\",name:\"Visualization\",forceTargeting:!0,forceExposition:!0,associatedVariation:{name:\"\",id:n}};Kameleoon.Internals.runtime.variations=[{id:\"reference\",name:\"Reference\",builtCssCodeLevel2:\"\",elementSets:[]}];Kameleoon.Internals.runtime.personalizations.push(o);o.displayedVariation={id:n};this.loadVariationDataForPrevisualization(o)}var g;var I=Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.newSimulationModeData;if(e){try{var p=I&&null!=e.kameleoonDataSimulation?\"kameleoonDataSimulation\":\"kameleoonData\";var f=e[p];if(Kameleoon.Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[p]){var K=Kameleoon.Utils.unobfuscateString(f);g=K&&Kameleoon.Utils.JSONParse(K)||{}}else{g=f}}catch(e){g=null}}else{g=(I?Kameleoon.Utils.readLocalData(\"kameleoonDataSimulation\",\"LS\",!0):null)||Kameleoon.Utils.readLocalData(\"kameleoonData\",\"LS\",!0)}Kameleoon.Internals.runtime.storedData=g||{};Kameleoon.Analyst.setupAfterLocalDataRetrieval();var v={simulation:!0};for(var t=0,i=Kameleoon.Internals.runtime.experiments.length;t<i;++t){v[Kameleoon.Internals.runtime.experiments[t].id]=!0}for(var t=0,i=Kameleoon.Internals.configuration.pausedExperiments.length;t<i;++t){v[Kameleoon.Internals.configuration.pausedExperiments[t]]=!0}var h=[];var S=document.cookie.split(new RegExp(\"; *\"));for(var t=0,i=S.length;t<i;++t){var k=S[t].substring(0,S[t].indexOf(\"=\"));var T;if(0==k.indexOf(\"kameleoonExperiment-\")){var E;null==v[k.substring(\"kameleoonExperiment-\".length)]&&h.push(k)}}var b=window.location.hostname.split(\".\");for(var t=0,i=h.length;t<i;++t){var C=h[t];var y=\"\";for(var A=0,w=b.length;A<w;A++){A>0&&(y=\".\"+y);y=b[w-A-1]+y;Kameleoon.Utils.eraseLocalData(C,y,\"COOKIE\")}}},setupAfterLocalDataRetrieval:function(){Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval=!0;!Kameleoon.Internals.runtime.simulationMode&&Kameleoon.Internals.runtime.parameters.kameleoonHeatMap&&Kameleoon.Internals.runtime.parameters.kameleoonVariationId&&Kameleoon.Utils.performBeaconServerCall(\"https://\"+Kameleoon.Internals.configuration.API_HOST_NAME+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/heatmap\",function(){if(4==this.readyState&&200==this.status){eval(this.responseText+\"//# sourceURL=kameleoonHeatMap.js\");Kameleoon.API.getHeatMap()}},null);Kameleoon.Analyst.processScriptActivityTracking&&Kameleoon.Analyst.processScriptActivityTracking();if(Kameleoon.Internals.configuration.abtestingSetup||Kameleoon.Internals.configuration.personalizationSetup){if(Kameleoon.Gatherer&&Kameleoon.Internals.configuration.Gatherer){Kameleoon.Gatherer.run();Kameleoon.Internals.runtime.gathererRun=!0}else{Kameleoon.Utils.saveStoredData(null)}Kameleoon.Internals.runtime.adblockCheckIntervalId=Kameleoon.Utils.setInterval(function(){var e=document.getElementById(\"adBlockerCheck\");if(null==e&&null!=document.body){(e=document.createElement(\"div\")).id=\"adBlockerCheck\";e.className=\"ad-placement\";document.body.appendChild(e)}if(null!=e&&\"none\"==Kameleoon.Utils.obtainComputedStyle(e).display){Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime.adblockCheckIntervalId);Kameleoon.Internals.runtime.adblock=!0}}.bind(this),50);Kameleoon.Internals.runtime.adblockCheckTimeoutId=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(Kameleoon.Internals.runtime.adblockCheckTimeoutId);var e=document.getElementById(\"adBlockerCheck\");null!=e&&e.parentNode.removeChild(e);if(null==Kameleoon.Internals.runtime.adblock){Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime.adblockCheckIntervalId);Kameleoon.Internals.runtime.adblock=!1}else{Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Gatherer.trackAdBlocker()}}.bind(this),2e3);Kameleoon.Internals.runtime.ghosteryCheckIntervalId=Kameleoon.Utils.setInterval(function(){if(Kameleoon.Utils.querySelectorAll(\"[id^=ghostery-]\").length>0){Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime.ghosteryCheckIntervalId);Kameleoon.Internals.runtime.ghostery=!0}}.bind(this),50);Kameleoon.Internals.runtime.ghosteryCheckTimeoutId=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(Kameleoon.Internals.runtime.ghosteryCheckTimeoutId);if(null==Kameleoon.Internals.runtime.ghostery){Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime.ghosteryCheckIntervalId);Kameleoon.Internals.runtime.ghostery=!1}else{Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Gatherer.trackAdBlocker()}}.bind(this),2e3);if(Kameleoon.Internals.configuration.ip||Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0||Kameleoon.Internals.runtime.simulationMode){var registerIP=function(e){Kameleoon.Internals.runtime.ip=e;var n=!0;for(var a=0,o=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length;a<o;++a){if(Kameleoon.Utils.ipAddressMatchesRange(e,Kameleoon.Internals.configuration.trackerExcludedIPRanges[a])){n=!1;break}}Kameleoon.Internals.runtime.ipIsTrackerAccepted=n;this.processRequestsToValidate();Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Gatherer.trackIP(Kameleoon.Internals.runtime.ip)}.bind(this);var ipString=sessionStorage.getItem(\"KameleoonIP\");null==ipString?Kameleoon.Utils.performBeaconServerCall(\"//tlp-\"+this.obtainTrackerNodeCodeRandom()+\".kameleoon.com/ip.gif\",function(){if(4==this.readyState&&(200==this.status||204==this.status)){ipString=this.getResponseHeader(\"ip\");sessionStorage.setItem(\"KameleoonIP\",ipString);registerIP(ipString)}},function(){Kameleoon.Internals.runtime.ipIsTrackerAccepted=!0;Kameleoon.Analyst.processRequestsToValidate()},1e3):registerIP(ipString)}}this.processAllContainers();this.processAllTargetingSegments();this.checkKameleoonGoals();Kameleoon.Utils.domReady(function(){!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys&&Kameleoon.Loader.enableKameleoonEditorListener();if(Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){var e=document.createElement(\"script\");e.setAttribute(\"type\",\"text/javascript\");e.setAttribute(\"charset\",\"utf-8\");e.setAttribute(\"src\",\"https://\"+Kameleoon.Internals.configuration.API_HOST_NAME+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/get-script?type=selection\");Kameleoon.Internals.runtime.headNode.appendChild(e)}Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.editorEnabled&&Kameleoon.Internals.configuration.abtestingSetup&&Kameleoon.Analyst.loadKameleoonFull(function(){Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)});Kameleoon.Analyst.processGlobalScript.apply(Kameleoon.Analyst);!Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection&&(!Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.editorMode&&Kameleoon.Internals.runtime.editorEnabled)||Kameleoon.Analyst.loadKameleoonFull(function(){Kameleoon.Loader.enableSimulationPanel()})})},processAllContainers:function(){this.setMutationObserver();var e=[];e=(e=e.concat(Kameleoon.Internals.runtime.experiments)).concat(Kameleoon.Internals.runtime.personalizations);this.processContainers(e)},processContainers:function(e){this.internalProcessContainers(e);if(!Kameleoon.Internals.runtime.domReady){var n=[];for(var a=0,o=e.length;a<o;++a){var t=e[a];if(!t.domReadyCallback){t.domReadyCallback=!0;n.push(t)}}Kameleoon.Utils.domReady(function(){Kameleoon.Analyst.internalProcessContainers(n,!0)})}},internalProcessContainers:function(e,n){var a=(new Date).getTime();this.checkContainersTargeting(e);var o=[];for(var t=0,i=e.length;t<i;++t){var r=e[t];if(!0===r.targeting){r.domReadyCallback=!0;if(r.experimentContainer){this.performVariationAssignment(r,!1);null!=r.registeredVariation&&(this.checkCapping(!0,r.id,r.registeredVariation.id,r.registeredVariation,a)||(r.targeting=!1))}else{this.associateContainerAndVariation(r,r.exposition?r.associatedVariation.id:\"reference\",\"BOTH\")}}if(!0===r.targeting&&r.displayedVariation&&r.displayedVariation.elementSets){if(r.experimentContainer&&(\"reference\"!=r.displayedVariation.id||r.executeCodeForReference)){if(r.cssCode&&!r.cssCodeEvaluated){this.addCSSStyleSheet(r.cssCode,r,null);r.cssCodeEvaluated=!0}if(r.javaScriptCode&&!r.javaScriptCodeEvaluated){Kameleoon.Utils.callJavaScriptCode(r.javaScriptCode+\"//# sourceURL=kameleoonContainerJavaScriptCode-\"+r.id+\".js\");r.javaScriptCodeEvaluated=!0}}n||this.initVariationCommands(r.displayedVariation);if(!r.trackingPerformed&&(r.experimentContainer||r.exposition||!r.exposition&&\"CUSTOM_EXPOSITION_RATE\"==r.notExposedReason)){var l=document.createEvent(\"CustomEvent\");l.initCustomEvent(r.experimentContainer?\"Kameleoon::ExperimentTriggered\":\"Kameleoon::PersonalizationTriggered\",!1,!1,{id:r.id,variationId:r.displayedVariation.id});window.dispatchEvent(l)}o.push(r)}}this.performContainersTracking(o);Kameleoon.Internals.runtime.apiPersonalizations.updateAll()},processAllTargetingSegments:function(){Kameleoon.Internals.runtime.targetingSegments&&this.processTargetingSegments(Kameleoon.Internals.runtime.targetingSegments,!1);Kameleoon.Internals.runtime.mentalistTargetingSegments&&this.processTargetingSegments(Kameleoon.Internals.runtime.mentalistTargetingSegments,!0)},processTargetingSegments:function(e,n){this.internalProcessTargetingSegments(e,n);if(!Kameleoon.Internals.runtime.domReady){var a=[];for(var o=0,t=e.length;o<t;++o){var i=e[o];if(!i.domReadyCallback){i.domReadyCallback=!0;a.push(i)}}Kameleoon.Utils.domReady(function(){Kameleoon.Analyst.internalProcessTargetingSegments(a,n)})}},internalProcessTargetingSegments:function(e,n){this.checkTargetingSegmentsTargeting(e,n);var a=[];for(var o=0,t=e.length;o<t;++o){var i=e[o];if(!0===i.targeting){i.domReadyCallback=!0;a.push(i)}}this.performTargetingSegmentsTracking(a,n)},loadVariationData:function(e,n){var a=e.displayedVariation.id;if(n){sessionStorage.removeItem(\"kameleoonVariation\"+a);Kameleoon.Internals.runtime.requestedVariations[a]||this.loadVariationFromServer(e,a,n);Kameleoon.Internals.runtime.requestedVariations[a].simulation=!0}else{var o=sessionStorage.getItem(\"kameleoonVariation\"+a);if(o){Kameleoon.Internals.runtime.variations.push(Kameleoon.Utils.JSONParse(o));Kameleoon.Analyst.associateContainerAndVariation(e,a,\"BOTH\");return}Kameleoon.Internals.runtime.requestedVariations[a]||this.loadVariationFromServer(e,a);var t=e.id;var i=!1;for(var r=0,l=Kameleoon.Internals.runtime.requestedVariations[a].containers.length;r<l;++r){if(t==Kameleoon.Internals.runtime.requestedVariations[a].containers[r].id){i=!0;break}}i||Kameleoon.Internals.runtime.requestedVariations[a].containers.push(e)}},loadVariationDataForPrevisualization:function(e){var n=e.displayedVariation.id;var a=sessionStorage.getItem(\"kameleoonVariation\"+n);if(a){Kameleoon.Internals.runtime.variations.push(Kameleoon.Utils.JSONParse(a));Kameleoon.Analyst.associateContainerAndVariation(e,n,\"BOTH\");return}Kameleoon.Internals.runtime.requestedVariations[n]||this.loadVariationFromServer(e,n,!0);Kameleoon.Internals.runtime.requestedVariations[n].simulation=!0},loadVariationFromServer:function(e,n,a){Kameleoon.Internals.runtime.requestedVariations[n]={containers:[]};if(\"reference\"!=n){var o=\"//\";o+=a?Kameleoon.Internals.configuration.STATIC_DIRECT_HOST_NAME:Kameleoon.Internals.configuration.STATIC_HOST_NAME;o+=\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/css/customers/\"+Kameleoon.Internals.configuration.siteCode+\"/\"+Kameleoon.Internals.configuration.memberCode+\"/\";e.simulationMode&&e.multiVariateTest?o+=\"simulation/\"+n+\"-data.js\":o+=n+\"/data.js\";Kameleoon.Internals.runtime.disableCache&&(o+=\"?cache=\"+Kameleoon.Utils.obtainRandomString(16));Kameleoon.API.forceNoFlicker(\"*\");var t=document.createElement(\"script\");t.setAttribute(\"type\",\"text/javascript\");t.setAttribute(\"charset\",\"utf-8\");t.setAttribute(\"src\",o);Kameleoon.Internals.runtime.headNode.appendChild(t)}},checkKameleoonGoals:function(){var e=[];for(var n=0,a=Kameleoon.Internals.configuration.goals.length;n<a;++n){var o;var t={goal:o=Kameleoon.Internals.configuration.goals[n]};if(\"URL\"==o.type){var i;new RegExp(o.url).test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())&&e.push(t)}if(\"PAGE_VIEWS\"==o.type&&Kameleoon.Internals.runtime.gathererRun){var r=Kameleoon.Internals.runtime.Visitor.currentVisit.wholeVisitHistory.timesStartedPages.length;(null==o.minPageViews||r>=o.minPageViews)&&(null==o.maxPageViews||r<=o.maxPageViews)&&e.push(t)}}e.length>0&&this.processConversions(e);Kameleoon.Internals.runtime.conversionsProcessingEngagement=[];for(var n=0,a=Kameleoon.Internals.configuration.goals.length;n<a;++n){var o;\"ENGAGEMENT\"==(o=Kameleoon.Internals.configuration.goals[n]).type&&Kameleoon.Internals.runtime.conversionsProcessingEngagement.push({goal:o})}Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,function(e){Kameleoon.Analyst.processConversions(Kameleoon.Internals.runtime.conversionsProcessingEngagement)},!0);},processConversions:function(e){if(Kameleoon.Internals.runtime.gathererRun){var n=[];if(null!=Kameleoon.Internals.runtime.experiments){for(var a=0,o=Kameleoon.Internals.runtime.experiments.length;a<o;++a){var t=Kameleoon.Internals.runtime.experiments[a];var i=t.registeredVariationId;null!=i&&\"none\"!=i&&n.push(t.id)}}var r=[];for(var l=0,s=e.length;l<s;++l){var m=e[l];var c=m.goal;var u=!0===m.negative;!(u||\"PAGE_VIEWS\"!=c.type&&\"TIME_SPENT\"!=c.type&&\"ENGAGEMENT\"!=c.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(c.id))||c.linkedExperimentId&&-1==n.indexOf(c.linkedExperimentId)||r.push({goalId:c.id,revenue:m.revenue?m.revenue:0,negative:u})}r.length>0&&Kameleoon.Gatherer.trackConversions(r)}},checkTargetingSegmentsTargeting:function(e,n){var a=[];for(var o=0,t=e.length;o<t;++o){var i;null==(i=e[o]).numberTargetingCheckings&&(i.numberTargetingCheckings=0);this.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting||0==i.numberTargetingCheckings,!1)&&a.push(i)}for(var o=0,t=(e=a).length;o<t;++o){var i=e[o];var r=this.checkTargetingTree(null,i?i.targetingTree:null,!1);i.targeting=r.targeting;i.rescheduleTargeting=r.rescheduleTargeting;i.numberTargetingCheckings++}var l=[];for(var o=0,t=e.length;o<t;++o){var i=e[o];this.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting,!1)&&l.push(i)}if(l.length>0){var s=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(s);Kameleoon.Analyst.processTargetingSegments.apply(Kameleoon.Analyst,[l,n])},Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}},checkContainersTargeting:function(e){var n=null;if(Kameleoon.Internals.runtime.simulationModeData){var a=Kameleoon.Internals.runtime.simulationModeData.targetingSegment;a&&(n=a.id)}var r=[];for(var o=0,t=e.length;o<t;++o){var l;null==(l=e[o]).numberTargetingCheckings&&(l.numberTargetingCheckings=0);this.checkIfTargetingMustBeComputed(l.targeting,l.rescheduleTargeting||0==l.numberTargetingCheckings,!l.experimentContainer&&\"CUMULATIVE_WEIGHT\"==l.personalizationCheckConditionsRule)&&r.push(l)}for(var o=0,t=(e=r).length;o<t;++o){var l=e[o];null!=n&&(n!=l.targetingSegmentId&&n!=l.targetingSegment.id||(l.forceTargeting=!0));if(!0===l.forceTargeting){l.targeting=!0}else{var s=!l.experimentContainer&&\"CUMULATIVE_WEIGHT\"==l.personalizationCheckConditionsRule;var m=this.checkTargetingTree(l,l.targetingSegment?l.targetingSegment.targetingTree:null,s);if(s){switch(l.microtargetingMatchType){case\"GREATER\":l.targeting=m.weight>(l.cumulativeWeightOfConditions||0);break;case\"EQUAL\":l.targeting=m.weight==(l.cumulativeWeightOfConditions||0);break;case\"LOWER\":l.targeting=m.weight<l.cumulativeWeightOfConditions;break}}else{l.targeting=m.targeting}l.rescheduleTargeting=m.rescheduleTargeting;l.numberTargetingCheckings++}!0===l.targeting&&(l.experimentContainer?Kameleoon.Internals.runtime.targetedExperiments=!0:Kameleoon.Internals.runtime.targetedPersonalizations=!0)}var z=[];for(var o=0,t=e.length;o<t;++o){var l;if(!1===(l=e[o]).targeting||!l.experimentContainer&&!0===l.targeting&&!1===l.exposition){this.associateContainerAndVariation(l,\"reference\",\"DISPLAYED_VARIATION\");this.removeCSSStyleSheet(l)}this.checkIfTargetingMustBeComputed(l.targeting,l.rescheduleTargeting,!l.experimentContainer&&\"CUMULATIVE_WEIGHT\"==l.personalizationCheckConditionsRule)&&z.push(l)}if(z.length>0){var F=Kameleoon.Utils.setTimeout(function(){Kameleoon.Utils.clearTimeout(F);Kameleoon.Analyst.processContainers.apply(Kameleoon.Analyst,[z])},Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}e.length&&Kameleoon.Internals.runtime.targetingsEvent.emit(e)},checkTargetingTree:function(e,n,a){var o;if(null==n){o={targeting:!0,rescheduleTargeting:!1};a&&(o.weight=0)}else{null==n.numberTargetingCheckings&&(n.numberTargetingCheckings=0);if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting||0==n.numberTargetingCheckings,a)){if(null!=n.targetingCondition){o=this.checkTargetingCondition(e,n.targetingCondition)}else{var t=this.checkTargetingTree(e,n.leftChild,a);var i=Kameleoon.Internals.runtime.simulationMode||a;if(!i){switch(t.targeting){case!0:n.orOperator||(i=!0);break;case!1:n.orOperator&&(i=!0);break;case void 0:default:i=!0;break}}var r=null;i&&(r=this.checkTargetingTree(e,n.rightChild,a));var l;switch(t.targeting){case!0:if(n.orOperator){l=!0}else{switch(r.targeting){case!0:l=!0;break;case!1:l=!1;break;case void 0:default:l=void 0;break}}break;case!1:if(n.orOperator){switch(r.targeting){case!0:l=!0;break;case!1:l=!1;break;case void 0:default:l=void 0;break}}else{l=!1}break;case void 0:default:if(n.orOperator){switch(r.targeting){case!0:l=!0;break;case!1:l=void 0;break;case void 0:default:l=void 0;break}}else{switch(r.targeting){case!0:l=void 0;break;case!1:l=!1;break;case void 0:default:l=void 0;break}}break}o={targeting:l,rescheduleTargeting:this.checkIfTargetingMustBeComputed(l,t.rescheduleTargeting||i&&r.rescheduleTargeting,a)};if(a){var s;s=n.orOperator?Math.max(t.weight,r.weight):t.weight+r.weight;o.weight=s}}n.targeting=o.targeting;n.rescheduleTargeting=o.rescheduleTargeting;a&&(n.weight=o.weight)}else{o={targeting:n.targeting,rescheduleTargeting:!1};a&&(o.weight=n.weight)}n.numberTargetingCheckings++}return o},checkTargetingCondition:function(e,n){var a;null==n.numberTargetingCheckings&&(n.numberTargetingCheckings=0);if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting||0==n.numberTargetingCheckings,void 0)){var o=Kameleoon.Analyst[\"evaluateTargeting_\"+n.type];var t;null==(t=null!=o?o.bind(this)(n,e):null)&&(t={targeting:void 0,rescheduleTargeting:!1});var i=t.targeting;!0!==n.include&&(void 0===i?!0===t.excludedUndefinedIsTargeted&&(i=!0):i=!i);a={targeting:i,rescheduleTargeting:this.checkIfTargetingMustBeComputed(i,t.rescheduleTargeting,void 0)};n.targeting=a.targeting;n.rescheduleTargeting=a.rescheduleTargeting}else{a={targeting:n.targeting,rescheduleTargeting:!1}}!0===a.targeting?a.weight=n.weight:a.weight=0;n.numberTargetingCheckings++;return a},checkIfTargetingMustBeComputed:function(e,n,a){var o;return!0===n&&(void 0===e||!1===e&&!0===a)},initVariationCommands:function(e){if(!e||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){return}Kameleoon.API.currentContainer=e.container;if(e.forceNoFlicker&&!Kameleoon.Internals.runtime.domReady){var i=\"\";for(var a=0,o=e.elementSets.length;a<o;++a){i+=(0!=a?\", \":\"\")+e.elementSets[a].selector}Kameleoon.API.forceNoFlicker(i)}if(!e.styleSheetAdded){this.addCSSStyleSheet(e.builtCssCodeLevel2,e.container,null);e.styleSheetAdded=!0}e.javaScriptCode&&!e.javaScriptCode.afterDOMReady&&this.applyJavascriptCode(e);this.processVariationCommands(e)},processVariationCommands:function(n){if(!n){return}var e=n.container;n.javaScriptCode&&n.javaScriptCode.afterDOMReady&&!n.permanentRefreshActive&&Kameleoon.Utils.domReady(function(){Kameleoon.Analyst.applyJavascriptCode(n)});n.forceNoFlicker&&!n.permanentRefreshActive&&Kameleoon.Utils.removeBlockingStyleSheet();if(Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]&&!n.permanentRefreshActive){window.clearInterval(Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]);Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]=null}if(!Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){n.permanentRefreshActive=!0;Kameleoon.Internals.runtime.listenVariations||(Kameleoon.Internals.runtime.listenVariations=[]);Kameleoon.Internals.runtime.listenVariations.push(n);Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]=!0;Kameleoon.Internals.runtime.cantUseMutationObserver&&(Kameleoon.Internals.runtime[\"enginePollerForVariation\"+n.id]=Kameleoon.Utils.setInterval(function(){Kameleoon.Analyst.processVariationCommands.apply(Kameleoon.Analyst,[n])},10))}},applyJavascriptCode:function(e){if(e.javaScriptCode&&e.javaScriptCode.code&&!e.javaScriptCode.evaluated){Kameleoon.Utils.callJavaScriptCode(e.javaScriptCode.code+\"//# sourceURL=kameleoonVariationJavaScriptCode-\"+e.id+\".js\");e.javaScriptCode.evaluated=!0}},setMutationObserver:function(){if(Kameleoon.Internals.runtime.cantUseMutationObserver){return}Kameleoon.Analyst.fillInternalObjectsForMutationObserver();var e=document.documentElement,n;Kameleoon.Internals.runtime.mutationObserver||(Kameleoon.Internals.runtime.mutationObserver=new MutationObserver(function(e){e.forEach(function(e){var n=!0,a=e.addedNodes,o=e.removedNodes,t=Kameleoon.Internals.runtime.listenVariations;Kameleoon.Analyst.removeMutationElementsFromInternalObjects(o);Kameleoon.Analyst.addMutationElementsToInternalObjects(a);var i=Array.prototype.slice.call(a);var r=Array.prototype.slice.call(o);var l=i.concat(r);for(var s=0;s<l.length;++s){var m=l[s];var c=m.parentNode;(Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&m&&m.id&&\"string\"==typeof m.id&&null!==m.id.match(\"kameleoon\")&&m.closest&&null!==m.closest(\".KameleoonProtected\")&&(n=!1);n&&m&&m.innerHTML&&\"childList\"===e.type&&Kameleoon.Analyst.fillInternalObjectsForMutationObserver(m);n&&m&&t&&t.forEach(function(n){n.elementSets&&n.elementSets.forEach(function(e){if((!e.evaluated||!(e.options.autoGeneratedSelector||e.options.idSelector||e.options.domOperation))&&Kameleoon.Analyst.checkIDsForSelector(e)&&Kameleoon.Analyst.checkClassesForSelector(e)&&Kameleoon.Analyst.checkContainsTextesForSelector(e,m)&&(!n.container||n.container.targeting)){e.evaluated=!0;Kameleoon.Analyst.processElementSet(e,n,!1,n.permanentRefreshActive,n.editionMode,c)}});if(n.replaceData&&m.nodeType===Node.TEXT_NODE&&(!m.parentNode||\"SCRIPT\"!==m.parentNode.nodeName&&\"STYLE\"!==m.parentNode.nodeName)){var e=JSON.parse(n.replaceData);for(var a=0;a<e.length;++a){var o=new RegExp(e[a].toReplace,\"gi\");if(!e[a].disabled&&m.nodeValue&&o.test(m.nodeValue)){Kameleoon.Analyst.saveElementOriginalData(m);m.kameleoonData.powered=!0;m.nodeValue=m.nodeValue.replace(o,e[a].replaceBy)}}}});if(n&&m){for(var u=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;u>=0;u-=1){var d=Kameleoon.Internals.runtime.waitingElementPresentObjects[u];if(d&&d.useAntiFlicker&&Kameleoon.Analyst.checkIDsForSelector(d)&&Kameleoon.Analyst.checkClassesForSelector(d)&&Kameleoon.Analyst.checkContainsTextesForSelector(d,m)){var g=Kameleoon.Utils.querySelectorAll(d.selector,c);if(0<g.length){Kameleoon.Utils.runProtectedFunction(function(){d.targetFunction(g)});Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(u,1)}}}}}})}));n={attributes:!0,childList:!0,characterData:!0,subtree:!0};\"function\"===typeof Kameleoon.Internals.runtime.mutationObserver.observe&&Kameleoon.Internals.runtime.mutationObserver.observe(e,n)},addMutationElementsToInternalObjects:function(e){for(var n=0;n<e.length;++n){var a=e[n];a&&a.id&&-1===Kameleoon.Internals.runtime.addedIDs.indexOf(\"#\"+a.id)&&Kameleoon.Internals.runtime.addedIDs.push(\"#\"+a.id);if(a&&a.className&&\"string\"===typeof a.className){var o=a.className.split(\" \");for(var t=0;t<o.length;++t){-1===Kameleoon.Internals.runtime.addedClasses.indexOf(\".\"+o[t])&&Kameleoon.Internals.runtime.addedClasses.push(\".\"+o[t])}}}},removeMutationElementsFromInternalObjects:function(e){for(var n=0;n<e.length;++n){var a=e[n];if(a&&a.id&&-1!==Kameleoon.Internals.runtime.addedIDs.indexOf(\"#\"+a.id)){var o=Kameleoon.Internals.runtime.addedIDs.indexOf(a.id);Kameleoon.Internals.runtime.addedIDs.splice(o,1)}}},fillInternalObjectsForMutationObserver:function(e){e||(e=document);var n=e.getElementsByTagName(\"*\");for(var a=0,o=n.length;a<o;++a){var t=n[a];t.id&&-1===Kameleoon.Internals.runtime.addedIDs.indexOf(\"#\"+t.id)&&Kameleoon.Internals.runtime.addedIDs.push(\"#\"+t.id);if(t.className&&\"string\"===typeof t.className){var i=t.className.split(\" \");for(var r=0;r<i.length;++r){-1===Kameleoon.Internals.runtime.addedClasses.indexOf(\".\"+i[r])&&Kameleoon.Internals.runtime.addedClasses.push(\".\"+i[r])}}}},checkIDsForSelector:function(e){var n=e.selector;var a;e.currentQuery&&(a=e.currentQuery);var o;e.options&&(o=e.options.domReference);var t=[];if(!n||-1===n.indexOf(\"#\")){return!0}if(!e.selectorIDs||0===e.selectorIDs.length){if(-1!==n.indexOf(\"contains\")){var i=n.match(/:contains\\(['\"]([\\s\\S]+)['\"]\\)/);var r;t=n.replace(i[0],\"\").match(/#([^\\s:\\[]+)/g)}else{t=n.match(/#([^\\s:\\[>]+)/g)}e.selectorIDs=t;if(a&&-1!==a.indexOf(\"#\")){if(-1!==a.indexOf(\"contains\")){var i=a.match(/:contains\\(['\"]([\\s\\S]+)['\"]\\)/);var l;t=a.replace(i[0],\"\").match(/#([^\\s:\\[]+)/g)}else{t=a.match(/#([^\\s:\\[]+)/g)}}for(var s=0,m=t.length;s<m;++s){-1===e.selectorIDs.indexOf(t[s])&&e.selectorIDs.push(t[s])}}for(var c=0,u=e.selectorIDs.length;c<u;++c){var d=e.selectorIDs[c];if(-1!==d.indexOf(\"kameleoonElement\")){if(o&&!Kameleoon.Analyst.checkIDsForSelector({selector:o,checkDomReference:!0})){return!1}if(e.checkDomReference&&-1===Kameleoon.Internals.runtime.addedIDs.indexOf(d)){return!1}}else if(-1===Kameleoon.Internals.runtime.addedIDs.indexOf(d)){return!1}}return!0},checkClassesForSelector:function(e){var n=e.selector;var a=[];if(!n||-1===n.indexOf(\".\")){return!0}if(!e.selectorClasses||0===e.selectorClasses.length){if(-1!==n.indexOf(\"contains\")){var o=n.match(/:contains\\(['\"]([\\s\\S]+)['\"]\\)/);var t;a=n.replace(o[0],\"\").match(/\\.([^\\s.:\\[]+)/g)}a=n.match(/\\.([^\\s.:\\[]+)/g);e.selectorClasses=a}for(var i=0,r=e.selectorClasses.length;i<r;++i){var l=e.selectorClasses[i];if(-1===l.indexOf(\"kameleoon\")&&-1===Kameleoon.Internals.runtime.addedClasses.indexOf(l)){return!1}}return!0},checkContainsTextesForSelector:function(e,n){var a=e.selector;var o;if(n&&n.nodeType==Node.TEXT_NODE){if(!a||-1===a.indexOf(\"contains\")){return!1}if(!e.selectorContainsText){var t;o=a.match(/:contains\\(['\"]([\\s\\S]+)['\"]\\)/)[1];e.selectorContainsText=o;if(n.nodeValue&&-1===n.nodeValue.indexOf(o)){return!1}}}return!0},processGlobalScript:function(){if(Kameleoon.Internals.configuration.globalScript&&!Kameleoon.Internals.runtime.globalScriptProcessed&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){Kameleoon.Internals.runtime.globalScriptProcessed=!0;eval(Kameleoon.Internals.configuration.globalScript+\"//# sourceURL=kameleoonGlobalScript.js\")}},performTargetingSegmentsTracking:function(e,n){if(Kameleoon.Internals.runtime.gathererRun){var a=[];for(var o=0,t=e.length;o<t;++o){a.push(e[o].id)}n?Kameleoon.Internals.runtime.mentalistRun&&Kameleoon.Gatherer.trackMentalistPredictionSegmentTargeting(a,Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(!1)):Kameleoon.Gatherer.trackTargetingSegments(a)}},performContainersTracking:function(containers){var containersTrackingNotPerformed=[];for(var i=0,l=containers.length;i<l;++i){var container=containers[i];if(container.trackingPerformed||!container.registeredVariation){continue}containersTrackingNotPerformed.push(container)}containers=containersTrackingNotPerformed;var containersKameleoonTrackingToTrack=[];var containersKameleoonTrackingNotToTrack=[];for(var i=0,l=containers.length;i<l;++i){var sendContainerTracking=!0;var container=containers[i];if(!container.experimentContainer){\"reference\"!=container.displayedVariation.id&&Kameleoon.Internals.configuration.displayedPersonalizations.push({id:container.id,name:container.name});container.api&&Kameleoon.Internals.configuration.activePersonalizations.push(container.name);\"GLOBAL_CAPPING_NUMBER_VISITORS\"!=container.notExposedReason&&\"SCHEDULING\"!=container.notExposedReason&&\"INTERACTIONS\"!=container.notExposedReason&&\"PRIORITY\"!=container.notExposedReason||(sendContainerTracking=!1);Kameleoon.Internals.runtime.apiPersonalizations.update()}var variation=container.registeredVariation;container.mentalistEnabled&&(variation.name+=\" (Predicteo)\");sendContainerTracking&&(container.experimentContainer||container.exposition||!container.exposition&&\"CUSTOM_EXPOSITION_RATE\"==container.notExposedReason)&&this.validateTrackingRequest(function(){}.bind(this));(container.kameleoonTracking&&sendContainerTracking?containersKameleoonTrackingToTrack:containersKameleoonTrackingNotToTrack).push({type:container.experimentContainer?\"EXPERIMENT\":\"PERSONALIZATION\",id:container.id,variationId:\"reference\"==variation.id?null:container.experimentContainer?variation.id:1,mentalistDecision:!!container.mentalistEnabled});if(container.javaScriptTracking){try{eval(container.javaScriptTracking+\"//# sourceURL=kameleoonContainerJavaScriptTracking-\"+container.id+\".js\")}catch(e){}}container.trackingPerformed=!0}Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Gatherer.trackContainers(containersKameleoonTrackingToTrack,containersKameleoonTrackingNotToTrack)},addCSSStyleSheet:function(e,n,a){if(!e){return}var o=a||document;var t=\"kameleoonStyleSheet\"+(n?\"-\"+n.id:\"\");var i=a?a.getElementById(t):null;var r=\"\";if(i){r=i.textContent;i.parentNode.removeChild(i)}var l=o.createElement(\"style\");l.className=\"KameleoonStyleSheet\";l.setAttribute(\"id\",t);l.setAttribute(\"rel\",\"stylesheet\");l.setAttribute(\"type\",\"text/css\");l.setAttribute(\"media\",\"screen\");var s=r+e;l.styleSheet?l.styleSheet.cssText=s:l.appendChild(document.createTextNode(s));a?o.getElementsByTagName(\"head\")[0].appendChild(l,o.getElementsByTagName(\"head\")[0].firstChild):Kameleoon.Internals.runtime.headNode.appendChild(l);n&&(n.loadedCSSStyleSheet=l)},removeCSSStyleSheet:function(e){if(e.loadedCSSStyleSheet){var n=e.loadedCSSStyleSheet.id.replace(\"kameleoonStyleSheet-\",\"\");if(-1==n.indexOf(\",\")){Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet);e.loadedCSSStyleSheet=null}else{e.loadedCSSStyleSheet.id=\"kameleoonStyleSheet-\"+n.replace(new RegExp(e.id+\",?\"),\"\")}}},findExperiment:function(e){return Kameleoon.Utils.findObjectWithId(e,Kameleoon.Internals.runtime.experiments)},findVariation:function(e){return Kameleoon.Utils.findObjectWithId(e,Kameleoon.Internals.runtime.variations)},associateContainerAndVariation:function(e,a,n){var o=!0;var t=!0;\"REGISTERED_VARIATION\"==n&&(t=!1);\"DISPLAYED_VARIATION\"==n&&(o=!1);if(\"none\"==a){e.trackingPerformed=!0;o=!(a=\"reference\")}var i=this.findVariation(a);var r=\"Reference\";e&&e.variations&&e.variations.forEach(function(e,n){e.id&&e.name&&e.id.toString()==a&&(r=e.name)});var l=e.associatedVariation;e&&l&&a==l.id&&(r=l.name);e&&o&&(e.registeredVariation={id:a,name:r});if(i){if(e&&(Kameleoon.Internals.runtime.simulationMode&&\"simulation\"==e.id||!e.associationMade)){if(o){e.registeredVariation=i;e.associationMade=!0}t&&(e.displayedVariation=i);(i.container=e).experimentContainer?i.experiment=e:i.personalization=e}}else{e.displayedVariation={id:a,name:r}}e.displayedVariation&&!e.displayedVariation.elementSets&&this.loadVariationData(e)},writeExperimentLocalData:function(e){var n=e.registeredVariationId+(e.mentalistEnabled?\"-mentalist\":\"\")+\"/\"+e.assignmentTime+\"/\"+e.counterActive;e.simulationMode||Kameleoon.Utils.createLocalData(\"kameleoonExperiment-\"+e.id,n,e.cookieDuration?e.cookieDuration:30,e.cookieDomain,null,!1)},saveElementOriginalData:function(e,n){if(!e||e.kameleoonData&&e.kameleoonData.originalData){return}e.kameleoonData||(e.kameleoonData={});e.kameleoonData.originalData={};e.kameleoonData.originalData.attributesData={};e.parentNode&&(e.kameleoonData.originalData.parentNode=e.parentNode);if(e.nextSibling){e.kameleoonData.originalData.nextSibling=e.nextSibling;if(3===e.nextSibling.nodeType&&e.previousSibling&&3===e.previousSibling.nodeType&&n&&(\"INSERT_AFTER\"===n||\"INSERT_BEFORE\"===n)){var a=document.createComment(\"ReplaceHolderComment\");var o=e.nextSibling.parentNode.insertBefore(a,e.nextSibling);e.kameleoonData.originalData.placeholderComment=o}}e.href&&(e.kameleoonData.originalData.href=e.getAttribute(\"href\"));e.nodeValue&&(e.kameleoonData.originalData.nodeValue=e.nodeValue);if(e.attributes){for(var t=0,i=e.attributes.length;t<i;++t){var r=e.attributes[t];e.kameleoonData.originalData.attributesData[r.nodeName]=r.nodeValue}}},processUserPosition:function(e,n,a,o){if(a){switch(a.positionMode){case\"ABSOLUTE_KEEP_SPACE\":case\"ABSOLUTE\":if(o){var t=\"ABSOLUTE_KEEP_SPACE\"==a.positionMode?e.kameleoonData.originalData.originalNode.offsetWidth:e.offsetWidth;t&&Kameleoon.Utils.setStyle(n,\"width\",t+\"px\",\"th\"!=n.nodeName.toLowerCase()&&\"td\"!=n.nodeName.toLowerCase())}var i=null;var r=!1;if(a.referenceElement){i=Kameleoon.Utils.querySelectorAll(a.referenceElement)[0];r=!0}i||(i=document.body);if(i&&n.parentNode!=i){n.parentNode.removeChild(n);i.appendChild(n);n.kameleoonData||(n.kameleoonData={});n.kameleoonData.moved=!0}Kameleoon.Utils.setStyle(n,\"position\",\"absolute\",!1);var l=Kameleoon.Utils.obtainComputedStyle(n).left.replace(\"px\",\"\")/a.referenceWidth;Kameleoon.Utils.setStyle(n,\"left\",Math.round(l*i.offsetWidth)+\"px\",!0);r&&this.addRelativePositionToReferenceElement(i);break;case\"RELATIVE\":Kameleoon.Utils.setStyle(n,\"position\",\"\",!1)}Kameleoon.Utils.setStyle(n,\"top\",\"\",!1);Kameleoon.Utils.setStyle(n,\"left\",\"\",!1);Kameleoon.Utils.setStyle(n,\"right\",\"\",!1);Kameleoon.Utils.setStyle(n,\"bottom\",\"\",!1);o||Kameleoon.Utils.setStyle(n,\"width\",\"\",!1);Kameleoon.Utils.setStyle(n,\"height\",\"\",!1)}},addRelativePositionToReferenceElement:function(e){\"absolute\"!=Kameleoon.Utils.obtainComputedStyle(e).position&&document.body!=e&&Kameleoon.Utils.setStyle(e,\"position\",\"relative\",!1)},refreshForScreenResize:function(){for(var e,n=Kameleoon.poweredNodes.length-1;n>=0;--n){this.processUserPosition(Kameleoon.poweredNodes[n].originalElement,Kameleoon.poweredNodes[n].baseElement,data?data.userPosition:null,!0)}},obtainProductTrackingRequestPrefix:function(e){return\"//tlp-\"+this.obtainTrackerNodeCodeDeterministic(e)+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/sitemapper.gif?\"},obtainTrackerNodeCodeRandom:function(){return Kameleoon.Internals.configuration.trackerNodeCodes[Math.floor(Kameleoon.Internals.configuration.trackerNodeCodes.length*Math.random())]},obtainTrackerNodeCodeDeterministic:function(e){return Kameleoon.Internals.configuration.trackerNodeCodes[Math.abs(Kameleoon.Utils.computeStringHash(e,!0))%Kameleoon.Internals.configuration.trackerNodeCodes.length]},isValidTrackerNodeCode:function(e){return Kameleoon.Internals.configuration.trackerNodeCodes.indexOf(e)>=0},obtainTrackerNodeLogParserRandom:function(e){return Math.floor(Math.random()*Kameleoon.Internals.configuration.trackerNodeNumberLogParsers[Kameleoon.Internals.configuration.trackerNodeCodes.indexOf(e)])},obtainTrackerNodeLogParserDeterministic:function(e,n){return Math.abs(Kameleoon.Utils.computeStringHash(n,!0))%Kameleoon.Internals.configuration.trackerNodeNumberLogParsers[Kameleoon.Internals.configuration.trackerNodeCodes.indexOf(e)]},isValidTrackerNodeLogParser:function(e,n){return n>=0&&n<Kameleoon.Internals.configuration.trackerNodeNumberLogParsers[Kameleoon.Internals.configuration.trackerNodeCodes.indexOf(e)]},processRequestsToValidate:function(){var e=Kameleoon.Internals.runtime.trackerRequestsToValidate;if(null!=e){var n=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0;var a=Kameleoon.Internals.configuration.requestsDataLegalControl;if((n&&Kameleoon.Internals.runtime.ipIsTrackerAccepted||!n)&&(a&&Kameleoon.Internals.runtime.saveLocalDataAllowed||!a)){for(var o=0,t=e.length;o<t;++o){e[o]()}delete Kameleoon.Internals.runtime.trackerRequestsToValidate}}},validateTrackingRequest:function(e){if(null!=e){var n=Kameleoon.Internals.runtime.ipIsTrackerAccepted;var a=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0;var o=Kameleoon.Internals.configuration.requestsDataLegalControl;if(a||o){if(a&&null==n||o&&!Kameleoon.Internals.runtime.saveLocalDataAllowed){null==Kameleoon.Internals.runtime.trackerRequestsToValidate&&(Kameleoon.Internals.runtime.trackerRequestsToValidate=[]);Kameleoon.Internals.runtime.trackerRequestsToValidate.push(e)}else{(a&&n||!a)&&e()}}else{e()}}},processSimulationsData:function(){}};Kameleoon.Utils={LOCAL_STORAGE_OBFUSCATED_KEYS:{kameleoonData:true,kameleoonDataSimulation:true},api:{mapAll:function(d,c,a){c.forEach(function(f,e){a.push(Kameleoon.Utils.api.mapItems(d,c,e))});return a},mapItems:function(d,c,a){var g={},f;f=(c.constructor===Array&&a!==undefined)?c[a]:c;for(var e in f){if(f[e]!==undefined&&f[e]!==null&&d.indexOf(e)===-1){g[e]=f[e]}}return g}},addEventListener:function(f,e,d,c){if(Kameleoon.Internals.runtime.eventListeners==null){Kameleoon.Internals.runtime.eventListeners=[]}var a=f.addEventListener(e,d,c);Kameleoon.Internals.runtime.eventListeners.push({element:f,eventType:e,actionFunction:d,useCapture:c});return a},setTimeout:function(){if(Kameleoon.Internals.runtime.timeoutIds==null){Kameleoon.Internals.runtime.timeoutIds={}}var a=window.setTimeout.apply(window,arguments);Kameleoon.Internals.runtime.timeoutIds[a]=true;return a},clearTimeout:function(a){delete Kameleoon.Internals.runtime.timeoutIds[a];window.clearTimeout(a)},setInterval:function(){if(Kameleoon.Internals.runtime.intervalIds==null){Kameleoon.Internals.runtime.intervalIds={}}var a=window.setInterval.apply(window,arguments);Kameleoon.Internals.runtime.intervalIds[a]=true;return a},clearInterval:function(a){delete Kameleoon.Internals.runtime.intervalIds[a];window.clearInterval(a)},findObjectWithId:function(a,d){for(var f=0,c=d.length;f<c;++f){var e=d[f];if(a==e.id){return e}}return null},computeCurrentPageCanonicalURL:function(){if(Kameleoon.Internals.runtime.currentPageCanonicalURL==null){var a=this.querySelectorAll('link[rel=\"canonical\"]');if(a.length>0){Kameleoon.Internals.runtime.currentPageCanonicalURL=a[0].href}}return Kameleoon.Internals.runtime.currentPageCanonicalURL},computeCurrentPageCleanAbsoluteURL:function(){if(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL==null){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(a){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL},computeCurrentPageCleanRelativeURL:function(){if(Kameleoon.Internals.runtime.currentPageCleanRelativeURL==null){Kameleoon.Internals.runtime.currentPageCleanRelativeURL=this.computeRelativeURL(this.computeCurrentPageCleanAbsoluteURL())}return Kameleoon.Internals.runtime.currentPageCleanRelativeURL},computeCurrentPageAbsoluteURLNoProxyMode:function(){if(Kameleoon.Internals.runtime.currentPageAbsoluteURLNoProxyMode==null){if(Kameleoon.Internals.runtime.proxyMode){var e=Kameleoon.Internals.runtime.parameters.kameleoonExperimentId;if(e==null){e=Kameleoon.Internals.runtime.parameters[\"kameleoon-experiment-id\"]}if(e!=null){for(var d=0,c=Kameleoon.Internals.runtime.experiments.length;d<c;++d){var a=Kameleoon.Internals.runtime.experiments[d];if(a.id==e){Kameleoon.Internals.runtime.currentPageAbsoluteURLNoProxyMode=a.baseURL;break}}}}if(Kameleoon.Internals.runtime.currentPageAbsoluteURLNoProxyMode==null){Kameleoon.Internals.runtime.currentPageAbsoluteURLNoProxyMode=window.location.href}}return Kameleoon.Internals.runtime.currentPageAbsoluteURLNoProxyMode},computeURLNoKameleoonParameters:function(a){return a.replace(/(\\?|&|#)kameleoon[^&#]*/g,\"\")},computeURLRegExpNoKameleoonParameters:function(a){return a.replace(/(\\\\\\?|&|#)kameleoon[^&#()]*/g,\"\")},computeRelativeURL:function(d){var c=document.createElement(\"a\");c.href=d;return c.pathname+c.search+c.hash},computeStringSha256:function(n){var k=1,h,q=[],u=[];while(++k<18){for(h=k*k;h<312;h+=k){q[h]=1}}function t(i,a){return(Math.pow(i,1/a)%1)*4294967296|0}for(k=1,h=0;k<313;){if(!q[++k]){u[h]=t(k,2);q[h++]=t(k,3)}}function g(i,a){return(i>>>a)|(i<<(32-a))}var f=u.slice(k=0),v=this.encodeUTF8(n),c=[],e=v.length,d=[],r,p,o;for(;k<e;){d[k>>2]|=(v.charCodeAt(k)&255)<<8*(3-k++%4)}e*=8;d[e>>5]|=128<<(24-e%32);d[o=(e+64>>5)|15]=e;for(k=0;k<o;k+=16){r=f.slice(h=0,8);for(;h<64;r[4]+=p){if(h<16){c[h]=d[h+k]}else{c[h]=(g(p=c[h-2],17)^g(p,19)^(p>>>10))+(c[h-7]|0)+(g(p=c[h-15],7)^g(p,18)^(p>>>3))+(c[h-16]|0)}r.unshift((p=(r.pop()+(g(b=r[4],6)^g(b,11)^g(b,25))+(((b&r[5])^((~b)&r[6]))+q[h])|0)+(c[h++]|0))+(g(e=r[0],2)^g(e,13)^g(e,22))+((e&r[1])^(r[1]&r[2])^(r[2]&e)))}for(h=8;h--;){f[h]=r[h]+f[h]}}for(v=\"\";h<63;){v+=((f[++h>>3]>>4*(7-h%8))&15).toString(16)}return v},computeStringHash:function(a,e){a=e?this.computeStringSha256(a):a;var d=0;for(var c=0;c<a.length;++c){d=((d<<5)-d)+a.charCodeAt(c);d=d&d}return d},isInsideHoursMinutesRange:function(g,j,e,c,i,d){if(c==0){e--;if(e==-1){e=23}c=60}if((e<g)||((e==g)&&(c<j))){e+=24;if((i<g)||((i==g)&&(d<j))){i+=24}}var a=((i*60)+d)*60*1000;var h=((g*60)+j)*60*1000;var f=((e*60)+c)*60*1000;return(a>=h)&&(a<f)},seededRandom:function(a){var c=this.computeStringHash(a);c=(Math.abs(c)*9301+49297)%233280;return c/233280},testEmptyMap:function(a){return this.JSONStringify(a)===this.JSONStringify({})},JSONParse:function(string){return(((typeof JSON!=\"undefined\")&&JSON.parse)?JSON.parse(string):eval(\"(\"+string+\")\"))},JSONStringify:function(a){var d=null;if((typeof JSON!=\"undefined\"&&JSON.stringify)&&(\"[]\"===JSON.stringify([])||!a.toJSON)){var c=Array.prototype.toJSON;if(c){delete Array.prototype.toJSON}d=JSON.stringify(a);if(c){Array.prototype.toJSON=c}}else{if(a.toJSON&&\"[]\"===[].toJSON()){d=a.toJSON()}else{if((typeof JSON!=\"undefined\"&&JSON.encode)&&\"[]\"===JSON.encode([])){d=JSON.encode(a)}}}return d},performBeaconServerCall:function(d,c,a,f){var e=new XMLHttpRequest();e.open(\"GET\",d,true);if(c){e.onreadystatechange=function(g){c.bind(e)(g)}}if(a){e.onerror=function(g){a.bind(e)(g)};if(null!=f){f=parseInt(f);if(!isNaN(f)){e.timeout=f;e.ontimeout=function(g){a.bind(e)(g)}}}}e.send()},runProtectedFunction:function(c){try{c()}catch(a){if(typeof console!==\"undefined\"&&console.log){console.log(\"An error occurred in one of your Kameleoon custom JavaScript functions, please check your code. Experiment caused the error is \"+Kameleoon.API.currentContainer.name+\" : \"+Kameleoon.API.currentContainer.id);console.log(a,a.message)}Kameleoon.API.processPageLoaded()}},obtainComputedStyle:function(a){if(window.getComputedStyle){var c=getComputedStyle(a,\"\");return c?c:{backgroundImage:\"none\"}}else{return a.currentStyle}},setStyle:function(d,g,f,c){Kameleoon.Analyst.saveElementOriginalData(d);var h=d.style.cssText;if(h){h=h.replace(/^\\s+|\\s+$/g,\"\");var a=new RegExp(\"(^|;)(\\\\s*\"+g+\"(.*?);)\");h=h.replace(a,\"$1\");if(h){if(h.lastIndexOf(\";\")<(h.length-2)){h=h+\";\"}if(h.lastIndexOf(\" \")!=(h.length-1)&&f){h=h+\" \"}}}else{h=\"\"}var e=h+(f?(g+\": \"+f+(c?\" !important;\":\";\")):\"\");d.style.cssText=e},processMessageEvent:function(event){if(typeof event.data!==\"string\"){return}if(\"obtainTagCommanderVariableNames\"==event.data){var tagCommanderVariableNames=[];if(window.tc_vars){for(var tagCommanderVariableName in window.tc_vars){tagCommanderVariableNames.push(tagCommanderVariableName)}}event.source.postMessage(\"tagCommanderVariableNames\"+Kameleoon.Utils.JSONStringify(tagCommanderVariableNames),event.origin);return}if(0==event.data.indexOf(\"checkKameleoonScriptPresent\")){if(\"https://back-office.\"+Kameleoon.Internals.configuration.DOMAIN==event.origin){var resultMessage=\"\";var obtainScriptInstallationCode=event.data.replace(\"checkKameleoonScriptPresent\",\"\");eval(obtainScriptInstallationCode);event.source.postMessage(resultMessage,event.origin)}return}if(Kameleoon.Internals.runtime.iframeLocalStorage&&(Kameleoon.Internals.runtime.postMessageOrigin==event.origin)){try{var messageData=Kameleoon.Utils.JSONParse(event.data);if(messageData.kameleoonMessage){if(messageData.callbackId){var callback=Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId];delete (Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId]);callback&&callback(messageData.data)}if(null!=messageData.type){Kameleoon.Utils.processStorageData(messageData)}}}catch(e){}}},processStorageData:function(e){if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval){if(this.LOCAL_STORAGE_OBFUSCATED_KEYS[e.type]){e.value=Kameleoon.Utils.JSONParse(Kameleoon.Utils.unobfuscateString(e.value))}switch(e.type){case\"kameleoonExperiment\":if(null!=Kameleoon.Internals.runtime.experiments){for(var d=0,c=Kameleoon.Internals.runtime.experiments.length;d<c;++d){var a=Kameleoon.Internals.runtime.experiments[d];if(e.experimentId==a.id){a.registeredVariationId=e.registeredVariationId;break}}}break;case\"kameleoonPersonalizations\":if(null!=Kameleoon.API.visitor){Kameleoon.API.visitor.personalizationsActive=e.active}break;case\"kameleoonData\":case\"kameleoonDataSimulation\":if((e.type==\"kameleoonData\"&&!Kameleoon.Internals.runtime.simulationMode)||(e.type==\"kameleoonDataSimulation\"&&Kameleoon.Internals.runtime.simulationMode)){Kameleoon.Internals.runtime.storedData=e.value;if(Kameleoon.Internals.runtime.gathererRun){Kameleoon.Visitor.setupFromStoredData(false)}}break;case\"kameleoonLocalDataConsent\":if(e.saveLocalDataAllowed){if(Kameleoon.Internals.runtime.saveLocalDataAllowed==null){Kameleoon.Analyst.allowSaveLocalData()}}break}}},addPostMessageCallback:function(c){var a=Math.random().toString();Kameleoon.Internals.runtime.postMessageCallbacks[a]=c;return a},postMessageToExternalIframe:function(a){Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage(\"kameleoon\"+a,\"*\")},encodeString:function(e){var c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";var a=\"\";var m,k,h,l,j,g,f;var d=0;e=this.encodeUTF8(e);while(d<e.length){m=e.charCodeAt(d++);k=e.charCodeAt(d++);h=e.charCodeAt(d++);l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=f=64}else{if(isNaN(h)){f=64}}a=a+c.charAt(l)+c.charAt(j)+c.charAt(g)+c.charAt(f)}return a},decodeString:function(e){var c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";var a=\"\";var m,k,h;var l,j,g,f;var d=0;e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");while(d<e.length){l=c.indexOf(e.charAt(d++));j=c.indexOf(e.charAt(d++));g=c.indexOf(e.charAt(d++));f=c.indexOf(e.charAt(d++));m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;a=a+String.fromCharCode(m);if(g!=64){a=a+String.fromCharCode(k)}if(f!=64){a=a+String.fromCharCode(h)}}a=this.decodeUTF8(a);return a},obfuscateString:function(d){var f=\"\";for(var e=0,a=d.length;e<a;e+=1){var c=d[e];if(c==\"\"){c=\"'\"}f+=String.fromCharCode(c.charCodeAt(0)+16)}return f},unobfuscateString:function(e){var c=\"\";for(var d=0,a=e.length;d<a;d+=1){c+=String.fromCharCode(e[d].charCodeAt(0)-16)}return c},encodeUTF8:function(d){d=d.replace(/\\r\\n/g,\"\\n\");var a=\"\";for(var f=0;f<d.length;f++){var e=d.charCodeAt(f);if(e<128){a+=String.fromCharCode(e)}else{if((e>127)&&(e<2048)){a+=String.fromCharCode((e>>6)|192);a+=String.fromCharCode((e&63)|128)}else{a+=String.fromCharCode((e>>12)|224);a+=String.fromCharCode(((e>>6)&63)|128);a+=String.fromCharCode((e&63)|128)}}}return a},decodeUTF8:function(a){var d=\"\";var e=0;var f=c1=c2=0;while(e<a.length){f=a.charCodeAt(e);if(f<128){d+=String.fromCharCode(f);e++}else{if((f>191)&&(f<224)){c2=a.charCodeAt(e+1);d+=String.fromCharCode(((f&31)<<6)|(c2&63));e+=2}else{c2=a.charCodeAt(e+1);c3=a.charCodeAt(e+2);d+=String.fromCharCode(((f&15)<<12)|((c2&63)<<6)|(c3&63));e+=3}}}return d},saveStoredData:function(a){this.createLocalData(Kameleoon.Internals.runtime.simulationMode?\"kameleoonDataSimulation\":\"kameleoonData\",Kameleoon.Internals.runtime.storedData||{},Kameleoon.Internals.runtime.simulationMode?(1/24):380,null,\"LS\",true,a)},createLocalData:function(a,i,k,g,e,d,l,m){var j=(\"LS\"==e)?true:((\"COOKIE\"==e)?false:Kameleoon.Internals.configuration.useLocalStorage);var c=new Date().getTime();if((!m)&&(!Kameleoon.Internals.runtime.saveLocalDataAllowed)){var h=j?\"LS\":\"COOKIE\";if(Kameleoon.Internals.runtime.localDataMap==null){Kameleoon.Internals.runtime.localDataMap={}}if(Kameleoon.Internals.runtime.localDataMap[h]==null){Kameleoon.Internals.runtime.localDataMap[h]={}}Kameleoon.Internals.runtime.localDataMap[h][a]={name:a,value:i,days:k,domain:g,forceLocalAccess:e,jsonFormat:d,creationTime:c};if(j){l&&l()}return}if(j){var f=c+(k*24*60*60*1000);if(Kameleoon.Internals.runtime.iframeLocalStorage){this.postMessageToExternalIframe(this.JSONStringify({type:\"set\",key:a,data:{value:this.LOCAL_STORAGE_OBFUSCATED_KEYS[a]&&this.obfuscateString(this.JSONStringify(i))||i,date:f},callbackId:this.addPostMessageCallback(l)}))}else{localStorage.setItem(a,this.JSONStringify({value:this.LOCAL_STORAGE_OBFUSCATED_KEYS[a]&&this.obfuscateString(this.JSONStringify(i))||i,date:f}));l&&l()}}else{var n=\"\";if(k){var f=new Date(c+(k*24*60*60*1000));n=\"; expires=\"+f.toGMTString()}if(\"CURRENT_HOST\"!=g){g=g||this.obtainCurrentRootDomain();n+=\"; domain=\"+g}document.cookie=a+\"=\"+(d?this.JSONStringify(i):i)+n+\"; path=/\"}},readLocalData:function(c,j,g){var r=(\"LS\"==j)?true:((\"COOKIE\"==j)?false:Kameleoon.Internals.configuration.useLocalStorage);var h=new Date().getTime();try{if(!Kameleoon.Internals.runtime.saveLocalDataAllowed){var a=Kameleoon.Internals.runtime.localDataMap;var n=r?\"LS\":\"COOKIE\";if((a!=null)&&(a[n]!=null)&&(a[n][c]!=null)){var l=a[n][c];if(h-(l.days*24*60*60*1000)>=l.creationTime){delete a[n][c]}else{return l.value}}}if(r){var l;try{l=localStorage&&localStorage.getItem(c);if(!l){return null}if(this.LOCAL_STORAGE_OBFUSCATED_KEYS[c]){l=this.unobfuscateString(l)}l=this.JSONParse(l)}catch(m){l=localStorage&&localStorage.getItem(c);if(!l){return null}l=this.JSONParse(l);if(this.LOCAL_STORAGE_OBFUSCATED_KEYS[c]){l.value=this.JSONParse(this.unobfuscateString(l.value))}}if(h>l.date){localStorage.removeItem(c);return null}return l.value}else{var f=null;var q=document.cookie.split(\";\");for(var k=0,s=q.length;k<s;++k){var d=q[k];var p=d.indexOf(\"=\");if(d.substring(0,p).trim()==c){var o=d.substring(p+1);f=g&&Kameleoon.Utils.JSONParse(o)||o;break}}return f}}catch(m){}return null},eraseLocalData:function(c,d,g){var f=(\"LS\"==g)?true:((\"COOKIE\"==g)?false:Kameleoon.Internals.configuration.useLocalStorage);if(!Kameleoon.Internals.runtime.saveLocalDataAllowed){var e=Kameleoon.Internals.runtime.localDataMap;var a=f?\"LS\":\"COOKIE\";if((e!=null)&&(e[a]!=null)&&(e[a][c]!=null)){delete e[a][c]}}if(f){if(Kameleoon.Internals.runtime.iframeLocalStorage){this.postMessageToExternalIframe(this.JSONStringify({type:\"remove\",key:c,callbackId:this.addPostMessageCallback(null)}))}else{localStorage.removeItem(c)}}else{this.createLocalData(c,\"\",-1,d,\"COOKIE\",false,null,true)}},obtainCurrentRootDomain:function(){if(Kameleoon.Internals.runtime.currentRootDomain==null){var e=window.location.hostname.split(\".\");var d=\"\";for(var c=0,a=e.length;c<a;c++){if(c>0){d=\".\"+d}d=e[a-c-1]+d;this.createLocalData(\"kameleoonTestCookie\",\"test\",1,d,\"COOKIE\",false,undefined,true);if(this.readLocalData(\"kameleoonTestCookie\",\"COOKIE\",false)){this.eraseLocalData(\"kameleoonTestCookie\",d,\"COOKIE\");Kameleoon.Internals.runtime.currentRootDomain=d;break}}}return Kameleoon.Internals.runtime.currentRootDomain},obtainRandomString:function(f,g){if(g==null){g=Kameleoon.Analyst.CODE_ALPHABET}var c=g.length;var a=\"\";for(var d=0;d<f;++d){var e=Math.floor(Math.random()*c);a+=g.substring(e,e+1)}return a},parseParameters:function(){var f={};var a=window.location.search.substring(1);if(a){a=a.split(\"&\");for(var e=0,c=a.length;e<c;++e){var g=a[e].split(\"=\");try{f[decodeURIComponent(g[0])]=g[1]?decodeURIComponent(g[1]):null}catch(d){f[unescape(g[0])]=g[1]?unescape(g[1]):null}}}a=window.location.hash.substring(1);if(Kameleoon.Internals.runtime.firefox){a=window.location.toString().substring(window.location.toString().indexOf(\"#\")+1)}a=a.replace(/\\?/g,\"&\");if(a){a=a.split(\"&\");for(var e=0,c=a.length;e<c;++e){var g=a[e].split(\"=\");try{f[decodeURIComponent(g[0])]=g[1]?decodeURIComponent(g[1]):null}catch(d){f[unescape(g[0])]=g[1]?unescape(g[1]):null}}}return f},addParameterToURL:function(a,e,d){if(d){return(a+((-1==a.indexOf(\"#\"))?\"#\":\"&\")+e)}var c=\"\";if(-1!=a.indexOf(\"#\")){c=a.substr(a.indexOf(\"#\"));a=a.substr(0,a.indexOf(\"#\"))}a+=((-1==a.indexOf(\"?\"))?\"?\":\"&\")+e+c;return a},removeBlockingStyleSheet:function(){var a=document.getElementById(\"kameleoonPageLoading\");if(a&&a.parentNode){a.parentNode.removeChild(a)}},domReady:function(c){if(\"complete\"==document.readyState||\"loaded\"==document.readyState||(\"interactive\"==document.readyState)){return c()}var a=false;window.addEventListener(\"load\",function(){if(a){return}a=true;c()},false);return Kameleoon.Utils.addEventListener(document,\"DOMContentLoaded\",function(){if(a){return}a=true;c()},false)},obtainDepth:function(c){var a=0;while(!(c.parentNode===null)){++a;c=c.parentNode}return a},collectionToArray:function(e){var a=[];for(var d=0,c=e.length;d<c;++d){a.push(e[d])}return a},getLocale:function(c){var a=null;if(navigator){if(navigator.language){a=navigator.language}else{if(navigator.browserLanguage){a=navigator.browserLanguage}else{if(navigator.systemLanguage){a=navigator.systemLanguage}else{if(navigator.userLanguage){a=navigator.userLanguage}}}}}if(\"fr-FR\"==a){a=\"fr\"}if(\"en-US\"==a){a=\"en\"}if(c&&(!a||\"fr\"!=a)){a=\"en\"}return a},callJavaScriptCode:function(c){var a=document.createElement(\"script\");a.type=\"text/javascript\";Kameleoon.Internals.runtime.headNode.appendChild(a);a.appendChild(document.createTextNode(c))},checkElementLoaded:function(a){if(!a||!a.parentNode){return false}return((a.nextSibling)?true:this.checkElementLoaded(a.parentNode))},checkElementIsInDocument:function(d,a){var c=null,e=document;if(a.context){c=Kameleoon.Utils.querySelectorAll(a.context);if(c[0]){e=c[0].contentWindow.document}}while(d&&d!=e.documentElement&&d!=Kameleoon.Internals.runtime.virtualRootElement){if(d.parentNode){d=d.parentNode}else{return false}}return(d==e.documentElement)?true:\"VIRTUAL\"},clone:function(a){return this.JSONParse(this.JSONStringify(a))},treatContainsSelector:function(a){var e={},d;function c(h,f){var g=false;if(f.textContent&&f.textContent.indexOf(h)!==-1){g=true}return g}d=a.match(/:contains\\(['\"]([\\s\\S]+)['\"]\\)/);e.containText=d[1];e.newSelector=a.replace(d[0],\"\");if(e.newSelector===\"\"){e.newSelector=\"*\"}e.check=c;return e},treatEqSelector:function(c,l){if(c===undefined){return null}var g=c.split(/\\:eq\\([0-9]+\\)/g);var h=c.match(/(?!\\:eq\\()[0-9]+/g)||[];var a=l==null?document:l;for(var f=0;f<g.length;++f){g[f]=g[f].trim();if(g[f].charAt(0)===\">\"){g[f]=g[f].substring(1,c.length).trim()}if(a==null||g[f].trim()==\"\"){break}if(f>h.length-1){a=a.querySelectorAll(g[f])}else{a=a.querySelectorAll(g[f])[h[f]]}}if(null==a){return[]}if(undefined==a.length){a=[a]}var k=Kameleoon.Utils.querySelectorAll(c.replace(/\\:eq\\([0-9]+\\)/g,\"\"));var d=[];for(var f=0;f<k.length;++f){for(var e=0;e<a.length;++e){if(k[f]===a[e]){d.push(a[e]);break}}}return d},querySelectorAll:function(h,s){Kameleoon.Internals.runtime.querySelectorAllHasError=false;var p=false,n,f=[],q=[];if(s==null){s=document}var j=h.match(/#([0-9]+.*)(?: |$)/);if(j){var r=h.charAt(1);h=h.replace(\"#\"+r,\"#\\\\3\"+r+\" \")}if(h!==\"\"){if(h.indexOf(\"[\")!==-1&&h.indexOf(\"']\")===-1&&h.indexOf('\"]')===-1){var m=h.split(/(?=\\.)|(?=#)|(?=\\[)/),a,d,c;m.forEach(function(e){if(e[0]===\"[\"&&e.indexOf(\"']\")===-1&&h.indexOf('\"]')===-1&&h.indexOf(\"=\")!==-1){a=e.split(/=(.+)?/);d=a[1];d=d.substring(0,d.length-1);c=a[0]+\"='\"+d+\"']\";h=h.replace(e,c)}})}if(h.indexOf(\":contains\")!==-1){p=true;n=this.treatContainsSelector(h);h=n.newSelector}if(s&&s.querySelectorAll){if(h.indexOf(\":eq\")!==-1){f=this.treatEqSelector(h,s)}else{try{f=s.querySelectorAll(h)}catch(o){Kameleoon.Internals.runtime.querySelectorAllHasError=true;console.log(\"querySelector:\",o);f=[]}}}for(var k=0,g=f.length;k<g;++k){if(p){if(n.check(n.containText,f[k])){q.push(f[k])}}else{q.push(f[k])}}}return q},flatten:function(){var c=[];for(var a=0;a<arguments.length;a++){if(arguments[a] instanceof Array){c.push.apply(c,Kameleoon.Utils.flatten.apply(this,arguments[a]))}else{c.push(arguments[a])}}return c},flattenTargetingTree:function(c){var a=function(g,e){if(g!=null){if(g.targetingCondition!=null){return g.targetingCondition.targeting===false?[\"!\",g.targetingCondition]:g.targetingCondition}else{var f=g.orOperator?\"OR\":\"AND\";var d=[a(g.leftChild,f),f,a(g.rightChild,f)];return e==\"AND\"&&f==\"OR\"?[\"(\",d,\")\"]:d}}};return Kameleoon.Utils.flatten(a(c,\"OR\"))},checkIfImageWasSeen:function(f,e){if(Kameleoon.Internals.runtime.gathererRun&&\"object\"==typeof f){var d=Math.random().toString();if(null==Kameleoon.Internals.runtime.checkImageCallbacks){Kameleoon.Internals.runtime.checkImageCallbacks={}}var a=[];for(var c=0;c<f.length;++c){a.push({url:f[c]})}Kameleoon.Internals.runtime.checkImageCallbacks[d]=e;Kameleoon.Gatherer.checkImageList(a,null,d)}},computeDisplayableTargetingTree:function(f){var h=new Array();var c=new Array();this.computeDisplayableTargetingTreeFirstLevelAddIn(f,h,c);if(c.length>0){var a=new Array();var e=new Array();var d=this.createIterator(h);var i=this.createIterator(c);while(i.hasNext()){var g=i.next();if(this.testEmptyMap(g.conditions)){if(i.hasNext()){d.next()}}else{e.push(g);if(i.hasNext()){a.push(d.next())}}}h=e.length>0?a.slice(0,e.length-1):a;c=e}return{firstLevelOrOperators:h,secondLevel:c}},computeDisplayableTargetingTreeFirstLevelAddIn:function(c,d,a){if(null!=c){if(null==c.targetingCondition){if(0==c.orGuiLevel){this.computeDisplayableTargetingTreeFirstLevelAddIn(c.leftChild,d,a);d.push(c.orOperator);this.computeDisplayableTargetingTreeFirstLevelAddIn(c.rightChild,d,a)}else{a.push(this.computeDisplayableTargetingTreeSecondLevel(c))}}else{a.push(this.computeDisplayableTargetingTreeSecondLevel(c))}}},computeDisplayableTargetingTreeSecondLevel:function(c){var a=new Array();var g=new Array();this.computeDisplayableTargetingTreeSecondLevelAddIn(c,a,g);if(g.length>0){var i=new Array();var e=new Array();var d=this.createIterator(a);var f=this.createIterator(g);while(f.hasNext()){var h=f.next();if(h.disabled){if(f.hasNext()){d.next()}}else{e.push(h);if(f.hasNext()){i.push(d.next())}}}a=e.length>0?i.slice(0,e.length-1):i;g=e}return{orOperators:a,conditions:g}},computeDisplayableTargetingTreeSecondLevelAddIn:function(c,a,d){if(c!=null){if(c.targetingCondition==null){this.computeDisplayableTargetingTreeSecondLevelAddIn(c.leftChild,a,d);a.push(c.orOperator);this.computeDisplayableTargetingTreeSecondLevelAddIn(c.rightChild,a,d)}else{d.push(c.targetingCondition)}}},createIterator:function(c){var a=0;return{hasNext:function(){return a<c.length},next:function(){return c[a++]}}},ipAddressMatchesRange:function(d,c){var a=d.split(\".\");var e=c.split(\".\");return a.length==4&&e.length==4&&this.ipAdressBlockMatchesRangeBlock(a[0],e[0])&&this.ipAdressBlockMatchesRangeBlock(a[1],e[1])&&this.ipAdressBlockMatchesRangeBlock(a[2],e[2])&&this.ipAdressBlockMatchesRangeBlock(a[3],e[3])},ipAdressBlockMatchesRangeBlock:function(d,e){if(e==d){return true}if(e==\"*\"){return true}var f=parseInt(d);var c=e.split(\"-\");var g=parseInt(c[0]);var a=c.length>1?parseInt(c[1]):g;if(!isNaN(f)&&!isNaN(g)&&!isNaN(a)&&f>=g&&f<=a){return true}return false},Event:(function(){function d(){this.subscribers={};this.key=0}d.prototype.subscribe=function c(i){var g=this.key;this.subscribers[g]=i;++this.key;this.onSubscribe(g);return function h(){this.onUnsubscribe(g);delete this.subscribers[g]}.bind(this)};d.prototype.emit=function e(){for(var g in this.subscribers){this.subscribers[g].apply(null,arguments)}};d.prototype.onSubscribe=function f(g){};d.prototype.onUnsubcribe=function a(g){};d.prototype.filter=function(h){var g=new d();this.subscribe(function(){if(h.apply(null,arguments)){g.emit.apply(g,arguments)}});return g};d.prototype.map=function(h){var g=new d();this.subscribe(function(){g.emit(h.apply(null,arguments))});return g};d.prototype.memorize=function(){var h=new d();var g=[];this.subscribe(function(){g.push(arguments);h.emit.apply(h,arguments)});h.onSubscribe=function(i){g.forEach(function(j){h.subscribers[i].apply(null,j)})};return h};return d})()};Kameleoon.Loader={enableKameleoonEditorListener:function(){if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=true;var a=function(b){if(!b){b=window.event}Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,b)};Kameleoon.Utils.addEventListener(document,\"keyup\",a,false)}},listenKeys:function(a){if(a.shiftKey){if(113==a.keyCode&&Kameleoon.Internals.configuration.abtestingSetup){Kameleoon.Internals.runtime.editorMode=true;Kameleoon.Analyst.loadKameleoonFull(function(){Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)})}if(115==a.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection)){Kameleoon.Analyst.loadKameleoonFull(function(){Kameleoon.Loader.enableSimulationPanel()})}}}};(function(a){var b=(function(){var d=\"s\",g={DAY:86400000,HOUR:3600000,MINUTE:60000,SECOND:1000,BASELINE_YEAR:2014,MAX_SCORE:864000000,AMBIGUITIES:{\"America/Denver\":[\"America/Mazatlan\"],\"Europe/London\":[\"Africa/Casablanca\"],\"America/Chicago\":[\"America/Mexico_City\"],\"America/Asuncion\":[\"America/Campo_Grande\",\"America/Santiago\"],\"America/Montevideo\":[\"America/Sao_Paulo\",\"America/Santiago\"],\"Asia/Beirut\":[\"Asia/Amman\",\"Asia/Jerusalem\",\"Europe/Helsinki\",\"Asia/Damascus\",\"Africa/Cairo\",\"Asia/Gaza\",\"Europe/Minsk\"],\"Pacific/Auckland\":[\"Pacific/Fiji\"],\"America/Los_Angeles\":[\"America/Santa_Isabel\"],\"America/New_York\":[\"America/Havana\"],\"America/Halifax\":[\"America/Goose_Bay\"],\"America/Godthab\":[\"America/Miquelon\"],\"Asia/Dubai\":[\"Asia/Yerevan\"],\"Asia/Jakarta\":[\"Asia/Krasnoyarsk\"],\"Asia/Shanghai\":[\"Asia/Irkutsk\",\"Australia/Perth\"],\"Australia/Sydney\":[\"Australia/Lord_Howe\"],\"Asia/Tokyo\":[\"Asia/Yakutsk\"],\"Asia/Dhaka\":[\"Asia/Omsk\"],\"Asia/Baku\":[\"Asia/Yerevan\"],\"Australia/Brisbane\":[\"Asia/Vladivostok\"],\"Pacific/Noumea\":[\"Asia/Vladivostok\"],\"Pacific/Majuro\":[\"Asia/Kamchatka\",\"Pacific/Fiji\"],\"Pacific/Tongatapu\":[\"Pacific/Apia\"],\"Asia/Baghdad\":[\"Europe/Minsk\",\"Europe/Moscow\"],\"Asia/Karachi\":[\"Asia/Yekaterinburg\"],\"Africa/Johannesburg\":[\"Asia/Gaza\",\"Africa/Cairo\"]}},f=function f(o){var p=-o.getTimezoneOffset();return(p!==null?p:0)},h=function h(){var o=f(new Date(g.BASELINE_YEAR,0,2)),p=f(new Date(g.BASELINE_YEAR,5,2)),q=o-p;if(q<0){return o+\",1\"}else{if(q>0){return p+\",1,\"+d}}return o+\",0\"},j=function j(){var p,o;if(typeof Intl===\"undefined\"||typeof Intl.DateTimeFormat===\"undefined\"){return}p=Intl.DateTimeFormat();if(typeof p===\"undefined\"||typeof p.resolvedOptions===\"undefined\"){return}o=p.resolvedOptions().timeZone;if(o&&(o.indexOf(\"/\")>-1||o===\"UTC\")){return o}},i=function i(s){var v=new Date(s,0,1,0,0,1,0).getTime();var u=new Date(s,12,31,23,59,59).getTime();var r=v;var p=(new Date(r)).getTimezoneOffset();var t=null;var w=null;while(r<u-86400000){var q=new Date(r);var o=q.getTimezoneOffset();if(o!==p){if(o<p){t=q}if(o>p){w=q}p=o}r+=86400000}if(t&&w){return{s:k(t).getTime(),e:k(w).getTime()}}return false},k=function k(w,v,t){if(typeof v===\"undefined\"){v=g.DAY;t=g.HOUR}var q=new Date(w.getTime()-v).getTime();var x=w.getTime()+v;var s=new Date(q).getTimezoneOffset();var u=q;var p=null;while(u<x-t){var r=new Date(u);var o=r.getTimezoneOffset();if(o!==s){p=r;break}u+=t}if(v===g.DAY){return k(p,g.HOUR,g.MINUTE)}if(v===g.HOUR){return k(p,g.MINUTE,g.SECOND)}return p},n=function e(o,r,q,p){if(q!==\"N/A\"){return q}if(r===\"Asia/Beirut\"){if(p.name===\"Africa/Cairo\"){if(o[6].s===1398376800000&&o[6].e===1411678800000){return 0}}if(p.name===\"Asia/Jerusalem\"){if(o[6].s===1395964800000&&o[6].e===1411858800000){return 0}}}else{if(r===\"America/Santiago\"){if(p.name===\"America/Asuncion\"){if(o[6].s===1412481600000&&o[6].e===1397358000000){return 0}}if(p.name===\"America/Campo_Grande\"){if(o[6].s===1413691200000&&o[6].e===1392519600000){return 0}}}else{if(r===\"America/Montevideo\"){if(p.name===\"America/Sao_Paulo\"){if(o[6].s===1413687600000&&o[6].e===1392516000000){return 0}}}else{if(r===\"Pacific/Auckland\"){if(p.name===\"Pacific/Fiji\"){if(o[6].s===1414245600000&&o[6].e===1396101600000){return 0}}}}}}return q},m=function m(r,o){var y=function y(B){var C=0;for(var A=0;A<r.length;A++){if(!!B.rules[A]&&!!r[A]){if(r[A].s>=B.rules[A].s&&r[A].e<=B.rules[A].e){C=0;C+=Math.abs(r[A].s-B.rules[A].s);C+=Math.abs(B.rules[A].e-r[A].e)}else{C=\"N/A\";break}if(C>g.MAX_SCORE){C=\"N/A\";break}}}C=n(r,o,C,B);return C};var u={};var x=b.olson.dst_rules.zones;var v=x.length;var z=g.AMBIGUITIES[o];for(var t=0;t<v;t++){var w=x[t];var p=y(x[t]);if(p!==\"N/A\"){u[w.name]=p}}for(var q in u){if(u.hasOwnProperty(q)){for(var s=0;s<z.length;s++){if(z[s]===q){return q}}}}return o},c=function c(s){var p=function p(){var u=[];for(var v=0;v<b.olson.dst_rules.years.length;v++){var t=i(b.olson.dst_rules.years[v]);u.push(t)}return u};var o=function o(u){for(var t=0;t<u.length;t++){if(u[t]!==false){return true}}return false};var r=p();var q=o(r);if(q){return m(r,s)}return s},l=function l(){var o=j();if(!o){o=b.olson.timezones[h()];if(typeof g.AMBIGUITIES[o]!==\"undefined\"){o=c(o)}}return{name:function(){return o}}};return{determine:l}}());b.olson=b.olson||{};b.olson.timezones={\"-720,0\":\"Etc/GMT+12\",\"-660,0\":\"Pacific/Pago_Pago\",\"-660,1,s\":\"Pacific/Apia\",\"-600,1\":\"America/Adak\",\"-600,0\":\"Pacific/Honolulu\",\"-570,0\":\"Pacific/Marquesas\",\"-540,0\":\"Pacific/Gambier\",\"-540,1\":\"America/Anchorage\",\"-480,1\":\"America/Los_Angeles\",\"-480,0\":\"Pacific/Pitcairn\",\"-420,0\":\"America/Phoenix\",\"-420,1\":\"America/Denver\",\"-360,0\":\"America/Guatemala\",\"-360,1\":\"America/Chicago\",\"-360,1,s\":\"Pacific/Easter\",\"-300,0\":\"America/Bogota\",\"-300,1\":\"America/New_York\",\"-270,0\":\"America/Caracas\",\"-240,1\":\"America/Halifax\",\"-240,0\":\"America/Santo_Domingo\",\"-240,1,s\":\"America/Asuncion\",\"-210,1\":\"America/St_Johns\",\"-180,1\":\"America/Godthab\",\"-180,0\":\"America/Argentina/Buenos_Aires\",\"-180,1,s\":\"America/Montevideo\",\"-120,0\":\"America/Noronha\",\"-120,1\":\"America/Noronha\",\"-60,1\":\"Atlantic/Azores\",\"-60,0\":\"Atlantic/Cape_Verde\",\"0,0\":\"UTC\",\"0,1\":\"Europe/London\",\"60,1\":\"Europe/Berlin\",\"60,0\":\"Africa/Lagos\",\"60,1,s\":\"Africa/Windhoek\",\"120,1\":\"Asia/Beirut\",\"120,0\":\"Africa/Johannesburg\",\"180,0\":\"Asia/Baghdad\",\"180,1\":\"Europe/Moscow\",\"210,1\":\"Asia/Tehran\",\"240,0\":\"Asia/Dubai\",\"240,1\":\"Asia/Baku\",\"270,0\":\"Asia/Kabul\",\"300,1\":\"Asia/Yekaterinburg\",\"300,0\":\"Asia/Karachi\",\"330,0\":\"Asia/Kolkata\",\"345,0\":\"Asia/Kathmandu\",\"360,0\":\"Asia/Dhaka\",\"360,1\":\"Asia/Omsk\",\"390,0\":\"Asia/Rangoon\",\"420,1\":\"Asia/Krasnoyarsk\",\"420,0\":\"Asia/Jakarta\",\"480,0\":\"Asia/Shanghai\",\"480,1\":\"Asia/Irkutsk\",\"525,0\":\"Australia/Eucla\",\"525,1,s\":\"Australia/Eucla\",\"540,1\":\"Asia/Yakutsk\",\"540,0\":\"Asia/Tokyo\",\"570,0\":\"Australia/Darwin\",\"570,1,s\":\"Australia/Adelaide\",\"600,0\":\"Australia/Brisbane\",\"600,1\":\"Asia/Vladivostok\",\"600,1,s\":\"Australia/Sydney\",\"630,1,s\":\"Australia/Lord_Howe\",\"660,1\":\"Asia/Kamchatka\",\"660,0\":\"Pacific/Noumea\",\"690,0\":\"Pacific/Norfolk\",\"720,1,s\":\"Pacific/Auckland\",\"720,0\":\"Pacific/Majuro\",\"765,1,s\":\"Pacific/Chatham\",\"780,0\":\"Pacific/Tongatapu\",\"780,1,s\":\"Pacific/Apia\",\"840,0\":\"Pacific/Kiritimati\"};b.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:\"Africa/Cairo\",rules:[{e:1219957200000,s:1209074400000},{e:1250802000000,s:1240524000000},{e:1285880400000,s:1284069600000},false,false,false,{e:1411678800000,s:1406844000000}]},{name:\"Africa/Casablanca\",rules:[{e:1220223600000,s:1212278400000},{e:1250809200000,s:1243814400000},{e:1281222000000,s:1272758400000},{e:1312066800000,s:1301788800000},{e:1348970400000,s:1345428000000},{e:1382839200000,s:1376100000000},{e:1414288800000,s:1406944800000}]},{name:\"America/Asuncion\",rules:[{e:1205031600000,s:1224388800000},{e:1236481200000,s:1255838400000},{e:1270954800000,s:1286078400000},{e:1302404400000,s:1317528000000},{e:1333854000000,s:1349582400000},{e:1364094000000,s:1381032000000},{e:1395543600000,s:1412481600000}]},{name:\"America/Campo_Grande\",rules:[{e:1203217200000,s:1224388800000},{e:1234666800000,s:1255838400000},{e:1266721200000,s:1287288000000},{e:1298170800000,s:1318737600000},{e:1330225200000,s:1350792000000},{e:1361070000000,s:1382241600000},{e:1392519600000,s:1413691200000}]},{name:\"America/Goose_Bay\",rules:[{e:1225594860000,s:1205035260000},{e:1257044460000,s:1236484860000},{e:1289098860000,s:1268539260000},{e:1320555600000,s:1299988860000},{e:1352005200000,s:1331445600000},{e:1383454800000,s:1362895200000},{e:1414904400000,s:1394344800000}]},{name:\"America/Havana\",rules:[{e:1224997200000,s:1205643600000},{e:1256446800000,s:1236488400000},{e:1288501200000,s:1268542800000},{e:1321160400000,s:1300597200000},{e:1352005200000,s:1333256400000},{e:1383454800000,s:1362891600000},{e:1414904400000,s:1394341200000}]},{name:\"America/Mazatlan\",rules:[{e:1225008000000,s:1207472400000},{e:1256457600000,s:1238922000000},{e:1288512000000,s:1270371600000},{e:1319961600000,s:1301821200000},{e:1351411200000,s:1333270800000},{e:1382860800000,s:1365325200000},{e:1414310400000,s:1396774800000}]},{name:\"America/Mexico_City\",rules:[{e:1225004400000,s:1207468800000},{e:1256454000000,s:1238918400000},{e:1288508400000,s:1270368000000},{e:1319958000000,s:1301817600000},{e:1351407600000,s:1333267200000},{e:1382857200000,s:1365321600000},{e:1414306800000,s:1396771200000}]},{name:\"America/Miquelon\",rules:[{e:1225598400000,s:1205038800000},{e:1257048000000,s:1236488400000},{e:1289102400000,s:1268542800000},{e:1320552000000,s:1299992400000},{e:1352001600000,s:1331442000000},{e:1383451200000,s:1362891600000},{e:1414900800000,s:1394341200000}]},{name:\"America/Santa_Isabel\",rules:[{e:1225011600000,s:1207476000000},{e:1256461200000,s:1238925600000},{e:1288515600000,s:1270375200000},{e:1319965200000,s:1301824800000},{e:1351414800000,s:1333274400000},{e:1382864400000,s:1365328800000},{e:1414314000000,s:1396778400000}]},{name:\"America/Santiago\",rules:[{e:1206846000000,s:1223784000000},{e:1237086000000,s:1255233600000},{e:1270350000000,s:1286683200000},{e:1304823600000,s:1313899200000},{e:1335668400000,s:1346558400000},{e:1367118000000,s:1378612800000},{e:1398567600000,s:1410062400000}]},{name:\"America/Sao_Paulo\",rules:[{e:1203213600000,s:1224385200000},{e:1234663200000,s:1255834800000},{e:1266717600000,s:1287284400000},{e:1298167200000,s:1318734000000},{e:1330221600000,s:1350788400000},{e:1361066400000,s:1382238000000},{e:1392516000000,s:1413687600000}]},{name:\"Asia/Amman\",rules:[{e:1225404000000,s:1206655200000},{e:1256853600000,s:1238104800000},{e:1288303200000,s:1269554400000},{e:1319752800000,s:1301608800000},false,false,{e:1414706400000,s:1395957600000}]},{name:\"Asia/Damascus\",rules:[{e:1225486800000,s:1207260000000},{e:1256850000000,s:1238104800000},{e:1288299600000,s:1270159200000},{e:1319749200000,s:1301608800000},{e:1351198800000,s:1333058400000},{e:1382648400000,s:1364508000000},{e:1414702800000,s:1395957600000}]},{name:\"Asia/Dubai\",rules:[false,false,false,false,false,false,false]},{name:\"Asia/Gaza\",rules:[{e:1219957200000,s:1206655200000},{e:1252015200000,s:1238104800000},{e:1281474000000,s:1269640860000},{e:1312146000000,s:1301608860000},{e:1348178400000,s:1333058400000},{e:1380229200000,s:1364508000000},{e:1414098000000,s:1395957600000}]},{name:\"Asia/Irkutsk\",rules:[{e:1224957600000,s:1206813600000},{e:1256407200000,s:1238263200000},{e:1288461600000,s:1269712800000},false,false,false,false]},{name:\"Asia/Jerusalem\",rules:[{e:1223161200000,s:1206662400000},{e:1254006000000,s:1238112000000},{e:1284246000000,s:1269561600000},{e:1317510000000,s:1301616000000},{e:1348354800000,s:1333065600000},{e:1382828400000,s:1364515200000},{e:1414278000000,s:1395964800000}]},{name:\"Asia/Kamchatka\",rules:[{e:1224943200000,s:1206799200000},{e:1256392800000,s:1238248800000},{e:1288450800000,s:1269698400000},false,false,false,false]},{name:\"Asia/Krasnoyarsk\",rules:[{e:1224961200000,s:1206817200000},{e:1256410800000,s:1238266800000},{e:1288465200000,s:1269716400000},false,false,false,false]},{name:\"Asia/Omsk\",rules:[{e:1224964800000,s:1206820800000},{e:1256414400000,s:1238270400000},{e:1288468800000,s:1269720000000},false,false,false,false]},{name:\"Asia/Vladivostok\",rules:[{e:1224950400000,s:1206806400000},{e:1256400000000,s:1238256000000},{e:1288454400000,s:1269705600000},false,false,false,false]},{name:\"Asia/Yakutsk\",rules:[{e:1224954000000,s:1206810000000},{e:1256403600000,s:1238259600000},{e:1288458000000,s:1269709200000},false,false,false,false]},{name:\"Asia/Yekaterinburg\",rules:[{e:1224968400000,s:1206824400000},{e:1256418000000,s:1238274000000},{e:1288472400000,s:1269723600000},false,false,false,false]},{name:\"Asia/Yerevan\",rules:[{e:1224972000000,s:1206828000000},{e:1256421600000,s:1238277600000},{e:1288476000000,s:1269727200000},{e:1319925600000,s:1301176800000},false,false,false]},{name:\"Australia/Lord_Howe\",rules:[{e:1207407600000,s:1223134200000},{e:1238857200000,s:1254583800000},{e:1270306800000,s:1286033400000},{e:1301756400000,s:1317483000000},{e:1333206000000,s:1349537400000},{e:1365260400000,s:1380987000000},{e:1396710000000,s:1412436600000}]},{name:\"Australia/Perth\",rules:[{e:1206813600000,s:1224957600000},false,false,false,false,false,false]},{name:\"Europe/Helsinki\",rules:[{e:1224982800000,s:1206838800000},{e:1256432400000,s:1238288400000},{e:1288486800000,s:1269738000000},{e:1319936400000,s:1301187600000},{e:1351386000000,s:1332637200000},{e:1382835600000,s:1364691600000},{e:1414285200000,s:1396141200000}]},{name:\"Europe/Minsk\",rules:[{e:1224979200000,s:1206835200000},{e:1256428800000,s:1238284800000},{e:1288483200000,s:1269734400000},false,false,false,false]},{name:\"Europe/Moscow\",rules:[{e:1224975600000,s:1206831600000},{e:1256425200000,s:1238281200000},{e:1288479600000,s:1269730800000},false,false,false,false]},{name:\"Pacific/Apia\",rules:[false,false,false,{e:1301752800000,s:1316872800000},{e:1333202400000,s:1348927200000},{e:1365256800000,s:1380376800000},{e:1396706400000,s:1411826400000}]},{name:\"Pacific/Fiji\",rules:[false,false,{e:1269698400000,s:1287842400000},{e:1327154400000,s:1319292000000},{e:1358604000000,s:1350741600000},{e:1390050000000,s:1382796000000},{e:1421503200000,s:1414850400000}]},{name:\"Europe/London\",rules:[{e:1224982800000,s:1206838800000},{e:1256432400000,s:1238288400000},{e:1288486800000,s:1269738000000},{e:1319936400000,s:1301187600000},{e:1351386000000,s:1332637200000},{e:1382835600000,s:1364691600000},{e:1414285200000,s:1396141200000}]}]};if(typeof a===\"undefined\"){window.jstz=b}else{a.jstz=b}}());Kameleoon.Gatherer={SCRIPT_VERSION:20190114,VISITOR_CODE_LENGTH:16,ACTIVITY_TRACKING_INTERVAL:30*1e3,INTERESTS_TRACKING_TIMEOUT_AFTER_WINDOW_LOAD:2*1e3,INTERESTS_TRACKING_INTERVAL:5*60*1e3,INTERESTS_FRESHNESS_DURATION:7*24*60*60*1e3,IMAGES_DETECTION_TEST_IMAGE:\"images/common/personalizations/benchmark.png\",IMAGES_DETECTION_DEFAULT_CACHE_TIMEOUT:20,CUSTOM_DATA_TRACKING_INTERVAL:30*1e3,TAB_COUNT_TRACKING_INTERVAL:15*1e3,NUMBER_CLICKS_TRACKING_INTERVAL:30*1e3,MAX_NUMBER_CONVERSIONS_IN_A_REQUEST:20,MAX_NUMBER_TARGETING_SEGMENTS_IN_A_REQUEST:20,MAX_NUMBER_CONTAINERS_IN_A_REQUEST:20,REFERENCE_VARIATION_ID_IN_A_REQUEST:0,MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST:1024,MAX_NUMBER_MENTALIST_PREDICTION_SEGMENT_TARGETING_IN_A_REQUEST:10,MAX_HREF_LENGTH_IN_A_REQUEST:200,MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST:200,NONCE_BYTE_LENGTH:8,HEXADECIMAL_ALPHABET:\"0123456789ABCDEF\",DEFAULT_CUSTOM_DATUM_SCOPE:\"VISIT\",CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF:100,CUSTOM_DATA_CUTOFF:3*1e3,VISITOR_DATA_FROM_SERVER_TRACKING_TIMEOUT:2*1e3,DEFAULT_LOCALE_LANGUAGE_TAG:\"en\",MAX_INTERVAL_API_VISIT_REQUEST:15*60*1e3,MAX_NUMBER_REQUESTS_TO_API_VISIT:3,run:function(){var trackPage=function(u){var m=new Date;this.updateIfStartOfVisit(m,!0,!1,!1,function(l){this.LocalDataHandler.registerAction(function(){var e=Kameleoon.Utils.computeCurrentPageCanonicalURL()||Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL();this.restoreVisitCookieIfNecessary();this.saveFieldToVisitCookieOrStoredData(\"timeLastActivity\",m.getTime());this.saveVisitCookieIfNecessary();Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addPage(m,e,document.title,this.obtainKeyPagesIndexes(),this.obtainReferrersIndexes(l));Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.pageCallbacks){for(var o=0,s=Kameleoon.API.pageCallbacks.length;o<s;++o){try{Kameleoon.API.pageCallbacks[o](m,e,document.title,this.obtainKeyPagesIndexes(),this.obtainReferrersIndexes(l))}catch(e){}}}u&&u()}.bind(this),!0,{urgent:!0})}.bind(this))}.bind(this);var scheduleActivityTracking=function(){Kameleoon.Internals.runtime.Gatherer.active=!1;var e=function(){Kameleoon.Internals.runtime.Gatherer.active=!0}.bind(this);Kameleoon.Utils.addEventListener(document,\"mousemove\",e,!1);Kameleoon.Utils.addEventListener(document,\"scroll\",e,!1);this.LocalDataHandler.registerAction(function(){this.trackActivity(Kameleoon.Internals.runtime.Gatherer.active);Kameleoon.Internals.runtime.Gatherer.active=!1}.bind(this),!1,{repeatInterval:this.ACTIVITY_TRACKING_INTERVAL})}.bind(this);var scheduleInterestsTracking=function(){}.bind(this);var scheduleCustomDataTracking=function(){}.bind(this);var scheduleTabCountTracking=function(){if(Kameleoon.Internals.runtime.iframeLocalStorage){Kameleoon.Internals.runtime.Gatherer.tabCode=Kameleoon.Utils.obtainRandomString(16);this.LocalDataHandler.registerAction(function(){Kameleoon.Utils.postMessageToExternalIframe(Kameleoon.Utils.JSONStringify({type:\"tabcount\",tabCode:Kameleoon.Internals.runtime.Gatherer.tabCode,deadTime:(new Date).getTime()+this.TAB_COUNT_TRACKING_INTERVAL,callbackId:Kameleoon.Utils.addPostMessageCallback(this.trackTabCount.bind(this))}))}.bind(this),!1,{repeatInterval:this.TAB_COUNT_TRACKING_INTERVAL,firstRunNow:!0})}}.bind(this);var scheduleNumberClicksTracking=function(){Kameleoon.Internals.runtime.Gatherer.numberClicks=0;Kameleoon.Utils.addEventListener(document,\"click\",function(){Kameleoon.Internals.runtime.Gatherer.numberClicks++}.bind(this),!1);this.LocalDataHandler.registerAction(function(){this.trackNumberClicks(Kameleoon.Internals.runtime.Gatherer.numberClicks);Kameleoon.Internals.runtime.Gatherer.numberClicks=0}.bind(this),!1,{repeatInterval:this.NUMBER_CLICKS_TRACKING_INTERVAL,firstRunNow:!0})}.bind(this);var processMessageEvent=function(e){if(\"string\"!==typeof e.data||e.data.indexOf(\"kameleoonFull\")>=0){return}if(e.data.indexOf(\"imageChecked\")>=0){var t=Kameleoon.Utils.JSONParse(e.data);if(null!=Kameleoon.Internals.runtime.checkImageCallbacks&&null!=Kameleoon.Internals.runtime.checkImageCallbacks[t.callbackId]){var i=Kameleoon.Internals.runtime.checkImageCallbacks[t.callbackId];delete Kameleoon.Internals.runtime.checkImageCallbacks[t.callbackId];i&&i(t.value);var n=document.getElementsByClassName(\"KameleoonImageDetection\");for(var r=0,o=n.length;r<o;++r){var s=n.item(0);s.parentNode.removeChild(s)}}}}.bind(this);null==Kameleoon.API&&(Kameleoon.API={});null==Kameleoon.API.state&&(Kameleoon.API.state={});Kameleoon.API.state.customDataTreated={};null==Kameleoon.Internals.runtime.Gatherer&&(Kameleoon.Internals.runtime.Gatherer={});\"DEVELOPMENT\"==Kameleoon.Internals.configuration.environment?Kameleoon.Internals.runtime.Gatherer.configuration=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer):Kameleoon.Internals.runtime.Gatherer.configuration=Kameleoon.Utils.JSONParse(Kameleoon.Utils.decodeString(Kameleoon.Internals.configuration.Gatherer));null==Kameleoon.Internals.runtime.Visitor&&(Kameleoon.Internals.runtime.Visitor={});null==Kameleoon.Internals.runtime.Gatherer.countByValueByCustomDatum&&(Kameleoon.Internals.runtime.Gatherer.countByValueByCustomDatum={});this.initializeStoredDataIfNecessary();this.LocalDataHandler.init();Kameleoon.Utils.addEventListener(window,\"message\",processMessageEvent,!1);this.LocalDataHandler.registerAction(function(){this.saveFieldToStoredData(\"startsOfVisitForCurrentPage\",0);trackPage(function(){scheduleActivityTracking();scheduleInterestsTracking();scheduleCustomDataTracking();scheduleTabCountTracking();scheduleNumberClicksTracking()}.bind(this))}.bind(this),!0,{urgent:!0})},trackActivity:function(n){var a=new Date;var t=function(i){this.LocalDataHandler.registerAction(function(){if(n||!this.obtainVisitIsFinished(a)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addActivity(a,n);Kameleoon.Visitor.saveToStoredData();[\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0&&this.sendTrackingRequest(a,\"event=activity\"+\"&active=\"+n,i);if(null!=Kameleoon.API.activityCallbacks){for(var e=0,t=Kameleoon.API.activityCallbacks.length;e<t;++e){try{Kameleoon.API.activityCallbacks[e](a,n)}catch(e){}}}}}.bind(this),!0,{urgent:!0})}.bind(this);n?this.updateIfStartOfVisit(a,!1,!1,!1,function(e){this.LocalDataHandler.registerAction(function(){this.restoreVisitCookieIfNecessary();this.saveFieldToVisitCookieOrStoredData(\"timeLastActivity\",a.getTime());this.saveVisitCookieIfNecessary();t(e)}.bind(this),!0,{urgent:!0})}.bind(this)):t(!1)},trackInterests:function(n,a){},trackSearch:function(n,a,r){var o=new Date;this.updateIfStartOfVisit(o,!1,!1,!1,function(i){this.LocalDataHandler.registerAction(function(){this.restoreVisitCookieIfNecessary();this.saveFieldToVisitCookieOrStoredData(\"timeLastActivity\",o.getTime());this.saveVisitCookieIfNecessary();Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addSearch(o,this.obtainKeyWordsIndexes(n),a,r);Kameleoon.Visitor.saveToStoredData();[\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0&&this.sendTrackingRequest(o,\"event=search\"+\"&keyWords=\"+this.joinAll(this.obtainKeyWordsIndexes(n),\"-\")+\"&numberResults=\"+a+\"&followed=\"+r,i);if(null!=Kameleoon.API.searchCallbacks){for(var e=0,t=Kameleoon.API.searchCallbacks.length;e<t;++e){try{Kameleoon.API.searchCallbacks[e](o,this.obtainKeyWordsIndexes(n),a,r)}catch(e){}}}}.bind(this),!0,{urgent:!0})}.bind(this))},trackConversions:function(d,h){var v=d.length;v>0&&this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){var t=[\"medium\",\"audience\",\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0;!h&&Kameleoon.Visitor.setupFromStoredData(!0);for(var i=0;i<v;i+=this.MAX_NUMBER_CONVERSIONS_IN_A_REQUEST){var n=Math.min(this.MAX_NUMBER_CONVERSIONS_IN_A_REQUEST,v-i);var a=null;t&&(a=\"event=conversions\"+\"&number=\"+n);for(var r=0;r<n;++r){var o=d[i+r];var s=o.goalId;var l=parseFloat(o.revenue);var u=!0===o.negative;isNaN(l)&&(l=0);Kameleoon.Visitor.addConversion(s,l,u);if(t){a+=\"&goalId\"+r+\"=\"+s+(0!=l?\"&revenue\"+r+\"=\"+l:\"\");u&&(a+=\"&negative\"+r+\"=true\")}if(null!=Kameleoon.API.conversionCallbacks){for(var m=0,c=Kameleoon.API.conversionCallbacks.length;m<c;++m){try{Kameleoon.API.conversionCallbacks[m](e,s,l,u)}catch(e){}}}}t&&this.sendTrackingRequest(e,a,!1)}!h&&Kameleoon.Visitor.saveToStoredData()}}.bind(this),!h&&!0,{urgent:!0})},trackTargetingSegments:function(m){var c=m.length;c>0&&this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){var t=[\"medium\",\"audience\",\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0;Kameleoon.Visitor.setupFromStoredData(!0);for(var i=0;i<c;i+=this.MAX_NUMBER_TARGETING_SEGMENTS_IN_A_REQUEST){var n=Math.min(this.MAX_NUMBER_TARGETING_SEGMENTS_IN_A_REQUEST,c-i);var a=null;t&&(a=\"event=targetingSegments\"+\"&number=\"+n);for(var r=0;r<n;++r){var o;var s=m[i+r];Kameleoon.Visitor.addTargetingSegment(e,s);t&&(a+=\"&id\"+r+\"=\"+s);if(null!=Kameleoon.API.targetingSegmentCallbacks){for(var l=0,u=Kameleoon.API.targetingSegmentCallbacks.length;l<u;++l){try{Kameleoon.API.targetingSegmentCallbacks[l](e,s)}catch(e){}}}}t&&this.sendTrackingRequest(e,a,!1)}Kameleoon.Visitor.saveToStoredData()}}.bind(this),!0,{urgent:!0})},trackContainers:function(t,i){t.length+i.length>0&&this.LocalDataHandler.registerAction(function(){var v=new Date;if(!this.obtainVisitIsFinished(v)){var e=function(e,t){var i=e.length;if(i>0){for(var n=0;n<i;n+=this.MAX_NUMBER_CONTAINERS_IN_A_REQUEST){var a=Math.min(this.MAX_NUMBER_CONTAINERS_IN_A_REQUEST,i-n);var r=null;t&&(r=\"event=containers\"+\"&number=\"+a);for(var o=0;o<a;++o){var s=e[n+o];var l=!0===s.freshAssignation;var u=!0===s.mentalistDecision;var m=null;var c=null;switch(s.type.toUpperCase()){case\"EXPERIMENT\":m=Kameleoon.Visitor.addExperiment.bind(Kameleoon.Visitor);c=Kameleoon.API.experimentCallbacks;break;case\"PERSONALIZATION\":m=Kameleoon.Visitor.addPersonalization.bind(Kameleoon.Visitor);c=Kameleoon.API.personalizationCallbacks;break}null!=m&&m(v,s.id,s.variationId,u);t&&(r+=\"&type\"+o+\"=\"+s.type+\"&id\"+o+\"=\"+s.id+\"&variationId\"+o+\"=\"+(null==s.variationId?this.REFERENCE_VARIATION_ID_IN_A_REQUEST:s.variationId)+(l?\"&freshAssignation\"+o+\"=\"+l:\"\")+(u?\"&mentalistDecision\"+o+\"=\"+u:\"\"));if(null!=c){for(var d=0,h=c.length;d<h;++d){try{c[d](v,s.id,s.variationId,u)}catch(e){}}}}t&&this.sendTrackingRequest(v,r,!1)}}}.bind(this);Kameleoon.Visitor.setupFromStoredData(!0);e(t,[\"medium\",\"audience\",\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0);e(i,!1);Kameleoon.Visitor.saveToStoredData()}}.bind(this),!0,{urgent:!0})},trackCustomData:function(e,t,i,b){},trackTabCount:function(n){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addTabCount(n);Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.tabCountCallbacks){for(var t=0,i=Kameleoon.API.tabCountCallbacks.length;t<i;++t){try{Kameleoon.API.tabCountCallbacks[t](e,n)}catch(e){}}}}}.bind(this),!0,{})},trackProduct:function(n){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addProduct(n);Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.productCallbacks){for(var t=0,i=Kameleoon.API.productCallbacks.length;t<i;++t){try{Kameleoon.API.productCallbacks[t](e,n)}catch(e){}}}}}.bind(this),!0,{})},trackNumberClicks:function(n){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addNumberClicks(n);Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.numberClicksCallbacks){for(var t=0,i=Kameleoon.API.numberClicksCallbacks.length;t<i;++t){try{Kameleoon.API.numberClicksCallbacks[t](e,n)}catch(e){}}}}}.bind(this),!0,{})},trackAdBlocker:function(){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addAdBlocker();Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.adBlockerCallbacks){for(var t=0,i=Kameleoon.API.adBlockerCallbacks.length;t<i;++t){try{Kameleoon.API.adBlockerCallbacks[t](e)}catch(e){}}}}}.bind(this),!0,{})},trackIP:function(n){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addIP(n);Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.ipCallbacks){for(var t=0,i=Kameleoon.API.ipCallbacks.length;t<i;++t){try{Kameleoon.API.ipCallbacks[t](e,n)}catch(e){}}}}}.bind(this),!0,{})},trackExternalSolutionData:function(r,o){this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){Kameleoon.Visitor.setupFromStoredData(!0);Kameleoon.Visitor.addExternalSolutionData(r,o);Kameleoon.Visitor.saveToStoredData();if(null!=Kameleoon.API.externalSolutionDataCallbacks){for(var n=0,a=Kameleoon.API.externalSolutionDataCallbacks.length;n<a;++n){try{Kameleoon.API.externalSolutionDataCallbacks[n](e,r,o)}catch(e){}}}}}.bind(this),!0,{})},trackMentalistPredictionSegmentTargeting:function(d,h){var v=d.length;v>0&&this.LocalDataHandler.registerAction(function(){var e=new Date;if(!this.obtainVisitIsFinished(e)){var t=[];for(var i in h){t.push([parseInt(i),h[i]])}t=Kameleoon.Utils.JSONStringify(t);var n=[\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0;for(var a=0;a<v;a+=this.MAX_NUMBER_MENTALIST_PREDICTION_SEGMENT_TARGETING_IN_A_REQUEST){var r=Math.min(this.MAX_NUMBER_MENTALIST_PREDICTION_SEGMENT_TARGETING_IN_A_REQUEST,v-a);var o=null;n&&(o=\"event=mentalistPredictionSegmentTargeting\"+\"&goalIdToConversionProbability=\"+encodeURIComponent(t)+\"&number=\"+r);for(var s=0;s<r;++s){var l;var u=d[a+s];n&&(o+=\"&targetingSegmentId\"+s+\"=\"+u);if(null!=Kameleoon.API.mentalistPredictionSegmentTargetingCallbacks){for(var m=0,c=Kameleoon.API.mentalistPredictionSegmentTargetingCallbacks.length;m<c;++m){try{Kameleoon.API.mentalistPredictionSegmentTargetingCallbacks[m](e,d,h)}catch(e){}}}}n&&this.sendTrackingRequest(e,o,!1)}}}.bind(this),!1,{})},startNewVisit:function(e,t){this.updateIfStartOfVisit(e,!1,!0,t,function(e){this.LocalDataHandler.registerAction(function(){}.bind(this),!0,{urgent:!0})}.bind(this))},checkImageList:function(e,t,i){var n=Kameleoon.Internals.runtime.Visitor.imagesDetectionCacheTimeout;var CoreAlgorithm={webkit:function(b){var d;var c=false;var a=function(){window.removeEventListener(\"message\",a,false);d=new Date().getTime();var f=new Image();f.style.display=\"none\";f.style.position=\"absolute\";f.style.left=\"-9999px\";f.style.top=\"-9999px\";f.src=b;var e=function(j){if(c){--window.currentChecks;return}var h=new Date().getTime();var k=h-d;if(f.complete||f.width>0){--window.currentChecks;var g=true;if(/(\\.css|\\.js|\\.swf)/.test(f.src)){g=true}else{if(f.width==0){g=false}}if(g){c=true;if(null!=interestIndex){window.parent.postMessage(JSON.stringify({command:\"addKameleoonInterest\",index:interestIndex}),\"*\")}else{window.parent.postMessage(JSON.stringify({command:\"imageChecked\",value:true,callbackId:callbackId}),\"*\")}}window.stop();window.stop();delete f;window.removeEventListener(\"message\",e,false)}else{if(h-d>cacheTimeout){--window.currentChecks;if(window.stop!==undefined){window.stop()}else{if(document.execCommand!==undefined){document.execCommand(\"Stop\",false)}}delete f;window.removeEventListener(\"message\",e,false)}else{window.postMessage(\"toNextMessageInterval\",\"*\")}}if(!c&&0==window.currentChecks){if(null!=interestIndex){window.parent.postMessage(JSON.stringify({command:\"finishKameleoonInterestCheck\",index:interestIndex}),\"*\")}else{window.parent.postMessage(JSON.stringify({command:\"imageChecked\",value:false,callbackId:callbackId}),\"*\")}}};window.addEventListener(\"message\",e,false);window.postMessage(\"\",\"*\")};window.addEventListener(\"message\",a,false);window.postMessage(\"\",\"*\")}};mainCheck=CoreAlgorithm.webkit;window.currentChecks=0;for(var i=0;i<images.length;++i){++window.currentChecks;mainCheck(images[i].url)};null==n&&(n=this.IMAGES_DETECTION_DEFAULT_CACHE_TIMEOUT);var a=document.createElement(\"iframe\");a.style.display=\"none\";var r=\"var cacheTimeout = \"+n+\";\";null!=t&&(a.className=\"KameleoonInterestDetection\");if(null!=i){a.className=\"KameleoonImageDetection\";r+=\"var callbackId = \"+i+\";\"}r+=\"var interestIndex = \"+t+\";\";r+=\"var images = \"+Kameleoon.Utils.JSONStringify(e)+\";\";r+=\"(\"+imagesDetectionScript.toString()+\")()\";a.src=\"javascript:\"+r;Kameleoon.Internals.runtime.headNode.appendChild(a)},obtainInterestLastCheckTime:function(e){var t=Kameleoon.Internals.runtime.storedData.Gatherer[\"interestLastCheckTime-\"+e];return null==t?Number.MIN_VALUE:t},sendTrackingRequest:function(e,t,i){Kameleoon.Analyst.validateTrackingRequest(function(){this.restoreVisitCookieIfNecessary();if(!Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode&&!window.kameleoonInjector&&Kameleoon.Internals.runtime.Gatherer.configuration.track&&!this.obtainFieldFromVisitCookieOrStoredData(\"untrackedVisit\")){Kameleoon.Utils.performBeaconServerCall(\"//tlp-\"+this.obtainFieldFromVisitCookieOrStoredData(\"trackerNodeCode\")+\".\"+Kameleoon.Internals.configuration.DOMAIN+\"/visit.gif?lp=\"+this.obtainFieldFromVisitCookieOrStoredData(\"trackerNodeLogParser\")+(i&&null==Kameleoon.Internals.runtime.Gatherer.scriptProduceTimeSent?\"&spt=\"+Kameleoon.Internals.configuration.scriptProduceTime:\"\")+\"&p=\"+encodeURIComponent(Kameleoon.Utils.encodeString(t+\"&time=\"+e.getTime()+\"&siteCode=\"+Kameleoon.Internals.configuration.siteCode+\"&visitorCode=\"+this.obtainFieldFromVisitCookieOrStoredData(\"visitorCode\")+\"&visitNumber=\"+this.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\")+\"&startOfVisit=\"+(!0===i)+\"&scriptVersion=\"+this.SCRIPT_VERSION+\"&nonce=\"+Kameleoon.Utils.obtainRandomString(2*this.NONCE_BYTE_LENGTH,this.HEXADECIMAL_ALPHABET))));i&&(Kameleoon.Internals.runtime.Gatherer.scriptProduceTimeSent=!0)}}.bind(this))},updateIfStartOfVisit:function(date,callerIsTrackPage,forceStartOfVisit,forceStartOfVisitor,callback){var finalCallback=function(startOfVisit){var trackerNodeCode=this.obtainFieldFromVisitCookieOrStoredData(\"trackerNodeCode\");if(startOfVisit||null==trackerNodeCode||!Kameleoon.Analyst.isValidTrackerNodeCode(trackerNodeCode)){trackerNodeCode=this.obtainTrackerNodeCode(this.obtainFieldFromVisitCookieOrStoredData(\"visitorCode\"),this.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\"));this.saveFieldToVisitCookieOrStoredData(\"trackerNodeCode\",trackerNodeCode)}var trackerNodeLogParser=this.obtainFieldFromVisitCookieOrStoredData(\"trackerNodeLogParser\");if(startOfVisit||null==trackerNodeLogParser||!Kameleoon.Analyst.isValidTrackerNodeLogParser(trackerNodeCode,trackerNodeLogParser)){trackerNodeLogParser=this.obtainTrackerNodeLogParser(this.obtainFieldFromVisitCookieOrStoredData(\"visitorCode\"),this.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\"));this.saveFieldToVisitCookieOrStoredData(\"trackerNodeLogParser\",trackerNodeLogParser)}this.saveVisitCookieIfNecessary();if(startOfVisit){this.inheritVisitorScopeCustomDataAndTrackVisitorDataFromServer();if(null!=Kameleoon.API.startOfVisitCallbacks){for(var k=0,n=Kameleoon.API.startOfVisitCallbacks.length;k<n;++k){try{Kameleoon.API.startOfVisitCallbacks[k](date,visitNumber)}catch(e){}}}}if(startOfVisit&&Kameleoon.Internals.runtime.mentalistRun&&[\"full\"].indexOf(Kameleoon.Internals.configuration.trackingMode)>=0){this.sendTrackingRequest(date,\"event=mentalistSettings\"+\"&learnerVersion=\"+Kameleoon.Internals.configuration.MentalistLearner.version,startOfVisit);var goalIdToConversionProbability=Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(!0);if(!Kameleoon.Utils.testEmptyMap(goalIdToConversionProbability)){var goalIdToConversionProbabilityToSend=[];for(var goalId in goalIdToConversionProbability){goalIdToConversionProbabilityToSend.push([parseInt(goalId),goalIdToConversionProbability[goalId]])}goalIdToConversionProbabilityToSend=Kameleoon.Utils.JSONStringify(goalIdToConversionProbabilityToSend);this.sendTrackingRequest(date,\"event=mentalistPredictionStartOfVisit\"+\"&goalIdToConversionProbability=\"+encodeURIComponent(goalIdToConversionProbabilityToSend),startOfVisit)}}callback&&callback(startOfVisit)}.bind(this);forceStartOfVisitor&&(forceStartOfVisit=!0);this.restoreVisitCookieIfNecessary();var visitNumber=this.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\");if(forceStartOfVisit||null==visitNumber||this.obtainVisitIsFinished(date)){this.saveFieldToStoredData(\"startsOfVisitForCurrentPage\",this.obtainFieldFromStoredData(\"startsOfVisitForCurrentPage\")+1);var timeSincePreviousVisit;if(forceStartOfVisitor||null==visitNumber){timeSincePreviousVisit=0;visitNumber=0}else{timeSincePreviousVisit=date.getTime()-this.obtainFieldFromVisitCookieOrStoredData(\"timeLastActivity\");visitNumber++}this.saveFieldToVisitCookieOrStoredData(\"storedDataVersion\",this.SCRIPT_VERSION);this.saveFieldToVisitCookieOrStoredData(\"visitNumber\",visitNumber);this.saveFieldToVisitCookieOrStoredData(\"untrackedVisit\",Math.random()<Kameleoon.Internals.runtime.Gatherer.configuration.dropRate);this.saveFieldToVisitCookieOrStoredData(\"timeLastActivity\",date.getTime());this.saveFieldToVisitCookieOrStoredData(\"timeSincePreviousVisit\",timeSincePreviousVisit);for(var i=0,l=Kameleoon.Internals.runtime.Gatherer.configuration.customData.length;i<l;++i){var customDatum=Kameleoon.Internals.runtime.Gatherer.configuration.customData[i];null!=customDatum&&customDatum.mappingIdentifier&&this.saveFieldToStoredData(\"visitsRequestSuccess_\"+i,null)}this.saveFieldToStoredData(\"landingPageHref\",Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL());this.saveFieldToStoredData(\"landingPageTitle\",document.title);this.saveFieldToStoredData(\"landingPages\",this.obtainKeyPagesIndexes());this.saveFieldToStoredData(\"firstReferrerHref\",this.obtainCorrectedReferrer(!0));this.saveFieldToStoredData(\"firstReferrers\",this.obtainReferrersIndexes(!0));if(0==visitNumber){this.saveFieldToVisitCookieOrStoredData(\"visitorCode\",Kameleoon.Utils.obtainRandomString(this.VISITOR_CODE_LENGTH,Kameleoon.Analyst.CODE_ALPHABET));Kameleoon.Visitor.init()}else{Kameleoon.Visitor.setupFromStoredData(!1)}var landingPageHref=this.obtainFieldFromStoredData(\"landingPageHref\");var landingPageTitle=this.obtainFieldFromStoredData(\"landingPageTitle\");var landingPages=this.obtainFieldFromStoredData(\"landingPages\")||[null];var firstReferrerHref=this.obtainFieldFromStoredData(\"firstReferrerHref\");var firstReferrers=this.obtainFieldFromStoredData(\"firstReferrers\")||[null];var visit=Kameleoon.Visit.create(Kameleoon.Internals.configuration.trackingMode,Kameleoon.Internals.configuration.siteCode,this.obtainFieldFromVisitCookieOrStoredData(\"visitorCode\"),date,this.obtainFieldFromVisitCookieOrStoredData(\"timeSincePreviousVisit\"),this.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\"),landingPageHref,landingPageTitle,landingPages,firstReferrerHref,firstReferrers,this.obtainTimeZoneGroupsIndexes(),this.obtainLanguageIndex(),this.obtainBrowserIndex(),Kameleoon.Internals.runtime.browserVersion,Kameleoon.Internals.runtime.mobileDevice,this.obtainOSIndex(),this.obtainWindowWidth(),this.obtainWindowHeight(),this.obtainScreenWidth(),this.obtainScreenHeight(),this.obtainJavaEnabled(),this.obtainTimeZoneId(),this.obtainLocaleLanguageTag(),Kameleoon.Internals.runtime.deviceType,this.obtainBrowser(),this.obtainOS());Kameleoon.Visitor.addVisit(visit);callerIsTrackPage||Kameleoon.Visitor.addPage(date,Kameleoon.Utils.computeCurrentPageCanonicalURL()||Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),document.title,this.obtainKeyPagesIndexes(),this.obtainReferrersIndexes(!0));Kameleoon.Visitor.saveToStoredData();finalCallback(!0)}else{finalCallback(!1)}},inheritVisitorScopeCustomDataAndTrackVisitorDataFromServer:function(){this.LocalDataHandler.registerAction(function(){Kameleoon.Visitor.setupFromStoredData(!0);if(Kameleoon.Internals.runtime.Visitor.visits.length>1){var e=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2];var t=[];var i=[];var n=[];var a=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(var r=0,o=a.length;r<o;++r){var s=a[r];if(null!=s&&!s.disabled){var l;if(\"VISITOR\"==this.obtainCorrectedCustomDatumScope(s.scope)){var u=e.wholeVisitHistory.countByValueByCustomDatum[r];if(null!=u){t.push(r);i.push(u);n.push(!0)}}}}this.trackCustomData(t,i,n,!0);Kameleoon.Visitor.saveToStoredData()}}.bind(this),!0,{urgent:!0})},obtainCorrectedCustomDatumScope:function(e){null==e&&(e=this.DEFAULT_CUSTOM_DATUM_SCOPE);return e},initializeStoredDataIfNecessary:function(){null==Kameleoon.Internals.runtime.storedData&&(Kameleoon.Internals.runtime.storedData={});null==Kameleoon.Internals.runtime.storedData.Gatherer&&(Kameleoon.Internals.runtime.storedData.Gatherer={});null==Kameleoon.Internals.runtime.storedData.Visitor&&(Kameleoon.Internals.runtime.storedData.Visitor={})},obtainFieldFromStoredData:function(e){return Kameleoon.Internals.runtime.storedData.Gatherer[e]},saveFieldToStoredData:function(e,t){Kameleoon.Internals.runtime.storedData.Gatherer[e]=t},obtainFieldFromVisitCookie:function(e){return Kameleoon.Internals.runtime.Gatherer.visitCookie[e]},saveFieldToVisitCookie:function(e,t){Kameleoon.Internals.runtime.Gatherer.visitCookie[e]=t},restoreVisitCookieIfNecessary:function(){if(!Kameleoon.Internals.runtime.useWideDomainSupport){Kameleoon.Internals.runtime.Gatherer.visitCookie={};var e=(Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.newSimulationModeData?Kameleoon.Utils.readLocalData(\"kameleoonVisitSimulation\",\"COOKIE\",!1):null)||Kameleoon.Utils.readLocalData(\"kameleoonVisit\",\"COOKIE\",!1);if(null!=e){var t=e.split(\"/\");var i=t.length;var n=0;Kameleoon.Internals.runtime.Gatherer.visitCookie.storedDataVersion=i>n&&t[n].length>0?parseInt(t[n]):null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.visitorCode=i>n&&t[n].length>0?t[n]:null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.visitNumber=i>n&&t[n].length>0?parseInt(t[n]):null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.timeLastActivity=i>n&&t[n].length>0?parseInt(t[n]):null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.timeSincePreviousVisit=i>n&&t[n].length>0?parseInt(t[n]):null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.untrackedVisit=i>n&&t[n].length>0&&\"true\"==t[n];++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeCode=i>n&&t[n].length>0?t[n]:null;++n;Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeLogParser=i>n&&t[n].length>0?parseInt(t[n]):null}}},saveVisitCookieIfNecessary:function(){if(!Kameleoon.Internals.runtime.useWideDomainSupport){var e=\"\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.storedDataVersion&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.storedDataVersion);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.visitorCode&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.visitorCode);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.visitNumber&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.visitNumber);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.timeLastActivity&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.timeLastActivity);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.timeSincePreviousVisit&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.timeSincePreviousVisit);e+=\"/\";!0===Kameleoon.Internals.runtime.Gatherer.visitCookie.untrackedVisit&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.untrackedVisit);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeCode&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeCode);e+=\"/\";null!=Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeLogParser&&(e+=Kameleoon.Internals.runtime.Gatherer.visitCookie.trackerNodeLogParser);Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?\"kameleoonVisitSimulation\":\"kameleoonVisit\",e,Kameleoon.Internals.runtime.simulationMode?1/24:380,null,\"COOKIE\",!1,null)}},obtainFieldFromVisitCookieOrStoredData:function(e){return Kameleoon.Internals.runtime.useWideDomainSupport?this.obtainFieldFromStoredData(e):this.obtainFieldFromVisitCookie(e)},saveFieldToVisitCookieOrStoredData:function(e,t){Kameleoon.Internals.runtime.useWideDomainSupport?this.saveFieldToStoredData(e,t):this.saveFieldToVisitCookie(e,t)},obtainVisitIsFinished:function(e){var t=e.getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration;this.restoreVisitCookieIfNecessary();return this.obtainFieldFromVisitCookieOrStoredData(\"timeLastActivity\")<t},obtainTrackerNodeCode:function(e,t){return Kameleoon.Analyst.obtainTrackerNodeCodeDeterministic(e+t+\"node\")},obtainTrackerNodeLogParser:function(e,t){return Kameleoon.Analyst.obtainTrackerNodeLogParserDeterministic(this.obtainFieldFromVisitCookieOrStoredData(\"trackerNodeCode\"),e+t+\"tnc\")},obtainTimeZoneId:function(){return jstz.determine().name()},obtainTimeZoneGroupsIndexes:function(){var e=this.obtainTimeZoneId();var t=[];for(var i=0;i<Kameleoon.Internals.runtime.Gatherer.configuration.timeZoneGroups.length;i++){!Kameleoon.Internals.runtime.Gatherer.configuration.timeZoneGroups[i].disabled&&this.obtainTimeZoneGroupMatches(Kameleoon.Internals.runtime.Gatherer.configuration.timeZoneGroups[i].timeZones,e)&&t.push(i)}0==t.length&&t.push(null);return t},obtainTimeZoneGroupMatches:function(e,t){var i=t.toUpperCase();for(var n=0;n<e.length;n++){if(e[n].toUpperCase()==i){return!0}}return!1},obtainLocaleLanguageTag:function(){var e=null;navigator&&(navigator.language?e=navigator.language:navigator.browserLanguage?e=navigator.browserLanguage:navigator.systemLanguage?e=navigator.systemLanguage:navigator.userLanguage&&(e=navigator.userLanguage));return e||this.DEFAULT_LOCALE_LANGUAGE_TAG},obtainLanguage:function(){var e=this.obtainLocaleLanguageTag();var t=e.indexOf(\"-\");if(t>=0){return e.substring(0,t)}return e},obtainLanguageIndex:function(){var e=this.obtainLanguage().toUpperCase();for(var t=0;t<Kameleoon.Internals.runtime.Gatherer.configuration.languages.length;t++){if(!Kameleoon.Internals.runtime.Gatherer.configuration.languages[t].disabled&&Kameleoon.Internals.runtime.Gatherer.configuration.languages[t].code.toUpperCase()==e){return t}}return null},obtainBrowser:function(){var e=Kameleoon.Internals.runtime.browserName;\"Internet Explorer\"!=e&&\"Microsoft Edge\"!=e||(e=\"Explorer\");return e},obtainBrowserIndex:function(){var e=this.obtainBrowser();if(null==e){return null}var t=e.toUpperCase();for(var i=0;i<Kameleoon.Internals.runtime.Gatherer.configuration.browsers.length;i++){if(!Kameleoon.Internals.runtime.Gatherer.configuration.browsers[i].disabled&&Kameleoon.Internals.runtime.Gatherer.configuration.browsers[i].name.toUpperCase()==t){return i}}return null},obtainOS:function(){if(Kameleoon.Internals.runtime.windowsphone){return\"Windows Phone\"}if(Kameleoon.Internals.runtime.ios){return\"iOS\"}if(Kameleoon.Internals.runtime.android){return\"Android\"}if(Kameleoon.Internals.runtime.windows){return\"Windows\"}if(Kameleoon.Internals.runtime.mac){return\"Mac\"}if(Kameleoon.Internals.runtime.linux){return\"Linux\"}return null},obtainOSIndex:function(){var e=this.obtainOS();if(null==e){return null}var t=e.toUpperCase();for(var i=0;i<Kameleoon.Internals.runtime.Gatherer.configuration.oss.length;i++){if(!Kameleoon.Internals.runtime.Gatherer.configuration.oss[i].disabled&&Kameleoon.Internals.runtime.Gatherer.configuration.oss[i].name.toUpperCase()==t){return i}}return null},obtainReferrer:function(){return document.referrer},obtainCorrectedReferrer:function(e){switch(this.obtainReferrerType(e)){case 0:case 1:case 2:return null;default:return this.obtainReferrer()}},obtainReferrerType:function(e){if(this.obtainReferrerIsIgnored(e)){return 0}var t=this.obtainInternalReferrerType();var i=this.obtainFieldFromStoredData(\"startsOfVisitForCurrentPage\");if(i>1||1==i&&t>=0){return 1}if(t>=0){return 2}return 3},obtainReferrerIsIgnored:function(e){var t=this.obtainReferrer();if(Kameleoon.Internals.runtime.Gatherer.configuration.directNoneReferrerOnlyFirst&&\"\"==t&&!e){return!0}var i=window.location.pathname;var n=Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages.length;for(var a=0;a<n;a++){if(i==Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages[a]){return!0}}return!1},obtainInternalReferrerType:function(){var e=this.obtainReferrer();if(\"\"==e){return-1}var t=this.parseHostName(e);var i=Kameleoon.Utils.obtainCurrentRootDomain();if(null!=i&&this.computeIfSuffix(t,i)){return Kameleoon.Internals.runtime.Gatherer.configuration.aliasSites.length}var n=Kameleoon.Internals.runtime.Gatherer.configuration.aliasSites.length;for(var a=0;a<n;a++){if(this.computeIfSuffix(t,Kameleoon.Internals.runtime.Gatherer.configuration.aliasSites[a])){return a}}return-1},obtainReferrersIndexes:function(e){switch(this.obtainReferrerType(e)){case 0:case 2:return[null];case 1:return[0];default:var t=[];var i=Number.NEGATIVE_INFINITY;for(var n=0;n<Kameleoon.Internals.runtime.Gatherer.configuration.referrers.length;n++){if(!Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n].disabled&&this.obtainReferrerMatches(Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n])){var a=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n].priority;null==a&&(a=Number.NEGATIVE_INFINITY);if(a>=i){if(a>i){t=[];i=a}t.push(n+1)}}}0==t.length&&t.push(null);return t}},obtainReferrerMatches:function(e){var t=e.detections;for(var i=0;i<t.length;i++){if(this.obtainReferrerDetectionMatches(t[i])){return!0}}return!1},obtainReferrerDetectionMatches:function(e){var t=this.obtainReferrerDetectionPartMatches(e.method,e.parameters);e.and&&(t=t&&this.obtainReferrerDetectionPartMatches(e.andMethod,e.andParameters));return t},obtainReferrerDetectionPartMatches:function(method,parameters){switch(method.toUpperCase()){case\"REFERRER_REGEX\":return new RegExp(parameters).test(this.obtainReferrer());case\"URL_REGEX\":var regExp=new RegExp(parameters);return regExp.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||regExp.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:try{return!0===eval(parameters)}catch(e){return!1}}},obtainKeyPagesIndexes:function(){var e=[];for(var t=0,i=Kameleoon.Internals.runtime.Gatherer.configuration.keyPages.length;t<i;t++){var n=Kameleoon.Internals.runtime.Gatherer.configuration.keyPages[t];if(!n.disabled){var a=new RegExp(n.relativeURLRegExp);(a.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||a.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL()))&&e.push(t)}}0==e.length&&e.push(null);return e},obtainKeyWordsIndexes:function(e){var t=[];for(var i=0,n=Kameleoon.Internals.runtime.Gatherer.configuration.keyWords.length;i<n;i++){var a=Kameleoon.Internals.runtime.Gatherer.configuration.keyWords[i];!a.disabled&&new RegExp(a.wordRegExp,\"i\").test(e)&&t.push(i)}return t},obtainWindowWidth:function(){var e=null;document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth);\"CSS1Compat\"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth);window.innerWidth&&(e=window.innerWidth);return e},obtainWindowHeight:function(){var e=null;document.body&&document.body.offsetHeight&&(e=document.body.offsetHeight);\"CSS1Compat\"==document.compatMode&&document.documentElement&&document.documentElement.offsetHeight&&(e=document.documentElement.offsetHeight);window.innerHeight&&(e=window.innerHeight);return e},obtainScreenWidth:function(){return window.screen.width},obtainScreenHeight:function(){return window.screen.height},obtainJavaEnabled:function(){return!0===navigator.javaEnabled()},obtainCustomDatumValueMap:function(customDataIndex){var customDatumValueMap=null;var customDatum=Kameleoon.Internals.runtime.Gatherer.configuration.customData[customDataIndex];if(null!=customDatum&&!customDatum.disabled){switch(customDatum.method.toUpperCase()){case\"GTM\":if(window.dataLayer&&customDatum.variableName){for(var i=0,l=dataLayer.length;i<l;++i){var dataLayer_i=dataLayer[i];if(dataLayer_i.hasOwnProperty(customDatum.variableName)){customDatumValueMap={value:dataLayer_i[customDatum.variableName],overwrite:!1};break}}}break;case\"TC\":if(window.tc_vars&&customDatum.variableName){var tc_var=tc_vars[customDatum.variableName];\"\"==tc_var&&(tc_var=null);customDatumValueMap={value:tc_var,overwrite:!1}}break;case\"TEALIUM\":if(window.utag_data&&customDatum.variableName){var utagData=utag_data[customDatum.variableName];\"\"==utagData&&(utagData=null);customDatumValueMap={value:utagData,overwrite:!1}}break;case\"CUSTOM_CODE\":try{customDatum.customEvalCodeGeneratedCode||(customDatum.customEvalCodeGeneratedCode=\"(function() {\"+customDatum.customEvalCode+\"})();\");customDatumValueMap=eval(customDatum.customEvalCodeGeneratedCode);null==customDatumValueMap.overwrite&&(customDatumValueMap.overwrite=!1)}catch(e){}break;default:break}}return customDatumValueMap},computeIfSuffix:function(e,t){var i=e.length-t.length;var n=e.lastIndexOf(t,i);return n>=0&&n==i},joinAll:function(e,t){var i=\"\";if(e.length>0){i+=e[0];for(var n=1;n<e.length;n++){i+=t;i+=e[n]}}return i},parseHostName:function(e){var t=document.createElement(\"a\");t.href=e;return t.hostname},LocalDataHandler:{INTERVAL:1*1e3,init:function(){null==Kameleoon.Internals.runtime.Gatherer.LocalDataHandler&&(Kameleoon.Internals.runtime.Gatherer.LocalDataHandler={});Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions=[];Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.repeatedActions=[];var e=function(){if(null!=Kameleoon.Internals.runtime){var e=(new Date).getTime();var t=!1;var i=[];for(var n=0,a=Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions.length;n<a;++n){var r;1==(r=Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions[n]).saveLocalData&&(t=!0);i.push(r.actionFunction)}Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions=[];for(var n=0,a=Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.repeatedActions.length;n<a;++n){var r;if((r=Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.repeatedActions[n]).lastRunTime+r.repeatInterval<=e){1==r.saveLocalData&&(t=!0);i.push(r.actionFunction);r.lastRunTime=e}}this.launchAction(function(){for(var e=0,t=i.length;e<t;++e){try{i[e]()}catch(e){}}}.bind(this),t)}}.bind(this);Kameleoon.Utils.setInterval(e,this.INTERVAL)},registerAction:function(e,t,i){if(!0===i.urgent){this.launchAction(e,t)}else{var n=parseInt(i.repeatInterval);if(isNaN(n)){Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions.push({actionFunction:e,saveLocalData:t})}else{!0===i.firstRunNow&&Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.oneShotActions.push({actionFunction:e,saveLocalData:t});Kameleoon.Internals.runtime.Gatherer.LocalDataHandler.repeatedActions.push({actionFunction:e,saveLocalData:t,repeatInterval:n,lastRunTime:(new Date).getTime()})}}},launchAction:function(e,t){e();t&&Kameleoon.Utils.saveStoredData(null)}}};Kameleoon.Visitor={STORED_DATA_NAME_PREFIX:\"Kameleoon.Visitor.\",init:function(){null==Kameleoon.Internals.runtime.Visitor&&(Kameleoon.Internals.runtime.Visitor={});Kameleoon.Internals.runtime.Visitor.visits=[];Kameleoon.Internals.runtime.Visitor.currentVisit=null;Kameleoon.Internals.runtime.Visitor.totalVisits=0;Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit=null;Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithoutCache=null;Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithCache=null;(Kameleoon.Internals.runtime.Visitor.imagesDetectionCacheTimeout=null)==Kameleoon.API&&(Kameleoon.API={});Kameleoon.API.visits=[];Kameleoon.API.firstVisit=null;Kameleoon.API.currentVisit=null;(Kameleoon.API.previousVisit=null)==Kameleoon.API.visitor&&(Kameleoon.API.visitor={});Kameleoon.API.visitor.totalVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;Kameleoon.API.visitor.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;Kameleoon.API.visitor.customData={}},addVisit:function(e){Kameleoon.Internals.runtime.Visitor.visits.push(e);Kameleoon.Internals.runtime.Visitor.currentVisit=e;Kameleoon.Internals.runtime.Visitor.totalVisits++;null==Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit&&(Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit=e.timeStarted);this.updateAPIAfterCurrentVisitChange();Kameleoon.API.visitor.totalVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;Kameleoon.API.visitor.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;var t=Kameleoon.Internals.runtime.Visitor.visits.length;var i=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);if(t>i){Kameleoon.Internals.runtime.Visitor.visits=Kameleoon.Internals.runtime.Visitor.visits.slice(t-i);Kameleoon.API.visits=Kameleoon.API.visits.slice(t-i);Kameleoon.API.firstVisit=Kameleoon.API.visits[0];Kameleoon.API.previousVisit=i>1?Kameleoon.API.visits[i-2]:null}},addPreviousVisits:function(e){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){var t=Kameleoon.Internals.runtime.Visitor.currentVisit;var i=[];for(var n=0,a=Kameleoon.Internals.runtime.Visitor.visits.length-1;n<a;++n){i.push(Kameleoon.Internals.runtime.Visitor.visits[n])}for(var n=0,a=e.length;n<a;++n){i.push(e[n])}i.sort(function(e,t){var i=e.timeStarted-t.timeStarted;if(0!=i){return i}if(0!=(i=e.visitorCode-t.visitorCode)){return i}return i=e.visitNumber-t.visitNumber});this.init();var r=null;var o=null;for(var n=0,a=i.length;n<a;n++){var s=i[n];var l=s.visitorCode;var u=s.visitNumber;l==r&&u==o||this.addVisit(s);r=l;o=u}this.addVisit(t)}},saveToStoredData:function(){this.saveFieldToStoredData(\"visits\",Kameleoon.Internals.runtime.Visitor.visits);this.saveFieldToStoredData(\"totalVisits\",Kameleoon.Internals.runtime.Visitor.totalVisits);this.saveFieldToStoredData(\"timeStartedEldestVisit\",Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit);this.saveFieldToStoredData(\"imagesDetectionTimeWithoutCache\",Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithoutCache);this.saveFieldToStoredData(\"imagesDetectionTimeWithCache\",Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithCache);this.saveFieldToStoredData(\"imagesDetectionCacheTimeout\",Kameleoon.Internals.runtime.Visitor.imagesDetectionCacheTimeout)},setupFromStoredData:function(e){var t=this.obtainFieldFromStoredData(\"visits\");this.init();if(null==t){if(e){var i=Kameleoon.Gatherer;i.restoreVisitCookieIfNecessary();var n=i.obtainFieldFromStoredData(\"landingPageHref\");var a=i.obtainFieldFromStoredData(\"landingPageTitle\");var r=i.obtainFieldFromStoredData(\"landingPages\")||[null];var o=i.obtainFieldFromStoredData(\"firstReferrerHref\");var s=i.obtainFieldFromStoredData(\"firstReferrers\")||[null];var l=Kameleoon.Visit.create(Kameleoon.Internals.configuration.trackingMode,Kameleoon.Internals.configuration.siteCode,i.obtainFieldFromVisitCookieOrStoredData(\"visitorCode\"),new Date,i.obtainFieldFromVisitCookieOrStoredData(\"timeSincePreviousVisit\"),i.obtainFieldFromVisitCookieOrStoredData(\"visitNumber\"),n,a,r,o,s,i.obtainTimeZoneGroupsIndexes(),i.obtainLanguageIndex(),i.obtainBrowserIndex(),Kameleoon.Internals.runtime.browserVersion,Kameleoon.Internals.runtime.mobileDevice,i.obtainOSIndex(),i.obtainWindowWidth(),i.obtainWindowHeight(),i.obtainScreenWidth(),i.obtainScreenHeight(),i.obtainJavaEnabled(),i.obtainTimeZoneId(),i.obtainLocaleLanguageTag(),Kameleoon.Internals.runtime.deviceType,i.obtainBrowser(),i.obtainOS());this.addVisit(l)}return e}var u=t.length;for(var m=0;m<u;++m){var l=t[m];Kameleoon.Visit.convertVisitFromStoredData(l);this.addVisit(l)}Kameleoon.Internals.runtime.Visitor.totalVisits=this.obtainFieldFromStoredData(\"totalVisits\");Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit=this.obtainFieldFromStoredData(\"timeStartedEldestVisit\");Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithoutCache=this.obtainFieldFromStoredData(\"imagesDetectionTimeWithoutCache\");Kameleoon.Internals.runtime.Visitor.imagesDetectionTimeWithCache=this.obtainFieldFromStoredData(\"imagesDetectionTimeWithCache\");Kameleoon.Internals.runtime.Visitor.imagesDetectionCacheTimeout=this.obtainFieldFromStoredData(\"imagesDetectionCacheTimeout\");Kameleoon.API.visitor.totalVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;Kameleoon.API.visitor.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;return!1},obtainFieldFromStoredData:function(e){return Kameleoon.Internals.runtime.storedData.Visitor[e]},saveFieldToStoredData:function(e,t){Kameleoon.Internals.runtime.storedData.Visitor[e]=t},addPage:function(e,t,i,n,a){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(e,t,i,n,a);this.updateAPIAfterCurrentVisitChange()}},addActivity:function(e,t){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(e,t);this.updateAPIAfterCurrentVisitChange()}},addInterests:function(e,t){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addInterests(e,t);this.updateAPIAfterCurrentVisitChange()}},addSearch:function(e,t,i,n){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addSearch(e,t,i,n);this.updateAPIAfterCurrentVisitChange()}},addConversion:function(e,t,i){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){i?Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(e,-1,-t):Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(e,1,t);this.updateAPIAfterCurrentVisitChange()}},addTargetingSegment:function(e,t){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(e,t);this.updateAPIAfterCurrentVisitChange()}},addExperiment:function(e,t,i,n){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addExperiment(e,t,i,n);this.updateAPIAfterCurrentVisitChange()}},addPersonalization:function(e,t,i,n){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addPersonalization(e,t,i,n);this.updateAPIAfterCurrentVisitChange()}},addWeather:function(e,t,i,n,a,r,o,s){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addWeather(e,t,i,n,a,r,o,s);this.updateAPIAfterCurrentVisitChange()}},addCustomData:function(e,t,i){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(e,t,i);this.updateAPIAfterCurrentVisitChange()}},addTabCount:function(e){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addTabCount(e);this.updateAPIAfterCurrentVisitChange()}},addProduct:function(e){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addProduct(e);this.updateAPIAfterCurrentVisitChange()}},addGeolocation:function(e,t,i,n,a,r){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addGeolocation(e,t,i,n,a,r);this.updateAPIAfterCurrentVisitChange()}},addNumberClicks:function(e){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addNumberClicks(e);this.updateAPIAfterCurrentVisitChange()}},addAdBlocker:function(){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker();this.updateAPIAfterCurrentVisitChange()}},addIP:function(e){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addIP(e);this.updateAPIAfterCurrentVisitChange()}},addExternalSolutionData:function(e,t){if(null!=Kameleoon.Internals.runtime.Visitor.currentVisit){Kameleoon.Internals.runtime.Visitor.currentVisit.addExternalSolutionData(e,t);this.updateAPIAfterCurrentVisitChange()}},updateAPIAfterCurrentVisitChange:function(){var e=Kameleoon.Internals.runtime.Visitor.visits.length;Kameleoon.API.visits[e-1]=Kameleoon.Internals.runtime.Visitor.currentVisit.buildVisitForAPI();Kameleoon.API.firstVisit=Kameleoon.API.visits[0];Kameleoon.API.currentVisit=Kameleoon.API.visits[e-1];if(Kameleoon.Internals.runtime.mentalistRun){Object.defineProperty(Kameleoon.API.currentVisit,\"conversionPredictions\",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(!1)}});Object.defineProperty(Kameleoon.API.currentVisit,\"initialConversionPredictions\",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(!0)}})}e>1&&(Kameleoon.API.previousVisit=Kameleoon.API.visits[e-2]);Kameleoon.API.visitor.customData={};for(var t in Kameleoon.Internals.runtime.Visitor.currentVisit.wholeVisitHistory.countByValueByCustomDatum){var i=Kameleoon.Internals.runtime.Gatherer.configuration.customData[t];if(null!=i&&!i.disabled&&\"VISITOR\"==Kameleoon.Gatherer.obtainCorrectedCustomDatumScope(i.scope)){var n=Kameleoon.Internals.runtime.Visitor.currentVisit.wholeVisitHistory.countByValueByCustomDatum[t];switch(i.type){case\"LIST\":var a=[];for(var r in n){a.push(r)}Kameleoon.API.visitor.customData[i.name]=a;break;case\"COUNT_LIST\":var o=[];for(var r in n){o.push({value:r,count:n[r]})}Kameleoon.API.visitor.customData[i.name]=o;break;default:Kameleoon.API.visitor.customData[i.name]=Object.keys(n)[0];break}}}},obtainKeyPageIsVisited:function(e){for(var t=0,i=Kameleoon.Internals.runtime.Visitor.visits.length;t<i;++t){if(Kameleoon.Internals.runtime.Visitor.visits[t].obtainKeyPageIsVisited(e)){return!0}}return!1},obtainKeyWordIsSearched:function(e){for(var t=0,i=Kameleoon.Internals.runtime.Visitor.visits.length;t<i;++t){if(Kameleoon.Internals.runtime.Visitor.visits[t].obtainKeyWordIsSearched(e)){return!0}}return!1},obtainInterestIsActive:function(e){for(var t=0,i=Kameleoon.Internals.runtime.Visitor.visits.length;t<i;++t){if(Kameleoon.Internals.runtime.Visitor.visits[t].obtainInterestIsActive(e,null)){return!0}}return!1},obtainReferrerIsPresent:function(e){for(var t=0,i=Kameleoon.Internals.runtime.Visitor.visits.length;t<i;++t){if(Kameleoon.Internals.runtime.Visitor.visits[t].obtainReferrerIsPresent(e)){return!0}}return!1},obtainLastVisitWithFreshActiveInterest:function(e){for(var t=Kameleoon.Internals.runtime.Visitor.visits.length-1;t>=0;--t){var i=Kameleoon.Internals.runtime.Visitor.visits[t];if(i.obtainInterestIsActive(e,!0)){return i}}return null},obtainNumberConversions:function(e){var t=0;for(var i=Kameleoon.Internals.runtime.Visitor.visits.length-1;i>=0;--i){t+=Kameleoon.Internals.runtime.Visitor.visits[i].obtainNumberConversions(e)}return t},obtainContainerNumberActivations:function(e,t,i,n,a,r,o,s){var l=s?\"obtainExperimentNumberActivations\":\"obtainPersonalizationNumberActivations\";var u=Kameleoon.Internals.runtime.Visitor.visits.length;var m=0;if(u>0){if(a){var c=Kameleoon.Internals.runtime.Visitor.visits[u-1][l](e,t,i,n);m+=o?c>0?1:0:c}if(r){for(var d=0,h=u-1;d<h;++d){var v=Kameleoon.Internals.runtime.Visitor.visits[d][l](e,t,i,n);m+=o?v>0?1:0:v}}}return m},obtainPageNumberViews:function(e,t,i,n,a,r){var o=Kameleoon.Internals.runtime.Visitor.visits.length;var s=0;if(o>0){a&&(s+=Kameleoon.Internals.runtime.Visitor.visits[o-1].obtainPageNumberViews(e,t,i,n));if(r){for(var l=0,u=o-1;l<u;++l){s+=Kameleoon.Internals.runtime.Visitor.visits[l].obtainPageNumberViews(e,t,i,n)}}}return s}};Kameleoon.Visit={create:function(e,t,i,n,a,r,o,s,l,u,m,c,d,h,v,I,f,g,K,b,V,C,T,S,A,D,p){var y={};var k=n.getTime();y.wholeVisitHistory=Kameleoon.VisitHistory.create(k);y.trackingMode=e;y.siteCode=t;y.visitorCode=i;y.timeStarted=k;y.timeLastActivity=k;y.timeSincePreviousVisit=a;y.visitNumber=r;y.landingPages=l;y.firstReferrers=m;y.timeZoneGroups=c;y.language=d;y.browser=h;y.browserVersion=v;y.mobileBrowser=I;y.os=f;y.windowWidth=g;y.windowHeight=K;y.screenWidth=b;y.screenHeight=V;y.javaEnabled=C;y.timesByTargetingSegmentId={};y.variationIdByExperimentId={};y.mentalistDecisionByExperimentId={};y.timesByVariationIdByExperimentId={};y.variationIdByPersonalizationId={};y.mentalistDecisionByPersonalizationId={};y.timesByVariationIdByPersonalizationId={};y.sunriseTime=null;y.sunsetTime=null;y.weatherCode=null;y.productEansLastPage={};y.productEansAllButLastPages={};y.timeZoneId=T;y.localeLanguageTag=S;y.landingPageHref=o;y.landingPageTitle=s;y.timesByPageHref={};y.pageTitleByHref={};y.firstReferrerHref=u;y.country=null;y.region=null;y.city=null;y.postalCode=null;y.latitude=null;y.longitude=null;y.deviceType=A;y.browserName=D;y.osName=p;y.adBlocker=!1;y.ips={};y.valuesByKeyByExternalSolution={};this.createBinds(y);return y},convertVisitFromStoredData:function(i){var e=function(e,t){i[e]=void 0===i[e]?t:i[e]}.bind(this);e(\"trackingMode\",Kameleoon.Internals.configuration.trackingMode);e(\"siteCode\",Kameleoon.Internals.configuration.siteCode);e(\"visitorCode\",\"\");e(\"timeStarted\",0);e(\"timeLastActivity\",0);Kameleoon.VisitHistory.convertVisitHistoryFromStoredData(i.wholeVisitHistory,i.conversionCountByGoalId,i.revenueCountByGoalId);e(\"timeSincePreviousVisit\",0);e(\"visitNumber\",0);e(\"landingPages\",[null]);e(\"firstReferrers\",[null]);e(\"timeZoneGroups\",[null]);e(\"language\",null);e(\"browser\",null);e(\"browserVersion\",null);e(\"mobileBrowser\",!1);e(\"os\",null);e(\"windowWidth\",null);e(\"windowHeight\",null);e(\"screenWidth\",null);e(\"screenHeight\",null);e(\"javaEnabled\",!1);e(\"timesByTargetingSegmentId\",{});e(\"variationIdByExperimentId\",{});e(\"mentalistDecisionByExperimentId\",{});e(\"timesByVariationIdByExperimentId\",{});e(\"variationIdByPersonalizationId\",{});e(\"mentalistDecisionByPersonalizationId\",{});e(\"timesByVariationIdByPersonalizationId\",{});e(\"sunriseTime\",null);e(\"sunsetTime\",null);e(\"weatherCode\",null);e(\"productEansLastPage\",{});e(\"productEansAllButLastPages\",{});e(\"timeZoneId\",\"UTC\");e(\"localeLanguageTag\",\"en\");e(\"landingPageHref\",null);if(null==i.landingPageHref){e(\"originalLandingPage\",null);i.landingPageHref=i.originalLandingPage;delete i.originalLandingPage}e(\"landingPageTitle\",null);e(\"timesByPageHref\",{});e(\"pageTitleByHref\",{});e(\"firstReferrerHref\",null);if(null==i.firstReferrerHref){e(\"originalReferrer\",null);i.firstReferrerHref=i.originalReferrer;delete i.originalReferrer}e(\"country\",null);e(\"region\",null);e(\"city\",null);e(\"postalCode\",null);e(\"latitude\",null);e(\"longitude\",null);e(\"deviceType\",null);e(\"browserName\",null);e(\"osName\",null);e(\"adBlocker\",!1);e(\"ips\",{});e(\"valuesByKeyByExternalSolution\",{});this.createBinds(i)},convertVisitFromServer:function(e){Kameleoon.VisitHistory.convertVisitHistoryFromServer(e.wholeVisitHistory);var t=e.productEansLastPage;e.productEansLastPage={};for(var i=0,n=t.length;i<n;++i){e.productEansLastPage[t[i]]=!0}var a=e.productEansAllButLastPages;e.productEansAllButLastPages={};for(var i=0,n=a.length;i<n;++i){e.productEansAllButLastPages[a[i]]=!0}var r=e.ips;e.ips={};for(var i=0,n=r.length;i<n;++i){e.ips[r[i]]=!0}for(var o in e.valuesByKeyByExternalSolution){var s=e.valuesByKeyByExternalSolution[o];for(var l in s){var u=s[l];var m={};for(var i=0,n=u.length;i<n;++i){m[u[i]]=!0}s[l]=m}}this.createBinds(e)},addContainer:function(e,t,i,n,a,r,o,s){if(void 0===a[t]||s&&null!=i&&null==a[t]){a[t]=i;r[t]=n}var l=o[t];if(null==l){l={};o[t]=l}var u=l[i];if(null==u){u=[];l[i]=u}u.push(e.getTime())},computeContainerIsActive:function(e,t,i){return t===i[e]},computeContainerNumberActivations:function(e,t,i,n,a){var r=a[e];if(null==r){return 0}var o=r[t];if(null==o){return 0}return this.computeObjectNumberPresence(i,n,o)},computeObjectNumberPresence:function(e,t,i){var n=0;for(var a=0,r=i.length;a<r;++a){var o=i[a];(null==e||o>=e)&&(null==t||o<=t)&&n++}return n},createBinds:function(e){e.buildVisitForAPI=function(){var e=Kameleoon.Internals.runtime.Gatherer.configuration;var t=this.wholeVisitHistory;var i={};var n=\"<OTHER / UNKNOWN>\";i.visitorCode=this.visitorCode;i.timeStarted=this.timeStarted;i.timeLastActivity=this.timeLastActivity;i.timeSincePreviousVisit=this.timeSincePreviousVisit;i.visitNumber=this.visitNumber;var a=e.languages[this.language];i.language=null==a||a.disabled?n:a.code;i.environment={};var r=e.browsers[this.browser];i.environment.browser=null==r||r.disabled?n:r.name;i.environment.browserVersion=this.browserVersion;i.environment.mobileBrowser=this.mobileBrowser;var o=e.oss[this.os];i.environment.os=null==o||o.disabled?n:o.name;i.environment.windowWidth=this.windowWidth;i.environment.windowHeight=this.windowHeight;i.environment.screenWidth=this.screenWidth;i.environment.screenHeight=this.screenHeight;i.environment.timeZone=this.timeZoneId;i.acquisition={};i.acquisition.landingPages=[];for(var s=0,l=this.landingPages.length;s<l;s++){var u=this.landingPages[s];var m=e.keyPages[u];i.acquisition.landingPages.push(null==m||m.disabled?n:m.name)}i.acquisition.referrers=[];for(var s=0,l=this.firstReferrers.length;s<l;s++){var c=this.firstReferrers[s];var d;if(0==c){d=\"<RESTART>\"}else{var h=e.referrers[c-1];d=null==h||h.disabled?n:h.name}i.acquisition.referrers.push(d)}i.weather={};i.weather.temperature=t.temperature;i.weather.humidity=t.humidity;i.weather.pressure=t.pressure;i.weather.windSpeed=t.windSpeed;i.weather.cloudiness=t.cloudiness;i.weather.sunrise=null==this.sunriseTime?null:new Date(this.sunriseTime);i.weather.sunset=null==this.sunsetTime?null:new Date(this.sunsetTime);i.weather.code=this.weatherCode;i.customData={};for(var v in t.countByValueByCustomDatum){var I=e.customData[v];if(null!=I&&!I.disabled){var f=t.countByValueByCustomDatum[v];switch(I.type){case\"LIST\":var g=[];for(var K in f){g.push(K)}i.customData[I.name]=g;break;case\"COUNT_LIST\":var b=[];for(var K in f){b.push({value:K,count:f[K]})}i.customData[I.name]=b;break;default:i.customData[I.name]=Object.keys(f)[0];break}}}i.conversions=[];if(null!=Kameleoon.Internals.configuration.goals){for(var s=0,l=Kameleoon.Internals.configuration.goals.length;s<l;++s){var V=Kameleoon.Internals.configuration.goals[s];var C=t.conversionCountByGoalId[V.id];if(null!=C&&C>0){var T=t.revenueCountByGoalId[V.id];null==T&&(T=0);i.conversions.push({goalName:V.name,goalId:V.id,count:C,revenue:T})}}}i.activeExperiments=[];if(null!=Kameleoon.Internals.runtime.experiments){for(var s=0,l=Kameleoon.Internals.runtime.experiments.length;s<l;++s){var S=Kameleoon.Internals.runtime.experiments[s];var A=S.id;var D;if(null!=(D=S.registeredVariationId)&&\"none\"!=D){var p={id:A,name:S.name,variationId:D};var y=Kameleoon.Analyst.findVariation(D);y&&(p.variationName=y.name);this.mentalistDecisionByExperimentId[A]&&(p.mentalistDecision=!0);i.activeExperiments.push(p)}}}i.activePersonalizations=[];if(null!=Kameleoon.Internals.runtime.personalizations){for(var s=0,l=Kameleoon.Internals.runtime.personalizations.length;s<l;++s){var k=Kameleoon.Internals.runtime.personalizations[s];var E=k.id;var D;if(null!=(D=this.variationIdByPersonalizationId[E])){var p={id:E,name:k.name};this.mentalistDecisionByPersonalizationId[E]&&(p.mentalistDecision=!0);i.activePersonalizations.push(p)}}}i.productEansLastPage=[];for(var P in this.productEansLastPage){i.productEansLastPage.push(P)}i.productEansAllButLastPages=[];for(var P in this.productEansAllButLastPages){i.productEansAllButLastPages.push(P)}i.interests=[];for(var N in t.freshByActiveInterest){var _=e.interests[N];null==_||_.disabled||i.interests.push(_.name)}null!=this.landingPageHref&&(i.acquisition.originalLandingPage=this.landingPageHref);null!=this.firstReferrerHref&&(i.acquisition.originalReferrer=this.firstReferrerHref);i.geolocation={};null!=this.country&&(i.geolocation.country=this.country);null!=this.region&&(i.geolocation.region=this.region);null!=this.city&&(i.geolocation.city=this.city);null!=this.postalCode&&(i.geolocation.postalCode=this.postalCode);null!=this.latitude&&(i.geolocation.latitude=this.latitude);null!=this.longitude&&(i.geolocation.longitude=this.longitude);i.pageViews=t.timesStartedPages.length;i.timeSpent=this.timeLastActivity-this.timeStarted;return i};e.addPage=function(e,t,i,n,a){var r=e.getTime();this.addActivity(e,!0);this.wholeVisitHistory.addPage(r,n,a);var o=this.timesByPageHref[t];if(null==o){o=[];this.timesByPageHref[t]=o}o.push(r);this.pageTitleByHref[t]=i;for(var s in this.productEansLastPage){this.productEansAllButLastPages[s]=!0}this.productEansLastPage={}};e.addActivity=function(e,t){var i=e.getTime();t&&(this.timeLastActivity=i);this.wholeVisitHistory.addActivity(i,t)};e.addInterests=function(e,t){this.wholeVisitHistory.addInterests(e,t)};e.addSearch=function(e,t,i,n){this.addActivity(e,!0);this.wholeVisitHistory.addSearch(e.getTime(),t,i,n)};e.addConversions=function(e,t,i){this.wholeVisitHistory.addConversions(e,t,i)};e.addTargetingSegment=function(e,t){var i=this.timesByTargetingSegmentId[t];if(null==i){i=[];this.timesByTargetingSegmentId[t]=i}i.push(e.getTime())};e.addExperiment=function(e,t,i,n){Kameleoon.Visit.addContainer(e,t,i,n,this.variationIdByExperimentId,this.mentalistDecisionByExperimentId,this.timesByVariationIdByExperimentId,!1)};e.addPersonalization=function(e,t,i,n){Kameleoon.Visit.addContainer(e,t,i,n,this.variationIdByPersonalizationId,this.mentalistDecisionByPersonalizationId,this.timesByVariationIdByPersonalizationId,!0)};e.addWeather=function(e,t,i,n,a,r,o,s){this.wholeVisitHistory.addWeather(e,t,i,n,a);null==this.sunriseTime&&(this.sunriseTime=r);null==this.sunsetTime&&(this.sunsetTime=o);null==this.weatherCode&&(this.weatherCode=s)};e.addCustomData=function(e,t,i){this.wholeVisitHistory.addCustomData(e,t,i)};e.addTabCount=function(e){this.wholeVisitHistory.addTabCount(e)};e.addProduct=function(e){this.productEansLastPage[e]=!0};e.addGeolocation=function(e,t,i,n,a,r){this.country=e;this.region=t;this.city=i;this.postalCode=n;this.latitude=a;this.longitude=r};e.addNumberClicks=function(e){this.wholeVisitHistory.addNumberClicks(e)};e.addAdBlocker=function(){this.adBlocker=!0};e.addIP=function(e){this.ips[e]=!0};e.addExternalSolutionData=function(e,t){if(!Kameleoon.Utils.testEmptyMap(t)){var i=this.valuesByKeyByExternalSolution[e];if(null==i){i={};this.valuesByKeyByExternalSolution[e]=i}for(var n in t){var a=t[n];var r=a.length;if(r>0){var o=i[n];if(null==o){o={};i[n]=o}for(var s=0;s<r;++s){o[a[s]]=!0}}}}};e.obtainKeyPageIsVisited=function(e){return this.wholeVisitHistory.obtainKeyPageIsVisited(e)};e.obtainKeyWordIsSearched=function(e){return this.wholeVisitHistory.obtainKeyWordIsSearched(e)};e.obtainInterestIsActive=function(e,t){return this.wholeVisitHistory.obtainInterestIsActive(e,t)};e.obtainReferrerIsPresent=function(e){return this.wholeVisitHistory.obtainReferrerIsPresent(e)};e.obtainNumberConversions=function(e){var t=this.wholeVisitHistory.conversionCountByGoalId[e];return null==t?0:t};e.obtainMeanPageDuration=function(){var e=new Date;var t=Kameleoon.OnlineMeanAndDeviation.createFromDifferences(this.wholeVisitHistory.timesStartedPages,!1,!0,!0);t.update([e.getTime()-this.wholeVisitHistory.timesStartedPages[this.wholeVisitHistory.timesStartedPages.length-1]]);return t.mean[0]};e.obtainExperimentNumberActivations=function(e,t,i,n){return Kameleoon.Visit.computeContainerNumberActivations(e,t,i,n,this.timesByVariationIdByExperimentId)};e.obtainPersonalizationNumberActivations=function(e,t,i,n){return Kameleoon.Visit.computeContainerNumberActivations(e,t,i,n,this.timesByVariationIdByPersonalizationId)};e.obtainPageNumberViews=function(e,t,i,n){var a=0;for(var r in this.timesByPageHref){if(null!=r){var o=Kameleoon.Utils.computeRelativeURL(r);null!=e&&!e.test(r)&&!e.test(o)||null!=t&&(t.test(r)||t.test(o))||(a+=Kameleoon.Visit.computeObjectNumberPresence(i,n,this.timesByPageHref[r]))}}return a}}};Kameleoon.VisitHistory={create:function(e){var t={};t.timesStartedPages=[];t.timesReferrers=[];t.timesSearches=[];t.keyPages=[];t.searchesNumberResults=[];t.searchesFollowed=[];t.timeLastActivity=e;t.timeLastInactivity=e;t.referrers=[];t.keyWords=[];t.freshByActiveInterest={};t.maxTabCount=null;t.numberClicks=null;t.temperature=null;t.humidity=null;t.pressure=null;t.windSpeed=null;t.cloudiness=null;t.countByValueByCustomDatum={};t.conversionCountByGoalId={};t.revenueCountByGoalId={};this.createBinds(t);return t},createCopy:function(e){var t={};t.timesStartedPages=e.timesStartedPages.slice(0);t.timesReferrers=e.timesReferrers.slice(0);t.timesSearches=e.timesSearches.slice(0);t.keyPages=[];for(var i=0;i<e.keyPages.length;i++){t.keyPages.push(e.keyPages[i].slice(0))}t.searchesNumberResults=e.searchesNumberResults.slice(0);t.searchesFollowed=e.searchesFollowed.slice(0);t.timeLastActivity=e.timeLastActivity;t.timeLastInactivity=e.timeLastInactivity;t.referrers=[];for(var i=0;i<e.referrers.length;i++){t.referrers.push(e.referrers[i].slice(0))}t.keyWords=[];for(var i=0;i<e.keyWords.length;i++){t.keyWords.push(e.keyWords[i].slice(0))}t.freshByActiveInterest={};for(var i in e.freshByActiveInterest){t.freshByActiveInterest[i]=e.freshByActiveInterest[i]}t.maxTabCount=e.maxTabCount;t.numberClicks=e.numberClicks;t.temperature=e.temperature;t.humidity=e.humidity;t.pressure=e.pressure;t.windSpeed=e.windSpeed;t.cloudiness=e.cloudiness;t.countByValueByCustomDatum={};for(var n in e.countByValueByCustomDatum){t.countByValueByCustomDatum[n]={};for(var a in e.countByValueByCustomDatum[n]){t.countByValueByCustomDatum[n][a]=e.countByValueByCustomDatum[n][a]}}t.conversionCountByGoalId={};for(var i in e.conversionCountByGoalId){t.conversionCountByGoalId[i]=e.conversionCountByGoalId[i]}t.revenueCountByGoalId={};for(var i in e.revenueCountByGoalId){t.revenueCountByGoalId[i]=e.revenueCountByGoalId[i]}this.createBinds(t);return t},convertVisitHistoryFromStoredData:function(i,e,t){var n=function(e,t){i[e]=void 0===i[e]?t:i[e]}.bind(this);n(\"timesStartedPages\",[]);n(\"timesReferrers\",[]);n(\"timesSearches\",[]);n(\"keyPages\",[]);var a=i.timesSearches.length;var r=[];var o=[];for(var s=0;s<a;s++){r[s]=0;o[s]=!1}n(\"searchesNumberResults\",r);n(\"searchesFollowed\",o);n(\"timeLastActivity\",0);n(\"timeLastInactivity\",0);n(\"referrers\",[]);n(\"keyWords\",[]);n(\"freshByActiveInterest\",{});n(\"maxTabCount\",null);n(\"numberClicks\",null);n(\"temperature\",null);n(\"humidity\",null);n(\"pressure\",null);n(\"windSpeed\",null);n(\"cloudiness\",null);n(\"countByValueByCustomDatum\",null);if(null==i.countByValueByCustomDatum){i.countByValueByCustomDatum={};n(\"valueByCustomDatum\",{});for(var l in i.valueByCustomDatum){i.countByValueByCustomDatum[l]={};i.countByValueByCustomDatum[l][i.valueByCustomDatum[l]]=1}delete i.valueByCustomDatum}n(\"conversionCountByGoalId\",null);null==i.conversionCountByGoalId&&(i.conversionCountByGoalId=null==e?{}:e);n(\"revenueCountByGoalId\",null);null==i.revenueCountByGoalId&&(i.revenueCountByGoalId=null==t?{}:t);this.createBinds(i)},convertVisitHistoryFromServer:function(e){this.createBinds(e)},createBinds:function(e){0==e.numberClicks&&(e.numberClicks=null);e.addPage=function(e,t,i){this.timesStartedPages.push(e);this.keyPages.push(t);var n=[];for(var a=0,r=i.length;a<r;++a){var o=i[a];null!=o&&n.push(o)}if(n.length>0){this.timesReferrers.push(e);this.referrers.push(n)}};e.addActivity=function(e,t){t?this.timeLastActivity=e:this.timeLastInactivity=e};e.addSearch=function(e,t,i,n){this.timesSearches.push(e);this.keyWords.push(t);this.searchesNumberResults.push(i);this.searchesFollowed.push(n)};e.addConversions=function(e,t,i){var n=this.conversionCountByGoalId[e];null==n&&(n=0);var a=n+t;if(a>0){this.conversionCountByGoalId[e]=a;var r=this.revenueCountByGoalId[e];null==r&&(r=0);var o=r+i;o>0?this.revenueCountByGoalId[e]=o:delete this.revenueCountByGoalId[e]}else{delete this.conversionCountByGoalId[e];delete this.revenueCountByGoalId[e]}};e.addInterests=function(e,t){for(var i=0,n=e.length;i<n;i++){var a=e[i];var r=this.freshByActiveInterest[a];null==r&&(r=!1);this.freshByActiveInterest[a]=r||t}};e.addTabCount=function(e){(null==this.maxTabCount||e>this.maxTabCount)&&(this.maxTabCount=e)};e.addNumberClicks=function(e){if(e>0){null==this.numberClicks&&(this.numberClicks=0);this.numberClicks+=e}};e.addWeather=function(e,t,i,n,a){null==this.temperature&&(this.temperature=e);null==this.humidity&&(this.humidity=t);null==this.pressure&&(this.pressure=i);null==this.windSpeed&&(this.windSpeed=n);null==this.cloudiness&&(this.cloudiness=a)};e.addCustomData=function(e,t,i){if(Kameleoon.Utils.testEmptyMap(t)){i&&delete this.countByValueByCustomDatum[e]}else{(i||null==this.countByValueByCustomDatum[e])&&(this.countByValueByCustomDatum[e]={});for(var n in t){this.countByValueByCustomDatum[e][n]=(this.countByValueByCustomDatum[e][n]||0)+t[n]}}};e.obtainKeyPageIsVisited=function(e){for(var t=0,i=this.keyPages.length;t<i;t++){var n=this.keyPages[t];for(var a=0,r=n.length;a<r;a++){if(e==n[a]){return!0}}}return!1};e.obtainKeyWordIsSearched=function(e){for(var t=0,i=this.keyWords.length;t<i;t++){var n=this.keyWords[t];for(var a=0,r=n.length;a<r;a++){if(e==n[a]){return!0}}}return!1};e.obtainInterestIsActive=function(e,t){if(null==t){return null!=this.freshByActiveInterest[e]}return this.freshByActiveInterest[e]==t};e.obtainReferrerIsPresent=function(e){var t=null==e?null:e+1;for(var i=0,n=this.referrers.length;i<n;i++){var a=this.referrers[i];for(var r=0,o=a.length;r<o;r++){if(a[r]==t){return!0}}}return!1}}};Kameleoon.OnlineMeanAndDeviation={create:function(e){var t={};t.dimension=e;t.mean=[];t.nbUpdates=[];t.m2=[];t.deviation=[];for(var i=0;i<e;++i){t.mean[i]=0;t.nbUpdates[i]=0;t.m2[i]=0;t.deviation[i]=0}this.createBinds(t);return t},createFromDifferences:function(e,t,i,n){var a=this.create(1);var r=e.length;var o=0;if(o<r){var s=e[o];o++;while(o<r){var l=e[o];o++;var u=l-s;(u<0&&t||0==u&&i||u>0&&n)&&a.update([u]);s=l}}return a},createFromValues:function(e){var t=this.create(1);for(var i=0,n=e.length;i<n;i++){t.update([e[i]])}return t},createFromBooleanValues:function(e){var t=this.create(1);for(var i=0,n=e.length;i<n;i++){t.update([e[i]?1:0])}return t},createBinds:function(e){e.update=function(e,t){null==t&&(t=1);if(t>0){for(var i=0;i<this.dimension;++i){if(!isNaN(e[i])&&isFinite(e[i])){var n=this.mean[i]-e[i];var a=this.nbUpdates[i]+t;this.m2[i]=this.m2[i]+n/a*n*this.nbUpdates[i]*t;this.deviation[i]=Math.sqrt(this.m2[i]/a);this.mean[i]=this.mean[i]/a*this.nbUpdates[i]+e[i]/a*t;this.nbUpdates[i]=a}}}}}};\nKameleoon.Internals = {\"configuration\":{\"siteCode\":\"h4cvfnxcph\",\"memberCode\":\"0\",\"abtestingSetup\":true,\"EDITOR_HOST_NAME\":\"editor\",\"BACK_OFFICE_HOST_NAME\":\"back-office\",\"STATIC_HOST_NAME\":\"static\",\"STATIC_DIRECT_HOST_NAME\":\"static-direct\",\"PROXY_HOST_NAME\":\"proxy\",\"API_HOST_NAME\":\"api\",\"DOMAIN\":\"kameleoon.com\",\"environment\":\"PRODUCTION\",\"QOOXDOO_ESTIMATED_LOADING_TIME\":2000,\"SERVER_CALL_ESTIMATED_LOADING_TIME\":500,\"GUI_ESTIMATED_LOADING_TIME\":3000,\"BASE_EDITOR_URL\":\"//static.kameleoon.com/js/editor/\",\"IFRAME_ORIGIN\":\"https://h4cvfnxcph.kameleoon.eu\",\"variations\":[{\"id\":\"reference\",\"name\":\"Reference\",\"builtCssCodeLevel2\":\"\",\"elementSets\":[]}],\"experiments\":[],\"pausedExperiments\":[],\"personalizations\":[],\"goals\":[{\"id\":131487,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-6\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":136435,\"mentalistWeight\":0.0,\"name\":\"nl-form-save-less-prd\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":131482,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-1\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":133251,\"mentalistWeight\":0.0,\"name\":\"click\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":136436,\"mentalistWeight\":0.0,\"name\":\"nl-form-save-equal-prd\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":131486,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-5\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":136431,\"mentalistWeight\":0.0,\"name\":\"nl-click-btn-prd\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":136434,\"mentalistWeight\":0.0,\"name\":\"nl-form-save-more-prd\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":95543,\"mentalistWeight\":0.0,\"name\":\"Engagement\",\"type\":\"ENGAGEMENT\",\"multipleConversions\":false},{\"id\":131484,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-3\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":131483,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-2\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":131456,\"mentalistWeight\":0.0,\"name\":\"c2c-under-player-recommendation-item\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":131485,\"mentalistWeight\":0.0,\"name\":\"c2c-upr-item-4\",\"type\":\"CUSTOM\",\"multipleConversions\":false},{\"id\":136432,\"mentalistWeight\":0.0,\"name\":\"nl-form-save-primary-prd\",\"type\":\"CUSTOM\",\"multipleConversions\":false}],\"personalizationsDeviation\":0.9,\"personalizationSetup\":false,\"boLocale\":\"FRENCH\",\"weather\":null,\"weatherForecast\":null,\"weatherHistory\":null,\"geolocation\":null,\"ip\":false,\"useLocalStorage\":true,\"checkTestedTrafficActive\":false,\"localDataLegalControl\":\"OFF\",\"localDataConsentCookieName\":null,\"globalScript\":\"try{var kameleoonEventsTracker=[];var createEventTracking=function(d,b){var a=function(){if(!Kameleoon.Internals.runtime.touchMoveEvent){Kameleoon.API.processConversion(b.id)}};for(var c=0;c<d.length;++c){Kameleoon.Utils.addEventListener(d[c],Kameleoon.Internals.runtime.mouseDownEvent,a,true)}};var kameleoonIntervalId=Kameleoon.Utils.setInterval(function(){for(var a=kameleoonEventsTracker.length-1;a>=0;--a){var b=Kameleoon.Utils.querySelectorAll(kameleoonEventsTracker[a].selector);if(b.length>0){createEventTracking(b,kameleoonEventsTracker[a]);kameleoonEventsTracker.splice(a,1)}}if(kameleoonEventsTracker.length==0){window.clearInterval(kameleoonIntervalId)}},250)}catch(exception){console.log(\\\"An error occurred in your custom JavaScript Kameleoon tracking function, please check your code.\\\");console.log(exception,exception.message)};\",\"maxNumberLocalVisits\":25,\"staticURL\":\"//static.kameleoon.eu/\",\"kameleoonByteLength\":null,\"trackerNodeCodes\":[\"01\",\"02\",\"03\",\"04\"],\"trackerNodeNumberLogParsers\":[6,6,6,6],\"trackingMode\":\"none\",\"trackerExcludedIPRanges\":[],\"scriptProduceTime\":1553870356826}};\nKameleoon.Internals.configuration.Gatherer = \"eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZW5hYmxlSW1hZ2VzRGV0ZWN0aW9uQ2FjaGVUaW1lb3V0Q29tcHV0YXRpb24iOmZhbHNlLCJkaXJlY3ROb25lUmVmZXJyZXJPbmx5Rmlyc3QiOmZhbHNlLCJ0cmFjayI6dHJ1ZSwiZHJvcFJhdGUiOjAuMCwiY3VzdG9tU2NyaXB0QmVmb3JlIjoiIiwiaW50ZXJlc3RzIjpbXSwiaW50ZXJlc3RzSW1hZ2VzTGlzdHMiOltdLCJpbnRlcmVzdHNJbWFnZXNMaXN0c0ZpbGVVcmwiOm51bGwsInRpbWVab25lR3JvdXBzIjpbXSwibGFuZ3VhZ2VzIjpbXSwiYnJvd3NlcnMiOlt7Im5hbWUiOiJDSFJPTUUiLCJkaXNhYmxlZCI6ZmFsc2V9LHsibmFtZSI6IkVYUExPUkVSIiwiZGlzYWJsZWQiOmZhbHNlfSx7Im5hbWUiOiJGSVJFRk9YIiwiZGlzYWJsZWQiOmZhbHNlfSx7Im5hbWUiOiJTQUZBUkkiLCJkaXNhYmxlZCI6ZmFsc2V9LHsibmFtZSI6Ik9QRVJBIiwiZGlzYWJsZWQiOmZhbHNlfV0sIm9zcyI6W3sibmFtZSI6IldJTkRPV1MiLCJkaXNhYmxlZCI6ZmFsc2V9LHsibmFtZSI6Ik1BQyIsImRpc2FibGVkIjpmYWxzZX0seyJuYW1lIjoiSU9TIiwiZGlzYWJsZWQiOmZhbHNlfSx7Im5hbWUiOiJMSU5VWCIsImRpc2FibGVkIjpmYWxzZX0seyJuYW1lIjoiQU5EUk9JRCIsImRpc2FibGVkIjpmYWxzZX0seyJuYW1lIjoiV0lORE9XUyBQSE9ORSIsImRpc2FibGVkIjpmYWxzZX1dLCJhbGlhc1NpdGVzIjpbXSwibm9SZWZlcnJlclBhZ2VzIjpbXSwicmVmZXJyZXJzIjpbeyJuYW1lIjoiR29vZ2xlIEFkV29yZHMiLCJ0YWciOiJBZCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuZ29vZ2xlKFxcLmNvbT8pP1xcLlteL1xcLl0rL2FjbGsoW1xcPyYjXS4qfCkkIn0seyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJVUkxfUkVHRVgiLCJhbmQiOmZhbHNlLCJhbmRQYXJhbWV0ZXJzIjoiIiwicGFyYW1ldGVycyI6IltcXD8mI11nY2xpZD0ifV19LHsibmFtZSI6Ikdvb2dsZSBPcmdhbmljIFNlYXJjaCIsInRhZyI6Ik9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvKD8hYWNsa3xpbWdyZXMpLipbXFw/JiNdcT0uKihbXFw/JiNdLip8KSQifSx7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvPyQifV19LHsibmFtZSI6IkJpbmcgT3JnYW5pYyBTZWFyY2giLCJ0YWciOiJPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmluZ1xcLlteL1xcLl0rLy4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn1dfSx7Im5hbWUiOiJZYWhvbyBPcmdhbmljIFNlYXJjaCIsInRhZyI6Ik9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC55YWhvb1xcLlteL1xcLl0rLy4qW1xcPyYjXXA9LiooW1xcPyYjXS4qfCkkIn1dfSx7Im5hbWUiOiJCYWlkdSBPcmdhbmljIFNlYXJjaCIsInRhZyI6Ik9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5iYWlkdVxcLlteL1xcLl0rLy4qW1xcPyYjXXdkPS4qKFtcXD8mI10uKnwpJCJ9XX1dLCJrZXlQYWdlcyI6W3sibmFtZSI6IkhvbWUgQXV2aW8iLCJtYXRjaFR5cGUiOiJBVExFQVNUIiwicHJlY2lzZURhdGUiOm51bGwsInJlbGF0aXZlVVJMUmVnRXhwIjoiXFwvYXV2aW9cXC8iLCJzZWNvbmRNYXRjaFR5cGUiOiJBTExWSVNJVFNDT01CSU5FRCIsInRpbWVzQ291bnQiOjB9LHsibmFtZSI6IkhvbWUgU3BvcnQiLCJtYXRjaFR5cGUiOiJBVExFQVNUIiwicHJlY2lzZURhdGUiOm51bGwsInJlbGF0aXZlVVJMUmVnRXhwIjoiXFwvc3BvcnRcXC8iLCJzZWNvbmRNYXRjaFR5cGUiOiJBTExWSVNJVFNDT01CSU5FRCIsInRpbWVzQ291bnQiOjB9XSwia2V5V29yZHMiOltdLCJjdXN0b21EYXRhIjpbXX0=\";\n!function(a,b){this[a]=b()}(\"bowser\",function(){var e=true;function c(A){function s(J){var I=A.match(J);return(I&&I.length>1&&I[1])||\"\"}function B(J){var I=A.match(J);return(I&&I.length>1&&I[2])||\"\"}var z=s(/(ipod|iphone|ipad)/i).toLowerCase(),j=/like android/i.test(A),F=!j&&/android/i.test(A),x=/nexus\\s*[0-6]\\s*/i.test(A),G=!x&&/nexus\\s*[0-9]+/i.test(A),v=/CrOS/.test(A),w=/silk/i.test(A),D=/sailfish/i.test(A),y=/tizen/i.test(A),i=/(web|hpw)os/i.test(A),r=/windows phone/i.test(A),C=/SamsungBrowser/i.test(A),E=!r&&/windows/i.test(A),o=!z&&!w&&/macintosh/i.test(A),t=!F&&!D&&!y&&!i&&/linux/i.test(A),m=B(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i),H=s(/version\\/(\\d+(\\.\\d+)?)/i),q=/tablet/i.test(A)&&!/tablet pc/i.test(A),l=!q&&/[^-]mobi/i.test(A),p=/xbox/i.test(A),u;if(/opera/i.test(A)){u={name:\"Opera\",opera:e,version:H||s(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)}}else{if(/opr\\/|opios/i.test(A)){u={name:\"Opera\",opera:e,version:s(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)||H}}else{if(/SamsungBrowser/i.test(A)){u={name:\"Samsung Internet for Android\",samsungBrowser:e,version:H||s(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}}else{if(/coast/i.test(A)){u={name:\"Opera Coast\",coast:e,version:H||s(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)}}else{if(/yabrowser/i.test(A)){u={name:\"Yandex Browser\",yandexbrowser:e,version:H||s(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}}else{if(/ucbrowser/i.test(A)){u={name:\"UC Browser\",ucbrowser:e,version:s(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}}else{if(/mxios/i.test(A)){u={name:\"Maxthon\",maxthon:e,version:s(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}}else{if(/epiphany/i.test(A)){u={name:\"Epiphany\",epiphany:e,version:s(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}}else{if(/puffin/i.test(A)){u={name:\"Puffin\",puffin:e,version:s(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)}}else{if(/sleipnir/i.test(A)){u={name:\"Sleipnir\",sleipnir:e,version:s(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}}else{if(/k-meleon/i.test(A)){u={name:\"K-Meleon\",kMeleon:e,version:s(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}}else{if(r){u={name:\"Windows Phone\",osname:\"Windows Phone\",windowsphone:e};if(m){u.msedge=e;u.version=m}else{u.msie=e;u.version=s(/iemobile\\/(\\d+(\\.\\d+)?)/i)}}else{if(/msie|trident/i.test(A)){u={name:\"Internet Explorer\",msie:e,version:s(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)}}else{if(v){u={name:\"Chrome\",osname:\"Chrome OS\",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}}else{if(/edg([ea]|ios)/i.test(A)){u={name:\"Microsoft Edge\",msedge:e,version:m}}else{if(/vivaldi/i.test(A)){u={name:\"Vivaldi\",vivaldi:e,version:s(/vivaldi\\/(\\d+(\\.\\d+)?)/i)||H}}else{if(D){u={name:\"Sailfish\",osname:\"Sailfish OS\",sailfish:e,version:s(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)}}else{if(/seamonkey\\//i.test(A)){u={name:\"SeaMonkey\",seamonkey:e,version:s(/seamonkey\\/(\\d+(\\.\\d+)?)/i)}}else{if(/firefox|iceweasel|fxios/i.test(A)){u={name:\"Firefox\",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)};if(/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(A)){u.firefoxos=e;u.osname=\"Firefox OS\"}}else{if(w){u={name:\"Amazon Silk\",silk:e,version:s(/silk\\/(\\d+(\\.\\d+)?)/i)}}else{if(/phantom/i.test(A)){u={name:\"PhantomJS\",phantom:e,version:s(/phantomjs\\/(\\d+(\\.\\d+)?)/i)}}else{if(/slimerjs/i.test(A)){u={name:\"SlimerJS\",slimer:e,version:s(/slimerjs\\/(\\d+(\\.\\d+)?)/i)}}else{if(/blackberry|\\bbb\\d+/i.test(A)||/rim\\stablet/i.test(A)){u={name:\"BlackBerry\",osname:\"BlackBerry OS\",blackberry:e,version:H||s(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)}}else{if(i){u={name:\"WebOS\",osname:\"WebOS\",webos:e,version:H||s(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)};/touchpad\\//i.test(A)&&(u.touchpad=e)}else{if(/bada/i.test(A)){u={name:\"Bada\",bada:e,version:s(/dolfin\\/(\\d+(\\.\\d+)?)/i)}}else{if(y){u={name:\"Tizen\",osname:\"Tizen\",tizen:e,version:s(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i)||H}}else{if(/qupzilla/i.test(A)){u={name:\"QupZilla\",qupzilla:e,version:s(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i)||H}}else{if(/chromium/i.test(A)){u={name:\"Chromium\",chromium:e,version:s(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i)||H}}else{if(/chrome|crios|crmo/i.test(A)){u={name:\"Chrome\",chrome:e,version:s(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}}else{if(F){u={name:\"Android\",version:H}}else{if(/safari|applewebkit/i.test(A)){u={name:\"Safari\",safari:e};if(H){u.version=H}}else{if(z){u={name:z==\"iphone\"?\"iPhone\":z==\"ipad\"?\"iPad\":\"iPod\"};if(H){u.version=H}}else{if(/googlebot/i.test(A)){u={name:\"Googlebot\",googlebot:e,version:s(/googlebot\\/(\\d+(\\.\\d+))/i)||H}}else{u={name:s(/^(.*)\\/(.*) /),version:B(/^(.*)\\/(.*) /)}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if(!u.msedge&&/(apple)?webkit/i.test(A)){if(/(apple)?webkit\\/537\\.36/i.test(A)){u.name=u.name||\"Blink\";u.blink=e;u.webkit=e}else{u.name=u.name||\"Webkit\";u.webkit=e}if(!u.version&&H){u.version=H}}else{if(!u.opera&&/gecko\\//i.test(A)){u.name=u.name||\"Gecko\";u.gecko=e;u.version=u.version||s(/gecko\\/(\\d+(\\.\\d+)?)/i)}else{if(u.msedge&&/(apple)?webkit/i.test(A)){if(/(apple)?webkit\\/537\\.36/i.test(A)){u.webkit=e}}}}if(!u.windowsphone&&!u.msedge&&(F||u.silk)){u.android=e}else{if(!u.windowsphone&&!u.msedge&&z){u[z]=e;u.ios=e}else{if(o){u.mac=e}else{if(p){u.xbox=e}else{if(E){u.windows=e}else{if(t){u.linux=e}}}}}}var k=\"\";if(u.windowsphone){k=s(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i)}else{if(z){k=s(/os (\\d+([_\\s]\\d+)*) like mac os x/i);k=k.replace(/[_\\s]/g,\".\")}else{if(F){k=s(/android[ \\/-](\\d+(\\.\\d+)*)/i)}else{if(u.webos){k=s(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i)}else{if(u.blackberry){k=s(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i)}else{if(u.bada){k=s(/bada\\/(\\d+(\\.\\d+)*)/i)}else{if(u.tizen){k=s(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)}}}}}}}if(k){u.osversion=k}var n=k.split(\".\")[0];if(q||G||z==\"ipad\"||(F&&(n==3||(n>=4&&!l)))||u.silk){u.tablet=e}else{if(l||z==\"iphone\"||z==\"ipod\"||F||x||u.blackberry||u.webos||u.bada){u.mobile=e}}if(u.msedge||(u.msie&&u.version>=10)||(u.yandexbrowser&&u.version>=15)||(u.vivaldi&&u.version>=1)||(u.chrome&&u.version>=20)||(u.samsungBrowser&&u.version>=4)||(u.firefox&&u.version>=20)||(u.safari&&u.version>=6)||(u.opera&&u.version>=10)||(u.ios&&u.osversion&&u.osversion.split(\".\")[0]>=6)||(u.blackberry&&u.version>=10.1)||(u.chromium&&u.version>=20)){u.a=e}else{if((u.msie&&u.version<10)||(u.chrome&&u.version<20)||(u.firefox&&u.version<20)||(u.safari&&u.version<6)||(u.opera&&u.version<10)||(u.ios&&u.osversion&&u.osversion.split(\".\")[0]<6)||(u.chromium&&u.version<20)){u.c=e}else{u.x=e}}return u}var f=c(typeof navigator!==\"undefined\"?navigator.userAgent||\"\":\"\");f.test=function(k){for(var l=0;l<k.length;++l){var j=k[l];if(typeof j===\"string\"){if(j in f){return true}}}return false};function g(i){return i.split(\".\").length}function h(k,m){var j=[],l;if(Array.prototype.map){return Array.prototype.map.call(k,m)}for(l=0;l<k.length;l++){j.push(m(k[l]))}return j}function a(i){var j=Math.max(g(i[0]),g(i[1]));var k=h(i,function(l){var m=j-g(l);l=l+new Array(m+1).join(\".0\");return h(l.split(\".\"),function(n){return new Array(20-n.length).join(\"0\")+n}).reverse()});while(--j>=0){if(k[0][j]>k[1][j]){return 1}else{if(k[0][j]===k[1][j]){if(j===0){return 0}}else{return -1}}}}function d(n,l,k){var m=f;if(typeof l===\"string\"){k=l;l=void (0)}if(l===void (0)){l=false}if(k){m=c(k)}var i=\"\"+m.version;for(var j in n){if(n.hasOwnProperty(j)){if(m[j]){return a([i,n[j]])<0}}}return l}function b(k,j,i){return !d(k,j,i)}f.isUnsupportedBrowser=d;f.compareVersions=a;f.check=b;f._detect=c;return f});this.Element&&function(a){a.matches=a.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(b){var e=this,c=(e.parentNode||e.document).querySelectorAll(b),d=-1;while(c[++d]&&c[d]!=e){}return !!c[d]}}(Element.prototype);this.Element&&function(a){a.closest=a.closest||function(b){var c=this;while(c&&c.matches&&!c.matches(b)){c=c.parentNode}return c&&c.matches?c:null}}(Element.prototype);";if(!window.noLocalStorage){messageToPost+="Kameleoon.Internals.configuration.useWideDomainSupport = true;";var externalIframeDataAsString;try{externalIframeDataAsString=JSON.stringify(window.retrieve());eval("window.testExternalIframeData = "+externalIframeDataAsString+";delete window.testExternalIframeData;")}catch(e){externalIframeDataAsString=JSON.stringify({})}messageToPost+=("Kameleoon.Internals.configuration.externalIframeData = "+externalIframeDataAsString+";");var kameleoonFull=sessionStorage.getItem("kameleoonFull");var kameleoonFullTime=sessionStorage.getItem("kameleoonFullTime");if((null!=kameleoonFull)&&(null!=kameleoonFullTime)&&(new Date().getTime()-parseInt(kameleoonFullTime)<12*60*60*1000)){messageToPost+=("Kameleoon.Internals.configuration.kameleoonFull = "+JSON.stringify(kameleoonFull)+";")}}window.parent.postMessage(messageToPost,"*")}if(window.parent.parent){var resultMessage={kameleoonIframeData:{type:"templatePresent",siteCode:"h4cvfnxcph"}};window.parent.parent.postMessage(resultMessage,"*")};	</script></head><body></body></html>